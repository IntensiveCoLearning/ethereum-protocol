# Derick

hi guysï¼Œ my name is Derick and I'm a back-end programmer who loves technology. I'm looking forward to learning about the Ethereum Protocol by attending https://epf.wiki/

## Notes
### 2.24.4.27
#### Attacknetä»‹ç»
- Attacknetæ˜¯ä¸€ä¸ªç”¨äºåœ¨ä»¥å¤ªåŠä¸Šè¿›è¡Œæ··æ²Œå·¥ç¨‹æµ‹è¯•çš„è½¯ä»¶ã€‚å…è®¸æ¨¡æ‹Ÿå„ç§è¾¹ç¼˜æƒ…å†µæµ‹è¯•åœºæ™¯,ä»¥å¤ªåŠDencunåˆ†å‰å‡çº§å’ŒpeerDASç ”ç©¶éƒ½ä½¿ç”¨äº†è¯¥å·¥å…·è¿›è¡Œæµ‹è¯•ã€‚Attacknetçš„ä¸‹ä¸€æ­¥å·¥ä½œé‡ç‚¹æ˜¯å®ç°è‡ªåŠ¨åŒ–æµ‹è¯•,æ— éœ€äººå·¥ç›‘ç£å³å¯è¿è¡Œã€‚

- Attacknetæ”¯æŒé…ç½®å¤šç§ç±»å‹çš„æ•…éšœ,åŒ…æ‹¬ç½‘ç»œå»¶è¿Ÿã€æŠ–åŠ¨ã€ä¸¢åŒ…ã€æ•°æ®åŒ…æŸåã€å¸¦å®½é™åˆ¶ã€ç½‘ç»œåˆ†å‰²ä¸é‡æ–°åŠ å…¥ã€æ—¶é’Ÿåå·®(å¦‚NTPæ•…éšœ)ã€CPUè´Ÿè½½ã€RAMè´Ÿè½½,ä»¥åŠç£ç›˜æ•…éšœã€ç£ç›˜è®¿é—®å»¶è¿Ÿã€I/Oé”™è¯¯ã€æœåŠ¡å´©æºƒ(å³kill)ç­‰ã€‚ç›®å‰æ­£åœ¨å¼€å‘çš„è¿˜æœ‰å†…æ ¸æ•…éšœåŠŸèƒ½ã€‚

æ–‡ç« åˆ—ä¸¾äº†ä¸€äº›åˆæ­¥è®¡åˆ’çš„æµ‹è¯•æ–¹æ¡ˆ,ä¸»è¦å›´ç»•ä»¥ä¸‹ä¸‰ä¸ªå˜é‡:
1. ç½‘ç»œä¸­å®¢æˆ·ç«¯ç»„åˆ 
2. æ··æ²Œæ•…éšœç±»å‹
3. æ··æ²Œæ•…éšœå‚æ•°

æµ‹è¯•ç›®æ ‡åŒ…æ‹¬åˆ†æåœ¨ä¸åŒç½‘ç»œå»¶è¿Ÿã€ä¸¢åŒ…ç‡ã€æ—¶é’Ÿåå·®ç­‰æ•…éšœæƒ…å†µä¸‹,é”™è¿‡çš„åŒºå—æ•°é‡,å¹¶æ‰¾å‡ºå…¶ç›¸å…³æ€§ã€‚æµ‹è¯•è®¡åˆ’å¯¹æ¯ç§æ‰§è¡Œå±‚(EL)å’Œå…±è¯†å±‚(CL)çš„ç»„åˆè¿›è¡Œé‡å¤æµ‹è¯•ã€‚

Attacknetçš„å·¥ä½œåŸç†å¦‚ä¸‹:

1. ä½¿ç”¨Kurtosisç”Ÿæˆä¸€ä¸ªå¼€å‘ç½‘ç»œ(devnet)ç¯å¢ƒ,å¯ä»¥åˆ›å»ºå„ç§ç½‘ç»œæ‹“æ‰‘ç»“æ„ã€‚

2. é€šè¿‡Chaos Meshåœ¨devnetä¸­æ³¨å…¥å„ç§æ•…éšœ,å¦‚ç½‘ç»œå»¶è¿Ÿã€ä¸¢åŒ…ã€æ—¶é’Ÿåå·®ã€èŠ‚ç‚¹å´©æºƒç­‰,å°†åŒºå—é“¾ç½‘ç»œæ¨å‘æç«¯è¾¹ç¼˜æƒ…å†µã€‚ 

3. æ•…éšœç»“æŸå,Attacknetå¯¹ç½‘ç»œä¸­çš„æ¯ä¸ªèŠ‚ç‚¹æ‰§è¡Œä¸€ç³»åˆ—å¥åº·æ£€æŸ¥,ä»¥éªŒè¯å®ƒä»¬æ˜¯å¦èƒ½ä»æ•…éšœä¸­æ¢å¤ã€‚å¦‚æœæ‰€æœ‰èŠ‚ç‚¹éƒ½æ¢å¤äº†,å°±è½¬ç§»åˆ°ä¸‹ä¸€ä¸ªé…ç½®çš„æ•…éšœã€‚å¦‚æœæœ‰èŠ‚ç‚¹æœªé€šè¿‡å¥åº·æ£€æŸ¥,åˆ™ç”Ÿæˆæ—¥å¿—å’Œæµ‹è¯•ä¿¡æ¯çš„æ„ä»¶ä»¥è¿›è¡Œè°ƒè¯•ã€‚

4. Attacknetæ”¯æŒæ‰‹åŠ¨é…ç½®ç½‘ç»œæ‹“æ‰‘å’Œæ•…éšœå‚æ•°çš„æ¨¡å¼,ä»¥åŠé’ˆå¯¹ç‰¹å®šå®¢æˆ·ç«¯è¿è¡Œä¸€ç³»åˆ—æ•…éšœçš„"è®¡åˆ’æ¨¡å¼"ã€‚æœªæ¥è¿˜è®¡åˆ’å¢åŠ ä¸€ä¸ª"æ¢ç´¢æ¨¡å¼",åŠ¨æ€å®šä¹‰æ•…éšœå‚æ•°å¹¶åå¤æ³¨å…¥ç›‘æ§ç½‘ç»œå¥åº·çŠ¶å†µ,ç±»ä¼¼äºæ¨¡ç³Šæµ‹è¯•ã€‚

5. Attacknetç›®å‰æ­£ç”¨äºæµ‹è¯•Dencunç¡¬åˆ†å‰,å¹¶åœ¨ä¸æ–­æ›´æ–°ä»¥æé«˜è¦†ç›–ç‡ã€æ€§èƒ½å’Œè°ƒè¯•ä½“éªŒã€‚å®ƒä¸æ˜¯ä»¥å¤ªåŠç‰¹æœ‰çš„å·¥å…·,è€Œæ˜¯æ¨¡å—åŒ–è®¾è®¡,å¯è½»æ¾æ‰©å±•ä»¥æ”¯æŒå…¶ä»–ç±»å‹çš„åŒºå—é“¾ã€‚



### 2024.4.26
#### ä»¥å¤ªåŠåè®®å‡çº§çš„æµ‹è¯•å’ŒåŸå‹å¼€å‘è¿‡ç¨‹
- é€šè¿‡å­¦ä¹ week 9 dev äº†è§£äº†ä»¥å¤ªåŠåè®®å‡çº§éœ€è¦ç»å†çš„æµ‹è¯•å’ŒåŸå‹å¼€å‘è¿‡ç¨‹ã€‚

1. å¼€å‘ç½‘ç»œ(Devnets):
- ä»¥å¤ªåŠåŸºç¡€å±‚çš„æµ‹è¯•é•œåƒ,åŒ…å«æ‰§è¡Œå±‚ã€å…±è¯†å±‚å’ŒéªŒè¯è€…
- å…è®¸å¼€å‘è€…éƒ¨ç½²åˆ†å‰å’Œå˜æ›´è€Œä¸å½±å“ä¸»ç½‘
- å®Œå…¨å¯æ§çš„éªŒè¯è€…é›†åˆ,å¯è®¾è®¡è¾¹ç¼˜æƒ…å†µåœºæ™¯è¿›è¡Œæµ‹è¯•

2. æœ¬åœ°æµ‹è¯•:
- ä½¿ç”¨Kurtosiså·¥å…·è¿›è¡Œæœ¬åœ°devnetæµ‹è¯•,é€šè¿‡YAMLæ–‡ä»¶é…ç½®å‚æ•°
- å¯å¿«é€Ÿæµ‹è¯•å˜æ›´,æ”¯æŒå¼‚æ­¥å¼€å‘æ–°ç‰¹æ€§
- å¯é…ç½®å‚æ•°å¦‚æ—¶éš™æ—¶é—´ã€å¿«é€Ÿåˆ†å‰ã€MEVå·¥ä½œæµç­‰

3. åŸå‹æµ‹è¯•:
- Kurtosiså…è®¸è¦†ç›–ä¿®æ”¹ç½‘ç»œä¸­çš„ä»»ä½•å†…å®¹ 
- é€šè¿‡æ›¿æ¢å®¢æˆ·ç«¯é•œåƒæ¥æµ‹è¯•åè®®å˜æ›´
- åœ¨ç°æœ‰ç½‘ç»œä¸Šè¿è¡Œå¹¶è¿æ¥æ–°å·¥å…·è¿›è¡Œæµ‹è¯•
- é€šè¿‡ä¿®æ”¹ç½‘ç»œå‚æ•°æ¥æµ‹è¯•å¿«é€Ÿåˆ†å‰

4. å…¬å…±æµ‹è¯•ç½‘:
- å°†åŸºç¡€é€»è¾‘ç§»è‡³é€šç”¨Ansible rolesä¸­
- å°†é€šç”¨ç»„ä»¶æŠ½å–ä¸ºç‹¬ç«‹å·¥å…·,å¦‚åˆ›ä¸–åŒºå—ç”Ÿæˆå™¨
- ä½¿ç”¨GitOpsä½¿å·¥å…·ç‹¬ç«‹äºä»“åº“/æµ‹è¯•ç½‘
- ç»Ÿä¸€æ‰€æœ‰æµ‹è¯•ç½‘çš„é…ç½®

5. å½±å­åˆ†å‰(Shadowforks):
- åœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…æ£€æŸ¥æ‰€æœ‰å®¢æˆ·ç«¯çš„å…¼å®¹æ€§
- å…¨æ–°æµ‹è¯•ç½‘å¯ä»¥è½»æ¾æµ‹è¯•ä¸åŒå®¢æˆ·ç«¯ç»„åˆ
- å½±å­åˆ†å‰åœ¨çœŸå®çŠ¶æ€å’Œäº¤æ˜“è´Ÿè½½ä¸‹å‹æµ‹å®¢æˆ·ç«¯
- å¯æ§åœ°é‚€è¯·å‚ä¸è€…å‚ä¸æµ‹è¯•
- åœ¨å‘å…¬ä¼—æ¨èæ–°ç‰ˆæœ¬å‰,å……å½“çœŸå®ä¸–ç•Œè¾¹ç¼˜æƒ…å†µçš„å‘å¸ƒæµ‹è¯•

6. å…¶ä»–æœ‰ç”¨å·¥å…·:
- Assertoor: æ–­è¨€ç½‘ç»œçº§åˆ«çš„é¢„æœŸè¡Œä¸º
- Forky: ä»¥å¤ªåŠåˆ†å‰é€‰æ‹©å¯è§†åŒ–å·¥å…·  
- Tracoor: ä»¥å¤ªåŠäº¤æ˜“è¿½è¸ªæµè§ˆå™¨
- Dora: è½»é‡çº§ä¿¡æ ‡é“¾æ—¶éš™æµè§ˆå™¨
- Xatu: ä»¥å¤ªåŠP2På±‚å¯è§æ€§åˆ†æå·¥å…·




### 2024.4.25
#### ePBS flavors

Ethereum ç›®å‰æœ‰ä¸¤ç§ä¸»è¦çš„ PBS (Proposer-Builder Separation) æ–¹æ¡ˆ,æ—¨åœ¨æé«˜ç½‘ç»œçš„å»ä¸­å¿ƒåŒ–å’Œå®‰å…¨æ€§:

## 1. ä¸­ç»§è€…/å»ºé€ è€…åˆ†ç¦» (Relayer/Builder Separation, ç®€ç§° RBS)

- åœ¨RBSæ¨¡å‹ä¸­,åŒºå—æè®®è€…(proposer)å’ŒåŒºå—æ„å»ºè€…(builder)çš„è§’è‰²è¢«åˆ†ç¦»ã€‚
- ä¸­ç»§è€…(relayer)ä»å»ºé€ è€…é‚£é‡Œæ”¶é›†åŒºå—,å¹¶å°†å…¶è½¬å‘ç»™æè®®è€…ã€‚æè®®è€…ç„¶åé€‰æ‹©ä¸€ä¸ªåŒºå—,å¯¹å…¶è¿›è¡ŒéªŒè¯å¹¶å°†å…¶æ·»åŠ åˆ°åŒºå—é“¾ä¸­ã€‚
- è¿™ç§åˆ†ç¦»å¯ä»¥é˜²æ­¢æè®®è€…å®¡æŸ¥ç‰¹å®šçš„äº¤æ˜“æˆ–ä½¿ç”¨MEV(æœ€å¤§å¯æå–ä»·å€¼)è·åˆ©ã€‚

## 2. æè®®è€…/å»ºé€ è€…åˆ†ç¦» (Proposer/Builder Separation, ç®€ç§° PBS) 

- ä¸RBSç±»ä¼¼,PBSä¹Ÿå°†åŒºå—æè®®å’Œæ„å»ºèŒè´£åˆ†ç¦»,ä½†æ²¡æœ‰ä¸­ç»§è€…çš„è§’è‰²ã€‚
- å»ºé€ è€…ç›´æ¥å°†åŒºå—æäº¤ç»™æè®®è€…,æè®®è€…è¿›è¡Œé€‰æ‹©å’ŒéªŒè¯ã€‚
- PBSæ—¨åœ¨é€šè¿‡å‡å°‘è§’è‰²å’Œç®€åŒ–æµç¨‹,è¿›ä¸€æ­¥å»ä¸­å¿ƒåŒ–å¹¶æé«˜æ•ˆç‡ã€‚


### 2024.4.24
#### Vç¥æå‡ºçš„å½©è™¹è´¨æŠ¼

Vitalik Buterinåœ¨ETHTaipei 2024æ´»åŠ¨ä¸Šæå‡ºäº†"å½©è™¹è´¨æŠ¼"(Rainbow Staking)çš„æ¦‚å¿µ,è¿™æ˜¯ä¸€ä¸ªå…è®¸åè®®æœåŠ¡æä¾›å•†(æ— è®ºæ˜¯"ä¸ªäºº"è¿˜æ˜¯"ä¸“ä¸š")æœ€å¤§é™åº¦åœ°å‚ä¸å·®å¼‚åŒ–åè®®æœåŠ¡èœå•çš„æ¦‚å¿µæ¡†æ¶ã€‚

å½©è™¹è´¨æŠ¼æ—¨åœ¨è§£å†³ä»¥ä¸‹é—®é¢˜:
- è¿›ä¸€æ­¥æ•´åˆ"å³æ’å³ç”¨"æ–¹å¼çš„åè®®æœåŠ¡
- é˜²æ­¢å‡ºç°å–ä»£ä»¥å¤ªå¸æˆä¸ºç½‘ç»œä»£å¸çš„ä¸»å¯¼æ€§LST(æµåŠ¨æ€§è´¨æŠ¼ä»£å¸)
- é€šè¿‡æä¾›å‚ä¸ä¸åŒæœåŠ¡ç±»åˆ«çš„æœºä¼š,å¢å¼ºä¸ªäººè´¨æŠ¼è€…çš„ç»æµä»·å€¼å’Œä»£ç†æƒ

å½©è™¹è´¨æŠ¼å¤„ç†"é‡è´¨æŠ¼"(heavy staking)å’Œ"è½»è´¨æŠ¼"(light staking)ä¸¤ç±»æœåŠ¡:
- é‡è´¨æŠ¼æ˜¯å¯å‰Šå‡çš„,å¹¶åœ¨æ¯ä¸ªæ—¶éš™ç­¾å
- è½»è´¨æŠ¼æ˜¯ä¸å¯å‰Šå‡çš„,é€šè¿‡æŠ½ç­¾ç³»ç»Ÿè¢«æå–ç­¾åæ—¶éš™
- ä¸¤è€…éƒ½éœ€è¦ç­¾ç½²åŒºå—æ‰èƒ½æœ€ç»ˆç¡®å®šè¯¥åŒºå—

ä½†å½©è™¹è´¨æŠ¼ä»éœ€æ›´å¤šçš„ç ”ç©¶å’Œå¼€å‘,æ‰èƒ½æˆä¸ºä»¥å¤ªåŠé•¿æœŸè´¨æŠ¼çš„å¯è¡Œè®¾è®¡ã€‚VitalikæŒ‡å‡º,æœ€å¤§çš„é—®é¢˜ä¸æ˜¯æŠ€æœ¯æ€§çš„,è€Œæ˜¯å“²å­¦æ€§çš„,å³å¦‚ä½•è®©"æ‡’æƒ°çš„ä»¥å¤ªå¸æŒæœ‰è€…"å‚ä¸ä¿æŠ¤ä»¥å¤ªåŠç½‘ç»œã€‚



### 2024.4.23
#### PEPC (Proposer Efficiency and Privacy with Commit) æœºåˆ¶

- é€šè¿‡å­¦ä¹  https://github.com/eth-protocol-fellows/protocol-studies/blob/pbs/docs/wiki/research/PBS/PEPC.md å†…å®¹ï¼Œäº†è§£åˆ°ä»¥ä¸‹å†…å®¹

1. PEPC æ—¨åœ¨æé«˜åŒºå—æ„å»ºè€…(builders)çš„æ•ˆç‡å’Œéšç§æ€§,åŒæ—¶é˜²æ­¢å®¡æŸ¥ã€‚å®ƒè¦æ±‚åŒºå—æè®®è€…(proposers)å…ˆæäº¤ä¸€ä¸ªæ‰¿è¯º(commitment),ç„¶åå†æŠ«éœ²åŒºå—å†…å®¹ã€‚

2. PEPC çš„å·¥ä½œåŸç†æ˜¯:
   - æ„å»ºè€…ç”Ÿæˆä¸€ä¸ªåŒºå—,å°†å…¶ä¸ä¸€ä¸ªéšæœºæ•°ä¸€èµ·å“ˆå¸Œ,å¾—åˆ°ä¸€ä¸ªæ‰¿è¯ºã€‚
   - æ„å»ºè€…å°†æ‰¿è¯ºå‘é€ç»™æè®®è€…ã€‚æè®®è€…é€‰æ‹©ä¸€ä¸ªæ‰¿è¯º,å°†å…¶åŒ…å«åœ¨ä¿¡æ ‡é“¾åŒºå—ä¸­ã€‚
   - åœ¨ä¸‹ä¸€ä¸ªæ—¶éš™,æ„å»ºè€…æŠ«éœ²åŒºå—å†…å®¹å’Œéšæœºæ•°,è¯æ˜å…¶ä¸å…ˆå‰çš„æ‰¿è¯ºç›¸å¯¹åº”ã€‚

3. PEPC æœ‰å‡ ä¸ªä¼˜ç‚¹:
   - åœ¨æè®®è€…æ²¡æœ‰æŠ«éœ²åŒºå—å†…å®¹çš„æƒ…å†µä¸‹,æ„å»ºè€…å¯ä»¥å¼€å§‹æ„å»ºä¸‹ä¸€ä¸ªåŒºå—,æé«˜äº†æ•ˆç‡ã€‚  
   - æè®®è€…åœ¨æ„å»ºè€…æŠ«éœ²åŒºå—å†…å®¹ä¹‹å‰,æ— æ³•å®¡æŸ¥ç‰¹å®šäº¤æ˜“ã€‚
   - é€šè¿‡ä½¿ç”¨ VDF (Verifiable Delay Function),å¯ä»¥æŠµæŠ— DoS æ”»å‡»ã€‚

4. PEPC çš„ä¸€äº›æƒè¡¡å’Œå¼€æ”¾æ€§é—®é¢˜åŒ…æ‹¬:
   - æ„å»ºè€…åœ¨æŠ«éœ²åŒºå—ä¹‹å‰å¯èƒ½ä¼šæ’¤å›,é€ æˆåŒºå—ä¸¢å¤±ã€‚
   - æ¶æ„æ„å»ºè€…å¯èƒ½ä¼šæäº¤æ— æ•ˆçš„æ‰¿è¯ºã€‚éœ€è¦ä¸€äº›æœºåˆ¶æ¥æƒ©ç½šè¿™ç§è¡Œä¸ºã€‚
   - å®ç° VDF å¯èƒ½å…·æœ‰æŒ‘æˆ˜æ€§ã€‚




### 2024.4.22

#### ä»¥å¤ªåŠä¸­çš„æœ€å¤§å¯æå–ä»·å€¼MEV
> https://ethereum.org/zh/developers/docs/mev/

è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»äº†ä»¥å¤ªåŠä¸­çš„æœ€å¤§å¯æå–ä»·å€¼(MEV)æ¦‚å¿µ:

1. MEVçš„å®šä¹‰: 
MEVæŒ‡é€šè¿‡åœ¨åŒºå—ä¸­åŒ…å«ã€æ’é™¤å’Œæ›´æ”¹äº¤æ˜“é¡ºåºè€Œè·å¾—çš„æœ€å¤§ä»·å€¼ã€‚è¿™äº›æ“ä½œç”±æ‹¥æœ‰äº¤æ˜“æ’åºæƒçš„å‚ä¸è€…(å¦‚çŸ¿å·¥)æ‰§è¡Œã€‚

2. MEVçš„èµ·æº: 
MEVæœ€åˆè¢«ç§°ä¸º"çŸ¿å·¥å¯æå–ä»·å€¼"ï¼Œå› ä¸ºåœ¨å·¥ä½œé‡è¯æ˜ç³»ç»Ÿä¸­ï¼ŒçŸ¿å·¥æ§åˆ¶äº¤æ˜“çš„åŒ…å«å’Œæ’åºã€‚ä½†åœ¨æƒç›Šè¯æ˜ç³»ç»Ÿä¸­ï¼ŒéªŒè¯è€…å’ŒåŒºå—æ„å»ºè€…ä¹Ÿå¯ä»¥æå–MEVï¼Œå› æ­¤ç°åœ¨ç§°ä¸º"æœ€å¤§å¯æå–ä»·å€¼"ã€‚

3. MEVçš„ä¾‹å­:
å¸¸è§çš„MEVæœºä¼šåŒ…æ‹¬DEXå¥—åˆ©ã€æ¸…ç®—ã€å¤¹å¿ƒäº¤æ˜“ç­‰ã€‚æœç´¢è€…ç¼–å†™å¤æ‚ç®—æ³•æ¥æ£€æµ‹ç›ˆåˆ©çš„MEVæœºä¼šã€‚

4. MEVçš„å½±å“:
MEVæœ‰ç§¯æå’Œæ¶ˆæçš„å½±å“ã€‚ç§¯æçš„æ˜¯ï¼ŒMEVå¯ä»¥ä½¿DeFiåè®®æ›´åŠ ç¨³å®šå’Œæœ‰ç”¨ã€‚æ¶ˆæçš„æ˜¯ï¼ŒMEVå¯èƒ½å¯¼è‡´ç½‘ç»œæ‹¥å¡ã€ç”¨æˆ·ä½“éªŒå˜å·®ã€å…±è¯†ä¸ç¨³å®šç­‰é—®é¢˜ã€‚

5. MEVçš„çŠ¶å†µ:
2021å¹´MEVå¼€é‡‡é‡å‰§å¢ï¼Œå¯¼è‡´çŸ¿å·¥è´¹ä»·æ ¼æé«˜ã€‚Flashbotsçš„MEVä¸­ç»§çš„å‡ºç°ï¼Œé™ä½äº†æ™®é€šæŠ¢è·‘è€…çš„æ•ˆåŠ›ï¼Œå¹¶å°†çŸ¿å·¥è´¹ä»·æ ¼æ‹å–å¸¦å‡ºé“¾å¤–ï¼Œé™ä½äº†æ™®é€šç”¨æˆ·çš„çŸ¿å·¥è´¹ã€‚

6. æƒç›Šè¯æ˜ä¸‹çš„MEV:
åœ¨æƒç›Šè¯æ˜ç³»ç»Ÿä¸‹ï¼ŒåŒºå—ç”Ÿäº§è¢«åˆ†æˆæ„å»º(ç”±åŒºå—æ„å»ºè€…å®Œæˆ)å’Œæè®®(ç”±éªŒè¯è€…å®Œæˆ)ã€‚æ„å»ºè€…è´Ÿè´£æ‰“åŒ…äº¤æ˜“ï¼Œå¯ä»¥ä»MEVä¸­è·åˆ©ã€‚ä¸­ç»§è€…è´Ÿè´£å°†äº¤æ˜“åŒ…ä¼ é€ç»™æè®®è€…ã€‚æ‰˜ç®¡è´Ÿè´£å­˜å‚¨æ„å»ºè€…å‘é€çš„åŒºå—ä½“å’ŒéªŒè¯è€…å‘é€çš„åŒºå—å¤´ã€‚



### 2024.4.21

##### ä»¥å¤ªåŠå…±è¯†å®¢æˆ·ç«¯teku

## ä»¥å¤ªåŠ Teku æ¶æ„è¯¦è§£

Teku æ˜¯ç”± ConsenSys å¼€å‘çš„å¼€æºä»¥å¤ªåŠå…±è¯†å®¢æˆ·ç«¯ï¼ŒåŒ…å«å®Œæ•´çš„ä¿¡æ ‡é“¾èŠ‚ç‚¹å’ŒéªŒè¯è€…å®¢æˆ·ç«¯å®ç°ã€‚å®ƒé‡‡ç”¨ Java ç¼–å†™ï¼Œå¹¶ä»¥ Apache 2.0 è®¸å¯è¯å‘å¸ƒã€‚

### Teku çš„ä¸»è¦ç»„ä»¶

1. **ä¿¡æ ‡èŠ‚ç‚¹ (Beacon Node):** ä¿¡æ ‡èŠ‚ç‚¹æ˜¯ Teku çš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ã€‚å®ƒè¿æ¥åˆ°ä»¥å¤ªåŠ 2.0 ç½‘ç»œï¼Œè´Ÿè´£åŒæ­¥å’ŒéªŒè¯åŒºå—ï¼Œå¹¶ç»´æŠ¤æœ€æ–°çš„ç½‘ç»œçŠ¶æ€ã€‚

2. **éªŒè¯è€…å®¢æˆ·ç«¯ (Validator Client):** éªŒè¯è€…å®¢æˆ·ç«¯è´Ÿè´£ç®¡ç†éªŒè¯è€…çš„å¯†é’¥å’Œç­¾åæ“ä½œã€‚å®ƒä¸ä¿¡æ ‡èŠ‚ç‚¹é€šä¿¡ï¼Œæ ¹æ®ä¿¡æ ‡é“¾çš„çŠ¶æ€å‚ä¸è¯æ˜æƒç›Šå…±è¯†è¿‡ç¨‹ã€‚

3. **å­˜å‚¨:** Teku ä½¿ç”¨ LevelDB ä½œä¸ºåº•å±‚å­˜å‚¨ï¼Œç”¨äºå­˜å‚¨åŒºå—ã€çŠ¶æ€å’Œå…¶ä»–é“¾æ•°æ®ã€‚

4. **ç½‘ç»œ:** Teku ä½¿ç”¨ libp2p ç½‘ç»œåº“ä¸å…¶ä»–èŠ‚ç‚¹é€šä¿¡ï¼Œå¹¶å®ç°äº†ä»¥å¤ªåŠ 2.0 çš„ç½‘ç»œåè®®ã€‚

5. **å…±è¯†:** Teku å®ç°äº†ä»¥å¤ªåŠ 2.0 çš„ Gasper å…±è¯†ç®—æ³•ï¼ŒåŒ…æ‹¬ Casper FFG å’Œ LMD GHOSTã€‚

6. **API:** Teku æä¾›äº† REST API å’Œ JSON-RPC APIï¼Œå…è®¸å¤–éƒ¨åº”ç”¨ç¨‹åºä¸ä¹‹äº¤äº’ã€‚

### Teku çš„åŒæ­¥æ¨¡å¼

Teku æ”¯æŒå¤šç§åŒæ­¥æ¨¡å¼ï¼Œä»¥é€‚åº”ä¸åŒçš„ä½¿ç”¨åœºæ™¯å’Œæ€§èƒ½è¦æ±‚:

1. **å¿«ç…§åŒæ­¥ (Snap Sync):** è¿™æ˜¯ Teku çš„é»˜è®¤åŒæ­¥æ¨¡å¼ã€‚å®ƒä»ä¸€ä¸ªå¯ä¿¡çš„æ£€æŸ¥ç‚¹å¼€å§‹åŒæ­¥ï¼Œå¹¶ä¸‹è½½æœ€æ–°çš„çŠ¶æ€å¿«ç…§ï¼Œä»¥å¿«é€ŸåŒæ­¥åˆ°ç½‘ç»œçš„å½“å‰çŠ¶æ€ã€‚

2. **å®Œå…¨åŒæ­¥ (Full Sync):** åœ¨å®Œå…¨åŒæ­¥æ¨¡å¼ä¸‹ï¼ŒTeku ä»åˆ›ä¸–åŒºå—å¼€å§‹åŒæ­¥ï¼Œå¹¶é€ä¸ªéªŒè¯æ¯ä¸ªåŒºå—ï¼Œä»¥å»ºç«‹å®Œæ•´çš„åŒºå—é“¾çŠ¶æ€ã€‚

3. **å½’æ¡£åŒæ­¥ (Archive Sync):** å½’æ¡£åŒæ­¥ç±»ä¼¼äºå®Œå…¨åŒæ­¥ï¼Œä½†å®ƒä¼šå­˜å‚¨æ‰€æœ‰çš„å†å²çŠ¶æ€ï¼Œè€Œä¸ä»…ä»…æ˜¯æœ€æ–°çš„çŠ¶æ€ã€‚

### Teku çš„å¯æ‰©å±•æ€§å’Œå®‰å…¨æ€§

- Teku åœ¨è®¾è®¡æ—¶è€ƒè™‘äº†å¯æ‰©å±•æ€§å’Œå®‰å…¨æ€§ã€‚å®ƒæ”¯æŒå•ç‹¬è¿è¡Œä¿¡æ ‡èŠ‚ç‚¹å’ŒéªŒè¯è€…å®¢æˆ·ç«¯ï¼Œä»¥æé«˜å®‰å…¨æ€§ã€‚Teku è¿˜ä¸ Web3Signer é›†æˆï¼Œä»¥å®ç°ç­¾åå¯†é’¥çš„å®‰å…¨å­˜å‚¨å’Œé˜²åŒç­¾ä¿æŠ¤ã€‚æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡ã€æ¶æ„è‰¯å¥½çš„ä»¥å¤ªåŠ 2.0 å®¢æˆ·ç«¯ã€‚å®ƒæä¾›äº†çµæ´»çš„éƒ¨ç½²é€‰é¡¹ã€å¤šç§åŒæ­¥æ¨¡å¼ä»¥åŠä¸ä»¥å¤ªåŠç”Ÿæ€ç³»ç»Ÿçš„æ— ç¼é›†æˆï¼Œæ˜¯æœºæ„çº§ç”¨æˆ·å’Œä¼ä¸šçš„ç†æƒ³é€‰æ‹©ã€‚



### 2024.4.20

#### Study Group Week 7 | Verkle Trees

> å…³äºverkleæ ‘çš„å­¦ä¹ ï¼Œå·²ç»åœ¨week3 ä¸­æœ‰è¿‡æ€»ç»“ ï¼Œåœ¨æ­¤åªè®°å½•ä¸‹è§†é¢‘ä¸­æåˆ°çš„å¦‚ä½•å°†ä»¥å¤ªåŠçŠ¶æ€è½¬æ¢ä¸ºverkleæ ‘çš„è¿‡ç¨‹ã€‚
> Converting the Ethereum state into a Verkle tree is a complex process with ongoing research. Here's a breakdown of the key aspects:

**Challenges:**

* **Data Size:** The Ethereum state is massiveï¼Œ and converting it all at once is impractical. The process needs to be batched and optimized for efficiency.
* **State Updates:**  Ethereum is constantly evolvingï¼Œ with new data added and existing data modified through transactions. The conversion needs to account for these ongoing updates.
* **Trade-offs:** While Verkle trees offer efficiency benefitsï¼Œ there might be trade-offs in terms of complexity and gas costs for specific operations compared to the current Merkle Patricia Trie (MPT).

**General Steps (Conceptual):**

1. **Preparation:** Identify a starting point (block) and determine the size of data batches for conversion.
2. **Iterative Conversion:** 
    * Extract a batch of state data from the existing MPT.
    * Process the data and organize it according to the Verkle tree structure. This involves hashing and creating Merkle proofs.
    * Store the Verkle tree representation of the batch.
3. **State Updates:** 
    * As new transactions occurï¼Œ update the corresponding sections in the Verkle tree efficiently. This might involve partial updates or witness creation.
4. **Verification:** Implement mechanisms to verify the integrity of the Verkle tree data.


### 2024.4.19

#### äº†è§£ä»¥å¤ªåŠçš„EL Client Reth

##### What are the goals of Reth?

1. Modularity

- Every component of Reth is built to be used as a library: well-testedï¼Œ heavily documented and benchmarked. We envision that developers will import the node's cratesï¼Œ mix and matchï¼Œ and innovate on top of them.

- Examples of such usage includeï¼Œ but are not limited toï¼Œ spinning up standalone P2P networksï¼Œ talking directly to a node's databaseï¼Œ or "unbundling" the node into the components you need.

- To achieve thatï¼Œ we are licensing Reth under the Apache/MIT permissive license.

2. Performance

- Reth aims to be fastï¼Œ so we used Rust and the Erigon staged-sync node architecture.

- We also use our Ethereum libraries (including Alloy and revm) which weâ€™ve battle-tested and optimized via Foundry.

3. Free for anyone to use any way they want

- Reth is free open source softwareï¼Œ built for the communityï¼Œ by the community.

- By licensing the software under the Apache/MIT licenseï¼Œ we want developers to use it without being bound by business licensesï¼Œ or having to think about the implications of GPL-like licenses.

4. Client Diversity

- The Ethereum protocol becomes more antifragile when no node implementation dominates. This ensures that if there's a software bugï¼Œ the network does not finalize a bad block. By building a new clientï¼Œ we hope to contribute to Ethereum's antifragility.

5. Used by a wide demographic

- We want to solve for node operators that care about fast historical queriesï¼Œ but also for hobbyists who cannot operate on large hardware.

- We also want to support teams and individuals who want both sync from genesis and via "fast sync".

- We envision that Reth will be configurable enough for the tradeoffs that each team faces.


### 2024.4.18

#### æ•°æ®åˆ†ç‰‡å’ŒDASææ¡ˆè§£é‡Š
ä»Šå¤©å­¦ä¹ äº†vç¥å‘å¸ƒçš„ä¸€ç¯‡[æ–‡ç« ](https://hackmd.io/@vbuterin/sharding_proposal)ï¼Œæ˜¯ä¸€ä»½ææ¡ˆï¼Œè¯¥ææ¡ˆä½¿ç”¨ä¾§é‡æ•°æ®å¯ç”¨æ€§çš„æ–¹æ³•æ¥æ„å»ºä»¥å¤ªåŠåˆ†ç‰‡å®ç°çš„ç¬¬ 1 é˜¶æ®µã€‚

1. ä¿¡æ ‡é“¾çš„ä¸»è¦æ–°å¢å†…å®¹å°†æ˜¯ä¸€ä¸ª ShardDataHeader å¯¹è±¡çš„å‘é‡ï¼Œæ¯ä¸ªåˆ†ç‰‡ä¸€ä¸ªã€‚ShardDataHeader è¡¨ç¤ºå¤§é‡çš„åº•å±‚æ•°æ®(å¤§å°ä¸º 0-512 kB)ã€‚

2. åªæœ‰å½“ ShardDataHeader æ‰€æŒ‡å‘çš„åº•å±‚æ•°æ®å¯ç”¨æ—¶ï¼ŒåŒºå—æ‰æœ‰æ•ˆï¼Œè¿™æ„å‘³ç€å®ƒå·²ç»å‘å¸ƒåˆ°ç½‘ç»œä¸Šï¼Œä»»ä½•äººéƒ½å¯ä»¥ä¸‹è½½ã€‚

3. ä¸ºäº†ä¿æŒå¯æ‰©å±•æ€§ï¼Œå®¢æˆ·ç«¯åœ¨éªŒè¯åŒºå—æ—¶ä¸ä¼šä¸‹è½½æ¯ä¸ª ShardDataHeader çš„å®Œæ•´åº•å±‚æ•°æ®ã€‚ç›¸åï¼Œä»–ä»¬å°†ä½¿ç”¨ä¸€ç§ç§°ä¸ºæ•°æ®å¯ç”¨æ€§æŠ½æ ·çš„é—´æ¥æŠ€æœ¯æ¥éªŒè¯æ•°æ®å¯ç”¨æ€§ã€‚

4. æ–‡ç« è¿˜è®¨è®ºäº†ä¸åˆ†ç‰‡å®ç°ç›¸å…³çš„ä¸€äº›å‚æ•°ï¼Œä¾‹å¦‚åˆ†ç‰‡æ•°é‡ã€æ¯ä¸ª epoch çš„æ§½ä½æ•°ä»¥åŠæ¯ä¸ªå§”å‘˜ä¼šå‘¨æœŸçš„æ§½ä½æ•°ã€‚

æå‡ºäº†ä¸€ç§ä¾§é‡æ•°æ®å¯ç”¨æ€§çš„æ–¹æ³•ï¼Œç”¨äºä»¥å¤ªåŠåˆ†ç‰‡å®ç°çš„ç¬¬ 1 é˜¶æ®µï¼Œå¼•å…¥äº† ShardDataHeader å¯¹è±¡å’Œæ•°æ®å¯ç”¨æ€§æŠ½æ ·ï¼Œä»¥ç¡®ä¿æ•°æ®å¯ç”¨æ€§ï¼ŒåŒæ—¶ä¿æŒå¯æ‰©å±•æ€§ã€‚



### 2024.4.17

#### ä»¥å¤ªåŠå…±è¯†å±‚å’Œæ‰§è¡Œå±‚è§„èŒƒ

- é€šè¿‡é˜…è¯»week6ä¸­çš„èµ„æ–™ 
1. https://github.com/ethereum/consensus-specs 
2. https://blog.ethereum.org/2023/08/29/eel-spec

å…±è¯†å±‚è§„èŒƒ(Consensus Layer Spec):
- ä»¥å¤ªåŠå…±è¯†å±‚è´Ÿè´£ç»´æŠ¤ä»¥å¤ªåŠåŒºå—é“¾çš„å®‰å…¨æ€§å’Œä¸€è‡´æ€§ï¼Œç›®å‰é‡‡ç”¨çš„æ˜¯æƒç›Šè¯æ˜(PoS)å…±è¯†æœºåˆ¶ã€‚
- åœ¨PoSä¸‹ï¼ŒéªŒè¯è€…éœ€è¦è´¨æŠ¼ETHä½œä¸ºæŠµæŠ¼ï¼Œå¹¶å‚ä¸åŒºå—æè®®å’ŒæŠ•ç¥¨è¿‡ç¨‹ã€‚éªŒè¯è€…çš„æƒé‡ä¸å…¶è´¨æŠ¼çš„ETHæ•°é‡æˆæ­£æ¯”ã€‚
- ä¸ºäº†é˜²æ­¢éªŒè¯è€…ä½œæ¶ï¼Œä»¥å¤ªåŠå¼•å…¥äº†ç½šæ²¡æœºåˆ¶ã€‚å¦‚æœéªŒè¯è€…è¿ååè®®ï¼Œå…¶è´¨æŠ¼çš„éƒ¨åˆ†ETHå°†è¢«ç½šæ²¡ã€‚
- å…±è¯†å±‚çš„ä¸»è¦ç»„ä»¶åŒ…æ‹¬ä¿¡æ ‡é“¾(Beacon Chain)ã€åˆ†ç‰‡(Sharding)ç­‰ã€‚ä¿¡æ ‡é“¾æ˜¯PoSçš„æ ¸å¿ƒï¼Œè´Ÿè´£ç®¡ç†éªŒè¯è€…é›†åˆå’Œåè°ƒåˆ†ç‰‡ã€‚
- æœªæ¥ä»¥å¤ªåŠè®¡åˆ’å®ç°Dankshardingï¼Œè¿›ä¸€æ­¥æé«˜å¯æ‰©å±•æ€§ã€‚Dankshardingå…è®¸éªŒè¯è€…åªä¿å­˜å’ŒéªŒè¯åˆ†ç‰‡æ•°æ®çš„ä¸€éƒ¨åˆ†ã€‚

æ‰§è¡Œå±‚è§„èŒƒ(Execution Layer Spec):
- ä»¥å¤ªåŠæ‰§è¡Œå±‚è´Ÿè´£å¤„ç†äº¤æ˜“å’Œç»´æŠ¤çŠ¶æ€ï¼Œç›®å‰é‡‡ç”¨çš„æ˜¯ä»¥å¤ªåŠè™šæ‹Ÿæœº(EVM)ã€‚
- EVMæ˜¯ä¸€ä¸ªå›¾çµå®Œå¤‡çš„è™šæ‹Ÿæœºï¼Œæ”¯æŒé€šè¿‡æ™ºèƒ½åˆçº¦æ‰§è¡Œä»»æ„å¤æ‚åº¦çš„è®¡ç®—ã€‚
- æ‰§è¡Œå±‚çš„å…³é”®ç»„ä»¶åŒ…æ‹¬äº¤æ˜“æ± (Txpool)ã€çŠ¶æ€å­˜å‚¨(State)ã€æ”¶æ®å­˜å‚¨(Receipt)ç­‰ã€‚
- ä¸ºäº†æé«˜æ‰§è¡Œå±‚çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œä»¥å¤ªåŠç¤¾åŒºæ¨å‡ºäº†ä»¥å¤ªåŠæ‰§è¡Œå±‚è§„èŒƒ(EELS)ã€‚
- EELSæ˜¯ç”¨Pythonç¼–å†™çš„æ‰§è¡Œå±‚å‚è€ƒå®ç°ï¼Œä¸ºæ¯ä¸ªåˆ†å‰æä¾›äº†å®Œæ•´çš„åè®®å¿«ç…§ï¼Œæœ‰åŠ©äºå¼€å‘è€…ç†è§£å’Œå®ç°EIPã€‚
- EELSçš„ç›®æ ‡æ˜¯æˆä¸ºæŒ‡å®šæ ¸å¿ƒEIPçš„é»˜è®¤æ–¹å¼ï¼Œä¹Ÿæ˜¯EIPä½œè€…é¦–å…ˆç”¨æ¥åŸå‹å¼€å‘ææ¡ˆçš„å·¥å…·ã€‚



### 2024.4.16

#### ä»¥å¤ªåŠèŠ‚ç‚¹æ¶æ„

- é€šè¿‡é˜…è¯»  https://ethereum.org/en/developers/docs/nodes-and-clients/node-architecture/ äº†è§£äº†ä»¥å¤ªåŠèŠ‚ç‚¹æ¶æ„

- ä»¥å¤ªåŠèŠ‚ç‚¹ç”±ä¸¤ä¸ªå®¢æˆ·ç«¯ç»„æˆ:æ‰§è¡Œå®¢æˆ·ç«¯å’Œå…±è¯†å®¢æˆ·ç«¯ã€‚

- åœ¨ä»¥å¤ªåŠä½¿ç”¨å·¥ä½œé‡è¯æ˜æ—¶ï¼Œåªéœ€è¦æ‰§è¡Œå®¢æˆ·ç«¯å°±å¯ä»¥è¿è¡Œä¸€ä¸ªå®Œæ•´çš„ä»¥å¤ªåŠèŠ‚ç‚¹ã€‚ä½†è‡ªä»å®æ–½æƒç›Šè¯æ˜åï¼Œæ‰§è¡Œå®¢æˆ·ç«¯éœ€è¦ä¸å¦ä¸€ä¸ªç§°ä¸º"å…±è¯†å®¢æˆ·ç«¯"çš„è½¯ä»¶ä¸€èµ·ä½¿ç”¨ã€‚

- ä¸¤ä¸ªå®¢æˆ·ç«¯åˆ†åˆ«è¿æ¥åˆ°å„è‡ªçš„å¯¹ç­‰ç½‘ç»œ(P2P)ã€‚æ‰§è¡Œå®¢æˆ·ç«¯é€šè¿‡P2Pç½‘ç»œä¼ æ’­äº¤æ˜“ï¼Œç®¡ç†æœ¬åœ°äº¤æ˜“æ± ï¼Œè€Œå…±è¯†å®¢æˆ·ç«¯é€šè¿‡P2Pç½‘ç»œä¼ æ’­åŒºå—ï¼Œå®ç°å…±è¯†å’ŒåŒºå—é“¾å¢é•¿ã€‚

æ‰§è¡Œå®¢æˆ·ç«¯çš„ä½œç”¨åŒ…æ‹¬:
- ä½œä¸ºä»¥å¤ªåŠçš„ç”¨æˆ·ç½‘å…³ 
- åŒ…å«ä»¥å¤ªåŠè™šæ‹Ÿæœºã€ä»¥å¤ªåŠçŠ¶æ€å’Œäº¤æ˜“æ± 
- æä¾›JSON-RPCæ¥å£ä¾›ç”¨æˆ·æŸ¥è¯¢åŒºå—é“¾ã€æäº¤äº¤æ˜“å’Œéƒ¨ç½²æ™ºèƒ½åˆçº¦

- å…±è¯†å®¢æˆ·ç«¯çš„ä½œç”¨æ˜¯å‚ä¸æƒç›Šè¯æ˜å…±è¯†ï¼ŒéªŒè¯æ‰§è¡Œå®¢æˆ·ç«¯çš„è®¡ç®—ç»“æœã€‚èŠ‚ç‚¹è¿è¥è€…å¯ä»¥é€šè¿‡åœ¨è´¨æŠ¼åˆçº¦ä¸­å­˜å…¥32 ETHæ¥ç»™å…±è¯†å®¢æˆ·ç«¯æ·»åŠ éªŒè¯è€…è§’è‰²ã€‚

- æ–°çš„ä»¥å¤ªåŠèŠ‚ç‚¹æ¶æ„é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œç”±æ‰§è¡Œå®¢æˆ·ç«¯å’Œå…±è¯†å®¢æˆ·ç«¯ç»„æˆï¼Œåˆ†å·¥æ˜ç¡®ï¼Œå…±åŒç»´æŠ¤ä»¥å¤ªåŠç½‘ç»œçš„å®‰å…¨å’Œå»ä¸­å¿ƒåŒ–ã€‚

### 2024.4.15

#### ä»¥å¤ªåŠå­˜å‚¨æ–°è§£å†³æ–¹æ¡ˆæ¢ç´¢

- è‡ªEIP-4844ä¹‹åï¼Œä»¥å¤ªåŠç½‘ç»œçš„æ•°æ®ååé‡ä¸å­˜å‚¨å‹åŠ›æ—¥ç›Šå¢é•¿ï¼Œä¸æ–­å¢é•¿çš„å­˜å‚¨éœ€æ±‚ä¸ºä»¥å¤ªåŠèŠ‚ç‚¹å¸¦æ¥äº†å·¨å¤§æŒ‘æˆ˜ã€‚ä¸ºäº†é™ä½å­˜å‚¨å‹åŠ›ï¼Œéƒ¨åˆ†ä»¥å¤ªåŠå®¢æˆ·ç«¯å¯¹æœ¬åœ°å­˜æ”¾çš„ä»¥å¤ªåŠå†å²æ•°æ®è¿›è¡Œåˆ å‰ªï¼Œä¸åŒçš„å…¨èŠ‚ç‚¹åœ¨å­˜å‚¨è¡Œä¸ºä¸Šçš„ä¸€è‡´æ€§è¢«é€æ¸ç“¦è§£ã€‚
-  EIP-4444ï¼šé™åˆ¶æ‰§è¡Œå®¢æˆ·ç«¯ä¸­çš„å†å²æ•°æ®ï¼šè¯¥ææ¡ˆå…è®¸å®¢æˆ·ç«¯åˆ é™¤è¶…è¿‡ä¸€å¹´çš„è¿‡å¾€åŒºå—ã€‚å‡è®¾å¹³å‡åŒºå—å¤§å°ä¸º 100Kï¼Œå†å²å—æ•°æ®ä¸Šé™çº¦ä¸º 250 GBï¼ˆ100K * (3600 * 24 * 365) / 12ï¼Œå‡è®¾åŒºå—æ—¶é—´ = 12 ç§’ï¼‰ã€‚

- EIP-4844ï¼šåˆ†ç‰‡ BLOB äº¤æ˜“ï¼šä¸¢å¼ƒè¶…è¿‡ 18 å¤©çš„ BLOBæ•°æ®ã€‚ä¸ EIP-4444 ç›¸æ¯”ï¼Œè¿™æ˜¯ä¸€ç§æ›´æ¿€è¿›çš„æ–¹æ³•ï¼Œå°†å†å² BLOB å¤§å°é™åˆ¶åœ¨ 100 GB å·¦å³ï¼ˆ(18 * 3600 * 24) * 128K * 6 / 12ï¼Œå‡è®¾åŒºå—æ—¶é—´ = 12 ç§’ï¼‰ã€‚
- æ˜¨å¤©åšäº†æ‰§è¡Œå®¢æˆ·ç«¯ç«¯çš„ä»‹ç»ï¼Œå…¶ä¸­Gethæ˜¯ä¿ç•™å…¨éƒ¨æ•°æ®ï¼Œå¹¶ä¸”ä¸æä¾›apiè¿›è¡Œåˆ å‡å†å²æ•°æ®ï¼Œè€Œå…¶ä»–å®¢æˆ·ç«¯å¦‚Nethermind å’Œ Besu ä»¥é…ç½®åˆ é™¤æŸäº›ä»¥å¤ªåŠå†å²æ•°æ®ï¼ˆä¾‹å¦‚å†å²åŒºå—ï¼‰ã€‚è¿™ä¼šè®©éƒ¨åˆ†å®¢æˆ·ç«¯èŠ‚ç‚¹çš„è¡Œä¸ºä¸å…¶ä»–å®¢æˆ·ç«¯ä¸ä¸€è‡´ã€‚

##### åˆ é™¤æ‰€æœ‰å®¢æˆ·ç«¯çš„å†å²æ•°æ®ä¼šäº§ç”Ÿä»€ä¹ˆåæœï¼Ÿ
- æ–°èŠ‚ç‚¹æ— æ³•é€šè¿‡â€œfull syncâ€æ¨¡å¼æ¥åŒæ­¥åˆ°æœ€æ–°çŠ¶æ€ï¼Œ â€œfull syncâ€æ˜¯ä¸€ç§å°†å†å²æ•°æ®é‡æ”¾ï¼Œä»åˆ›ä¸–åŒºå—åŒæ­¥åˆ°æœ€æ–°åŒºå—çš„æ•°æ®åŒæ­¥æ–¹æ¡ˆã€‚ç›¸åº”åœ°ï¼Œæˆ‘ä»¬å¿…é¡»é‡‡å–â€œsnap syncâ€æˆ–â€œstate syncâ€æ¥ç›´æ¥åŒæ­¥ä»¥å¤ªåŠèŠ‚ç‚¹çš„æœ€æ–°çŠ¶æ€ã€‚è¿™ç§æ–¹æ³•å·²åœ¨ Geth ä¸­å®ç°ï¼Œå¹¶ä½œä¸ºé»˜è®¤çš„åŒæ­¥è¿è¡Œæ–¹å¼ã€‚
- èŠ‚ç‚¹åˆ é™¤æ‰ä»¥å¤ªåŠä¸»ç½‘å†å²æ•°æ®ï¼Œä¹Ÿä¼šå¯¼è‡´ä»¥å¤ªåŠ L2å‡ºç°é—®é¢˜ï¼Œå³æ–°åŠ å…¥çš„Layer2èŠ‚ç‚¹ï¼Œæ— æ³•é€šè¿‡é‡æ”¾ Layer2å…¨éƒ¨å†å²æ•°æ®çš„æ–¹æ³•ï¼ŒåŒæ­¥è‡³å½“å‰çš„æœ€æ–°çŠ¶æ€ã€‚æ­¤å¤–ï¼Œç”±äº L1 èŠ‚ç‚¹ä¸ç»´æŠ¤ L2 çŠ¶æ€ï¼ŒL2 çš„â€œsnap syncâ€æ–¹æ³•æ— æ³•æ ¹æ®Layer1åŒºå—ç›´æ¥æ´¾ç”Ÿå‡ºæœ€æ–°çš„ Layer2 çŠ¶æ€ï¼Œè¿™è¿åäº†Layer2ç»§æ‰¿ä»¥å¤ªåŠå®‰å…¨æ‰€éœ€çš„é‡è¦å‡è®¾ã€‚

##### å¯å‚è€ƒçš„è§£å†³æ–¹æ¡ˆ

###### æ–¹æ¡ˆ1ï¼šä»¥å¤ªåŠ Portal ç½‘ç»œ
- ä»¥å¤ªåŠ Portal ç½‘ç»œæ˜¯ä¸€ä¸ªè½»é‡çº§ã€å»ä¸­å¿ƒåŒ–çš„ç½‘ç»œï¼Œç”¨äºè¿æ¥åˆ°ä»¥å¤ªåŠåè®®ã€‚å®ƒæä¾›eth_callï¼Œeth_getBlockByNumberç­‰ä»¥å¤ªåŠ JSON-RPC æ¥å£ï¼Œå®ƒå°† JSON-RPC è¯·æ±‚è½¬æ¢ä¸ºå¯¹åˆ†å¸ƒå¼å“ˆå¸Œè¡¨ï¼ˆDHT)çš„ P2P è¯·æ±‚ï¼Œç±»ä¼¼äº IPFS ç½‘ç»œã€‚ä¸å…è®¸å­˜å‚¨ä»»ä½•æ•°æ®ç±»å‹ä¸”å®¹æ˜“å—åˆ°åƒåœ¾æ•°æ®å½±å“çš„ IPFS ä¸åŒï¼ŒPortal P2P ç½‘ç»œä¸“é—¨æ‰˜ç®¡ä»¥å¤ªåŠæ•°æ®ï¼Œå¦‚å†å²åŒºå—å¤´å’Œäº¤æ˜“æ•°æ®ï¼Œè¿™æ˜¯é€šè¿‡ Portal ç½‘ç»œå†…ç½®çš„è½»å®¢æˆ·ç«¯éªŒè¯æŠ€æœ¯æ¥å®ç°çš„ã€‚

- Portal ç½‘ç»œçš„ä¸€ä¸ªé‡è¦ç‰¹æ€§æ˜¯ã€‚å…¶è½»é‡çº§çš„è¿è¡Œè®¾è®¡ä»¥åŠä¸èµ„æºå—é™è®¾å¤‡çš„å…¼å®¹æ€§ã€‚å®ƒå¯ä»¥è¿è¡Œåœ¨å…·æœ‰å‡ MBå­˜å‚¨ç©ºé—´å’Œä½å†…å­˜çš„èŠ‚ç‚¹ä¹‹ä¸Šï¼Œä»è€Œä¿ƒè¿›å»ä¸­å¿ƒåŒ–ã€‚å³ä½¿æ˜¯æ‰‹æœºæˆ– Raspberry Pi è®¾å¤‡ä¹Ÿæœ‰å¯èƒ½åŠ å…¥è¯¥ç½‘ç»œï¼Œä¸ºè§£å†³ä»¥å¤ªåŠDAé—®é¢˜åšå‡ºè´¡çŒ®ã€‚

###### æ–¹æ¡ˆ2ï¼šEthStorage ç½‘ç»œ

- EthStorage ç½‘ç»œæ˜¯ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„æ¿€åŠ±å­˜å‚¨ç½‘ç»œï¼Œä¸“é—¨ç”¨äºå­˜å‚¨ EIP-4844 BLOBï¼Œå¹¶è·å¾— ESP é¡¹ç›®çš„èµ„åŠ©ã€‚

- æœ€å°ä¿¡ä»»ï¼šä¸éœ€è¦ä¸­å¿ƒåŒ–æ•°æ®æ¡¥çš„ç°æœ‰è§£å†³æ–¹æ¡ˆä¸åŒï¼ŒEthStorage ä¾èµ–äºä»¥å¤ªåŠçš„å…±è¯†å’Œæ— éœ€è®¸å¯çš„ EthStorage å­˜å‚¨èŠ‚ç‚¹çš„ 1/m ä¿¡ä»»æ¨¡å‹ã€‚å­˜å‚¨ BLOB çš„è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼šç”¨æˆ·ç­¾ç½²ä¸€ä¸ªæºå¸¦ BLOB çš„äº¤æ˜“ï¼Œè°ƒç”¨å­˜å‚¨åˆçº¦çš„put(keyï¼Œ blob_idx) æ–¹æ³•ã€‚ç„¶åå­˜å‚¨åˆçº¦å°†è®°å½• BLOB å“ˆå¸Œåœ¨é“¾ä¸Šã€‚ä¹‹åå­˜å‚¨æä¾›å•†å°†ç›´æ¥ä»ä»¥å¤ªåŠ DA ç½‘ç»œä¸‹è½½å¹¶å­˜å‚¨ BLOBï¼Œä»è€Œç»•è¿‡æ•°æ®æ¡¥é—®é¢˜ã€‚

- å­˜å‚¨æˆæœ¬ä¸æ¿€åŠ±ç›¸ä¸€è‡´ï¼šå½“è°ƒç”¨ put() æ–¹æ³•æ—¶ï¼Œäº¤æ˜“å¿…é¡»å‘é€å­˜å‚¨è´¹ï¼ˆé€šè¿‡ msg.valueï¼‰å¹¶å­˜å…¥åˆçº¦ä¸­ã€‚åœ¨æˆåŠŸé“¾ä¸‹å­˜å‚¨èŠ‚ç‚¹æäº¤å¹¶éªŒè¯å­˜å‚¨è¯æ˜åï¼Œè¿™ä¸ªå­˜å‚¨è´¹ç”¨å°†éšç€æ—¶é—´çš„æ¨ç§»é€æ¸åˆ†é…ç»™å­˜å‚¨èŠ‚ç‚¹ã€‚ä¸ç°æœ‰çš„å‘å‡ºå—è€…(proposer)æ”¯ä»˜ä¸€æ¬¡æ€§å­˜å‚¨è´¹çš„ä»¥å¤ªåŠå­˜å‚¨è´¹æ¨¡å‹ç›¸æ¯”ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œæ”¯ä»˜çš„å­˜å‚¨è´¹éµå¾ªè´´ç°ç°é‡‘æµæ¨¡å‹â€”â€”å‡è®¾éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå­˜å‚¨æˆæœ¬å°†ç›¸å¯¹äº ETHä»·æ ¼è€Œé™ä½ã€‚EthStorage å¼•å…¥çš„è¿™ä¸€é‡å¤§åˆ›æ–°ä½¿å¾—è´¹ç”¨å’Œå­˜å‚¨èŠ‚ç‚¹çš„å­˜å‚¨è´¡çŒ®ä¿æŒä¸€è‡´ã€‚

- å­˜å‚¨è¯æ˜ï¼šå­˜å‚¨è¯æ˜æ˜¯å—åˆ°æ•°æ®å¯ç”¨æ€§æŠ½æ ·çš„å¯å‘ï¼Œè€Œ EthStorage ä¸­çš„é‡‡æ ·æ˜¯é’ˆå¯¹ä¸€æ®µæ—¶é—´å†…çš„ä¿å­˜çš„BLOBã€‚ä¸ºäº†æœ‰æ•ˆåœ°éªŒè¯é“¾ä¸Šé‡‡æ ·ï¼ŒEthStorage å……åˆ†åˆ©ç”¨äº†æ™ºèƒ½åˆçº¦å’Œæœ€æ–°çš„ SNARK æŠ€æœ¯å‘å±•ã€‚

- æ— è®¸å¯æ“ä½œï¼šEthStorage ä¸­çš„ä»»ä½•å­˜å‚¨èŠ‚ç‚¹åªè¦å­˜å‚¨æ•°æ®å¹¶å®šæœŸåœ¨é“¾ä¸Šæäº¤å­˜å‚¨è¯æ˜ï¼Œéƒ½å¯ä»¥è·å¾—æŠ¥é…¬ã€‚



### 2024.4.14

- äº†è§£äº†å…±è¯†å®¢æˆ·ç«¯å’Œæ‰§è¡Œå®¢æˆ·ç«¯ä¿¡æ¯


#### Consensus Clients

| Client    | å æ¯”| Status | Support                | Language   |
|-----------|-  |--------|------------------------|------------|
| Grandine  |   | beta   | Linuxï¼Œ Winï¼Œ macOS      | -          |
| Lighthouse| 33.47%  | stable | Linuxï¼Œ Winï¼Œ macOSï¼Œ ARM | Rust       |
| Lodestar  | 0.92%   | stable | Linuxï¼Œ Winï¼Œ macOS      | TypeScript |
| Nimbus    |9.34%   | stable | Linuxï¼Œ Winï¼Œ macOSï¼Œ ARM | Nim        |
| Prysm     |37.89%   | stable | Linuxï¼Œ Winï¼Œ macOSï¼Œ ARM | Golang     |
| Teku      |18.39%   | stable | Linuxï¼Œ Winï¼Œ macOS      | Java       |

Data provided by Sigma Prime's Blockprint â€” updated daily.
Data may not be 100% accurate. 


#### Execution Clients

| Client     | å æ¯”|Status       | Support                | Language   |
|------------|-|-------------|------------------------|------------|
| Akula      | |deprecated   | -                      | -          |
| Besu       |12% |stable       | Linuxï¼Œ Winï¼Œ macOS      | Java       |
| Erigon     |2% |alpha & beta | Linuxï¼Œ Winï¼Œ macOSï¼Œ ARM | Golang     |
| EthereumJS | |alpha        | Linuxï¼Œ Winï¼Œ macOS      | TypeScript |
| Geth       |63% |stable       | Linuxï¼Œ Winï¼Œ macOSï¼Œ ARM | Golang     |
| Nethermind |23% |stable       | Linuxï¼Œ Winï¼Œ macOSï¼Œ ARM | .NET       |
| Nimbus     | |pre-alpha    | -                      | Nim        |
| Reth       | |alpha        | Linuxï¼Œ Winï¼Œ macOSï¼Œ ARM | Rust       |
| Silkworm   | |pre-alpha    | Linuxï¼Œ Winï¼Œ macOS      | C++        |

Data provided by supermajority.info â€” updated manually.
Data may not be 100% accurate. 
##### Client Diversity Is Not Optional

> è®¸å¤šäººçŸ¥é“å®¢æˆ·ç«¯çš„å¤šæ ·æ€§å¯¹äºæ„å»ºä¸€ä¸ªæ›´æœ‰éŸ§æ€§çš„ç½‘ç»œéå¸¸é‡è¦ï¼Œä½†ä»–ä»¬ä¸æ˜ç™½ä¸ºä»€ä¹ˆè¿™ä¹ˆé‡è¦ï¼Œæˆ–è€…å®ƒçš„é‡è¦æ€§åˆ°åº•æœ‰å¤šå¤§ã€‚è¿™ä¸ä»…ä»…æ˜¯é‡è¦â€”â€”å®ƒæ˜¯è‡³å…³é‡è¦çš„ã€‚å¦‚æœæœ‰ä¸€ä¸ªå•ä¸€çš„å®¢æˆ·ç«¯è¢«ä¸‰åˆ†ä¹‹äºŒï¼ˆ66%ï¼‰çš„éªŒè¯è€…ä½¿ç”¨ï¼Œè¿™å°†éå¸¸çœŸå®åœ°å¸¦æ¥ä¸­æ–­é“¾æ¡å’ŒèŠ‚ç‚¹æ“ä½œè€…ç»æµæŸå¤±çš„é£é™©ã€‚
è¾¾åˆ°æœ€ç»ˆä¸€è‡´æ€§éœ€è¦ä¸‰åˆ†ä¹‹äºŒçš„éªŒè¯è€…ã€‚å¦‚æœä¸€ä¸ªæ‹¥æœ‰è¶…è¿‡66%å¸‚åœºä»½é¢çš„å®¢æˆ·ç«¯å‡ºç°äº†ä¸€ä¸ªé”™è¯¯ï¼Œå¹¶åˆ†å‰åˆ°å®ƒè‡ªå·±çš„é“¾ä¸Šï¼Œå®ƒå°†èƒ½å¤Ÿå®Œæˆæœ€ç»ˆç¡®å®šã€‚ä¸€æ—¦åˆ†å‰å®Œæˆæœ€ç»ˆç¡®å®šï¼ŒéªŒè¯è€…å°±æ— æ³•è¿”å›åˆ°çœŸæ­£çš„é“¾ä¸Šï¼Œè€Œä¸è¢«æƒ©ç½šã€‚å¦‚æœ66%çš„é“¾åŒæ—¶è¢«æƒ©ç½šï¼Œé‚£ä¹ˆç½šæ¬¾å°±æ˜¯å…¨éƒ¨çš„32 ETHã€‚
é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆè¶…è¿‡50%çš„å¸‚åœºä»½é¢ä»ç„¶å±é™©å‘¢ï¼Ÿå¦‚æœä¸€ä¸ªå°‘æ•°å®¢æˆ·ç«¯åˆ†å‰ï¼Œé‚£ä¹ˆè¶…è¿‡50%çš„å¤šæ•°å®¢æˆ·ç«¯å¯ä»¥è·å¾—è¶…è¿‡66%çš„å¤šæ•°ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ä¸ªå®¢æˆ·ç«¯çš„å¸‚åœºä»½é¢è¶…è¿‡33%ï¼Œè¿™äº›æƒ…å†µå°±å¯ä»¥é¿å…ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ‰€æœ‰å®¢æˆ·ç«¯çš„ç›®æ ‡å¸‚åœºä»½é¢æ˜¯å°äº33%ã€‚
æ‰§è¡Œå®¢æˆ·ç«¯ä¹Ÿä¸æ˜¯å…ç–«çš„ã€‚ä¸Šé¢æåˆ°çš„é£é™©åŒæ ·é€‚ç”¨äºå…±è¯†å®¢æˆ·ç«¯å’Œæ‰§è¡Œå®¢æˆ·ç«¯ã€‚

### 2024.4.13

#### zk/op rollup
ZK Rollupså’ŒOptimistic Rollupsæ˜¯ä»¥å¤ªåŠä¸Šä¸¤ç§ä¸»è¦çš„äºŒå±‚æ‰©å®¹è§£å†³æ–¹æ¡ˆï¼Œå®ƒä»¬éƒ½é€šè¿‡å°†äº¤æ˜“è®¡ç®—å’Œå­˜å‚¨è½¬ç§»åˆ°é“¾ä¸‹ï¼ŒåŒæ—¶ä¾èµ–ä»¥å¤ªåŠä¸»é“¾çš„å®‰å…¨æ€§æ¥æ˜¾è‘—æé«˜äº¤æ˜“ååé‡å’Œé™ä½æˆæœ¬ã€‚ä¸‹é¢è¯¦ç»†è§£é‡Šå®ƒä»¬çš„åŸç†å’ŒåŒºåˆ«:

##### ZK Rollups 

ZK Rollupsåˆ©ç”¨é›¶çŸ¥è¯†è¯æ˜æŠ€æœ¯ï¼Œåœ¨é“¾ä¸‹æ‰§è¡Œäº¤æ˜“å¹¶ç”ŸæˆåŠ å¯†è¯æ˜ï¼Œè¯æ˜è¿™äº›äº¤æ˜“çš„æ­£ç¡®æ€§å’Œåˆæ³•æ€§ï¼Œç„¶åå°†è¯æ˜æäº¤åˆ°ä¸»é“¾è¿›è¡ŒéªŒè¯ã€‚ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬:

- é€šè¿‡å‹ç¼©äº¤æ˜“æ•°æ®å’Œä½¿ç”¨é€šç”¨æˆ–ä¸“ç”¨ç”µè·¯ç”Ÿæˆè¯æ˜ï¼Œæ˜¾è‘—å‡å°‘åœ¨ä¸»é“¾ä¸Šçš„æ•°æ®é‡
- ä¸»é“¾åªéœ€éªŒè¯è¯æ˜çš„åˆæ³•æ€§ï¼Œä¸éœ€è¦é‡æ”¾æ‰€æœ‰äº¤æ˜“ï¼Œå› æ­¤éªŒè¯æˆæœ¬ç›¸å¯¹è¾ƒä½(æ¯ä¸ªæ‰¹æ¬¡çº¦50ä¸‡gas)
- æå–èµ„é‡‘éå¸¸å¿«ï¼Œåªéœ€ç­‰å¾…ä¸‹ä¸€ä¸ªæ‰¹æ¬¡çš„äº¤æ˜“
- é›¶çŸ¥è¯†è¯æ˜æŠ€æœ¯ç›¸å¯¹å¤æ‚ï¼Œé€šç”¨è®¡ç®—ç”µè·¯çš„è¯æ˜ç”Ÿæˆæˆæœ¬å¾ˆé«˜
- ä»£è¡¨é¡¹ç›®æœ‰zkSyncã€Loopringã€Starkwareç­‰

##### Optimistic Rollups 

Optimistic Rollupsé‡‡ç”¨æ¬ºè¯ˆè¯æ˜ï¼Œä¹è§‚åœ°å‡è®¾é“¾ä¸‹çš„äº¤æ˜“éƒ½æ˜¯æ­£ç¡®çš„ï¼Œé™¤éæœ‰äººæå‡ºè´¨ç–‘å¹¶æä¾›æ¬ºè¯ˆè¯æ˜ã€‚ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬:

- å°†æ‰¹é‡äº¤æ˜“æ•°æ®ä½œä¸ºç®€å•çš„çŠ¶æ€æ ¹å˜æ›´æäº¤åˆ°ä¸»é“¾ï¼Œæ¯ä¸ªæ‰¹æ¬¡çš„å›ºå®šæˆæœ¬åªæœ‰4ä¸‡gas
- å¦‚æœæœ‰é”™è¯¯äº¤æ˜“ï¼Œéœ€è¦åœ¨æŒ‘æˆ˜æœŸå†…æäº¤æ¬ºè¯ˆè¯æ˜ï¼Œå› æ­¤ææ¬¾éœ€è¦ç­‰å¾…1å‘¨å·¦å³
- æŠ€æœ¯é—¨æ§›ç›¸å¯¹è¾ƒä½ï¼Œæ›´å®¹æ˜“å®ç°EVMå…¼å®¹çš„é€šç”¨è®¡ç®—
- æ¯ç¬”äº¤æ˜“åœ¨é“¾ä¸Šçš„æˆæœ¬ç›¸å¯¹ZK Rollupç•¥é«˜ï¼Œå› ä¸ºéœ€è¦å°†å®Œæ•´äº¤æ˜“æ•°æ®å‘å¸ƒä¸Šé“¾
- ä»£è¡¨é¡¹ç›®æœ‰Optimismã€Arbitrumç­‰

 https://www.aicoin.com/article/324592.html


### 2024.4.12

#### EIP-4844

EIP-4844 è¢«ç§°ä¸º proto-dankshardingï¼Œå®ƒæ˜¯ä»¥å¤ªåŠçš„ Dencun ç¡¬åˆ†å‰ä¸­åŒ…å«çš„ä¸€ç»„å‡çº§ææ¡ˆä¹‹ä¸€ã€‚


##### EIP-4844 çš„æŠ€æœ¯ç»†èŠ‚

* å¼•å…¥ã€Œblobã€æ•°æ®å— æœ¬è´¨ä¸Šæ˜¯å¤§æ•°æ®åŒ…ï¼Œå¯ä»¥æ¯”å½“å‰ä»¥å¤ªåŠä½¿ç”¨çš„ calldata æ›´æœ‰æ•ˆåœ°å¤„ç†å’Œå­˜å‚¨æ•°æ®ã€‚è¿™äº› blob å¯ä»¥å­˜å‚¨å¤§é‡ä¿¡æ¯ï¼Œä¾‹å¦‚å»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€çš„è®¢å•ç°¿æ•°æ®ã€‚

* åŒºå—é“¾éªŒè¯çš„æƒè¡¡ï¼šéªŒè¯å™¨èŠ‚ç‚¹ï¼ˆä»¥å‰ç§°ä¸ºçŸ¿å·¥ï¼‰ä»ç„¶éœ€è¦å®Œå…¨éªŒè¯äº¤æ˜“æœ¬èº«ï¼Œä½†ä»–ä»¬å¯ä»¥é¸æ“‡ä¸ä¸‹è½½å’ŒéªŒè¯ç›¸å…³è”çš„ blob æ•°æ®ã€‚è¿™é™ä½äº†è¿è¡Œä»¥å¤ªåŠèŠ‚ç‚¹æ‰€éœ€çš„è®¡ç®—é‡å’Œå­˜å‚¨ç©ºé—´ã€‚
  
* Rollup æ˜¯ä»¥å¤ªåŠæ‰©å±•è§£å†³æ–¹æ¡ˆçš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå®ƒä»¬å°†äº¤æ˜“æ•°æ®å­˜å‚¨åœ¨é“¾ä¸‹ï¼Œä»¥é™ä½æˆæœ¬å¹¶æé«˜ååé‡ã€‚EIP-4844 å°†å…è®¸ rollup ä½¿ç”¨è¿™äº› blob æ¥å­˜å‚¨äº¤æ˜“æ•°æ®ï¼Œè€Œæ— éœ€å°†å…¶åŒ…å«åœ¨ä¸»ç½‘ä¸Šéœ€è¦æ”¯ä»˜ gas è´¹ç”¨çš„æ¯ä¸€ç¬”äº¤æ˜“ä¸­ã€‚
  
* æ•°æ®æœ‰æ•ˆæœŸæœ‰é™ï¼šä¸ºäº†å¹³è¡¡å»ä¸­å¿ƒåŒ–å’Œå¯æ‰©å±•æ€§ï¼ŒEIP-4844 è§„å®šäº† blob æ•°æ®çš„æœ‰æ•ˆæœŸã€‚è¿™äº›æ•°æ®å—ä»…åœ¨å…±è¯†å±‚ä¸Šå­˜å‚¨æœ‰é™çš„æ—¶é—´ï¼ˆé€šå¸¸çº¦ 18 å¤©ï¼‰ï¼Œç„¶åå°†è¢«åˆ é™¤ã€‚

##### EIP-4844 å¦‚ä½•é™ä½ `gas` è´¹ç”¨ï¼Ÿ

å®ƒæå‡ºäº†ä¸€ç§æ–°çš„äº¤æ˜“ç±»å‹ï¼Œç§°ä¸ºã€Œblobæºå¸¦äº¤æ˜“ (`blob-carrying transactions`)ã€ã€‚è¿™ç§äº¤æ˜“ç±»ä¼¼äºé™„åŠ åœ¨ä»¥å¤ªåŠäº¤æ˜“ä¸Šçš„ã€Œsidecarã€ï¼Œå¯ä»¥åŒ…å«é¢å¤–çš„ä¿¡æ¯å—ã€‚è¿™äº› blob çš„ä½“ç§¯å¾ˆå¤§ï¼ˆæœ€å¤§å¯è¾¾ 128 KBï¼‰ï¼Œä½†ä¸å½“å‰çš„ calldata ç›¸æ¯”è´¹ç”¨æ›´ä½ã€‚é€šè¿‡å°†è¿™äº› blob ä¸´æ—¶å­˜å‚¨åœ¨ä»¥å¤ªåŠçš„å…±è¯†å±‚ä¸Šï¼ŒEIP-4844 æ—¨åœ¨æ˜¾ç€é™ä½ rollup å‘ä»¥å¤ªåŠä¸»ç½‘ä¼ è¾“æ•°æ®çš„æˆæœ¬ï¼Œä»è€Œå®ç°é™ä½äº¤æ˜“è´¹ç”¨ã€‚


##### EIP-4844 çš„ä¼˜ç‚¹

* é™ä½äº¤æ˜“è´¹ç”¨ï¼šEIP-4844 çš„ä¸»è¦ä¼˜åŠ¿ä¹‹ä¸€æ˜¯é™ä½äº¤æ˜“è´¹ç”¨ã€‚é€šè¿‡å°†äº¤æ˜“æ•°æ®å’Œæ‰§è¡Œåˆ†å¼€ï¼ŒEIP-4844 ä½¿å¾— rollup ç­‰ç¬¬ 2 å±‚æ‰©å±•è§£å†³æ–¹æ¡ˆå¯ä»¥æ›´ä¾¿å®œåœ°å­˜å‚¨æ•°æ®ã€‚
* ä¸ºåˆ†ç‰‡æ‰©å±•å¥ å®šåŸºç¡€ï¼šEIP-4844 çš„è®¾è®¡ä¸ä»¥å¤ªåŠæœªæ¥çš„åˆ†ç‰‡æ‰©å±•è·¯çº¿å›¾å…¼å®¹ã€‚åˆ†ç‰‡æ˜¯ä¸€ç§å°†åŒºå—é“¾æ•°æ®åˆ†å¸ƒåˆ°å¤šä¸ªåˆ†ç‰‡ä¸­çš„æ–¹æ³•ï¼Œå¯ä»¥æ˜¾ç€æé«˜å¯æ‰©å±•æ€§ã€‚EIP-4844 å¼•å…¥äº†åˆ†ç‰‡æ‰€éœ€çš„ä¸€äº›æŠ€æœ¯è¦ç´ ï¼Œä¾‹å¦‚ blob å’Œåˆ†ç¦»çš„äº¤æ˜“æ•°æ®ã€‚

##### EIP-4844 çš„æ½œåœ¨å½±å“

EIP-4844 é¢„è®¡å°†å¯¹ä»¥å¤ªåŠç”Ÿæ€ç³»ç»Ÿäº§ç”Ÿé‡å¤§å½±å“ã€‚å®ƒå¯ä»¥é™ä½äº¤æ˜“è´¹ç”¨ï¼Œä½¿ä»¥å¤ªåŠå¯¹æ›´å¹¿æ³›çš„ç”¨æˆ·å’Œç”¨ä¾‹æ›´å…·å¸å¼•åŠ›ã€‚å®ƒè¿˜å¯ä»¥é€šè¿‡ä¸ºåˆ†ç‰‡æ‰©å±•å¥ å®šåŸºç¡€ï¼Œä¸ºä»¥å¤ªåŠçš„å¯æ‰©å±•æ€§å¸¦æ¥é•¿æœŸæ”¶ç›Šã€‚

EIP-4844 çš„é‡è¦ä¹‹å¤„åœ¨äºå®ƒå¯ä»¥åœ¨ä¸å¢åŠ å»ä¸­å¿ƒåŒ–æ€§çš„æƒ…å†µä¸‹æé«˜å¯æ‰©å±•æ€§ã€‚è™½ç„¶å…±è¯†èŠ‚ç‚¹éœ€è¦ä¸‹è½½è¿™äº› blobï¼Œä½†ç”±äºå®ƒä»¬ä»…ä¿å­˜æœ‰é™çš„æ—¶é—´ï¼Œå› æ­¤ä¸ä¼šå¯¹é•¿æœŸå­˜å‚¨éœ€æ±‚é€ æˆå¤ªå¤§å‹åŠ›ã€‚

EIP-4844 å°†ä¸ºä»¥å¤ªåŠå¸¦æ¥ä»¥ä¸‹å¥½å¤„ï¼š

* é™ä½ Layer 2 rollup è§£å†³æ–¹æ¡ˆçš„äº¤æ˜“è´¹ç”¨
* ä¸ºä»¥å¤ªåŠæœªæ¥æ›´å¤æ‚çš„æ‰©å®¹æ–¹æ¡ˆï¼ˆä¾‹å¦‚å®Œæ•´åˆ†ç‰‡ï¼‰å¥ å®šåŸºç¡€

### 2024.4.11

#### ethereum/execution-spec-tests

`ethereum/execution-spec-tests`æ¡†æ¶æ”¶é›†å¹¶æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ï¼Œä»¥ç”Ÿæˆæµ‹è¯•å¤¹å…·ï¼ˆJSONï¼‰ï¼Œä»»ä½•æ‰§è¡Œå®¢æˆ·ç«¯éƒ½å¯ä»¥ä½¿ç”¨è¯¥å¤¹å…·æ¥éªŒè¯å…¶ä»¥å¤ªåŠ/æ‰§è¡Œè§„èŒƒçš„å®ç°ã€‚fixtureå®šä¹‰äº†çŠ¶æ€è½¬æ¢å’Œå—æµ‹è¯•ï¼Œç”±æ¡†æ¶ä½¿ç”¨å¤§å¤šæ•°æ‰§è¡Œå®¢æˆ·ç«¯æä¾›çš„ `t8n` å‘½ä»¤è¡Œå·¥å…·ä¹‹ä¸€æ¥ç”Ÿæˆ.

| Client | t8n Tool | Tracing Support |
|--------|----------|-----------------|
| ethereum/evmone | evmone-t8n | Yes |
| ethereum/execution-specs | ethereum-spec-evm | Yes |
| ethereum/go-ethereum | evm t8n | Yes |
| hyperledger/besu | evm t8n-server | No |
| status-im/nimbus-eth1 | t8n | Yes |

##### é…ç½®æµ‹è¯•ç¯å¢ƒ
```
sudo add-apt-repository -y ppa:ethereum/ethereum
sudo apt-get update
sudo apt-get install ethereum solc
```

```
git clone https://github.com/ethereum/execution-spec-tests
cd execution-spec-tests
python3 -m venv ./venv/
source ./venv/bin/activate
pip install -e '.[docsï¼Œlintï¼Œtest]'
```

##### éªŒè¯æµ‹è¯•ç¯å¢ƒ
```
fill --collect-only
fill -v tests/berlin/eip2930_access_list/test_acl.py
```
##### å¢åŠ æ–°æµ‹è¯•ç”¨ä¾‹
```
ğŸ“ execution-test-specs/
â”œâ”€â•´ğŸ“ tests/
|   â”œâ”€â”€ ğŸ“„ __init__.py
â”‚   â”œâ”€â”€ ğŸ“ cancun/
|   |    â”œâ”€â”€ ğŸ“„ __init__.py
â”‚   |    â””â”€â”€ ğŸ“ eip4844_blobs/
|   |        â”œâ”€â”€ ğŸ“„ __init__.py
|   |        â”œâ”€â”€ ğŸ“„ test_blobhash_opcode.py
|   |        â”œâ”€â”€ ğŸ“„ test_excess_blob_gas.py
|   |        â””â”€â”€ ğŸ“„ ...
|   â”œâ”€â”€ ğŸ“ shanghai
|   |    â”œâ”€â”€ ğŸ“ eip3651_warm_coinbase
|   |    |   â”œâ”€â”€ ğŸ“„ __init__.py
|   |    |   â””â”€â”€ ğŸ“„ test_warm_coinbase.py
|   |    â”œâ”€â”€ ğŸ“ eip3855_push0
|   |    |   â”œâ”€â”€ ğŸ“„ __init__.py
|   |    |   â””â”€â”€ ğŸ“„ test_push0.py
|   |    â”œâ”€â”€ ğŸ“...
|   |    ...
â”‚   â””â”€â”€ ğŸ“ ...
```
æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹éƒ½è¢«å®šä¹‰ä¸ºä¸€ä¸ªPythonå‡½æ•°ï¼Œè¯¥å‡½æ•°é€šè¿‡ä½¿ç”¨æ¡†æ¶æä¾›çš„ state_test æˆ– blockchain_test å¯¹è±¡ä¹‹ä¸€æ¥å®šä¹‰å•ä¸ª StateTest æˆ– BlockchainTest ã€‚æµ‹è¯•ç”¨ä¾‹å’Œæµ‹è¯•æ¨¡å—å¿…é¡»æ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š

## Ethereum Test Case Requirements

| Requirement | When |
|-------------|------|
| Be decorated with validity markers | If the test case is not valid for all forks |
| Use one of `state_test` or `blockchain_test` in its function arguments | Always |
| Call the `state_test` or `blockchain_test` in its test body | Always |
| Add a reference version of the EIP spec under test | Test path contains `eip` |

å¯¹äºçŠ¶æ€æµ‹è¯•ï¼š
`def test_access_list(state_test: StateTestFiller):`

å¯¹äºåŒºå—é“¾æµ‹è¯•ï¼š
```
def test_contract_creating_tx(
    blockchain_test: BlockchainTestFillerï¼Œ fork: Forkï¼Œ initcode: Initcode
):
```

`state_test` å’Œ `blockchain_test` å¯¹è±¡å®é™…ä¸Šåˆ†åˆ«æ˜¯ `StateTest` å’Œ `BlockchainTest` å¯¹è±¡çš„åŒ…è£…å™¨ç±»ï¼Œå®ƒä»¬ä¸€æ—¦è¢«è°ƒç”¨å°±å®é™…ä¸Šå®ä¾‹åŒ–è¿™äº›å¯¹è±¡çš„æ–°å®ä¾‹ï¼Œå¹¶æ ¹æ®æµ‹è¯•ä¸­å®šä¹‰çš„å‰çŠ¶æ€å’ŒåçŠ¶æ€ä»¥åŠäº‹åŠ¡ä½¿ç”¨ evm å·¥å…·å¡«å……æµ‹è¯•ç”¨ä¾‹ã€‚

### 2024.4.10

#### ethereumæµ‹è¯•

Retestethæ˜¯ä»¥å¤ªåŠæµ‹è¯•å·¥å…·ï¼Œç”¨äºå¯¹ä»¥å¤ªåŠå®¢æˆ·ç«¯è¿›è¡Œå…±è¯†æµ‹è¯•ã€åŒºå—æµ‹è¯•ã€çŠ¶æ€æµ‹è¯•ç­‰ã€‚å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š

1. å‡†å¤‡æµ‹è¯•ç”¨ä¾‹ã€‚Retestethä¼šè¯»å–å®šä¹‰å¥½çš„æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æè¿°äº†å…·ä½“çš„æµ‹è¯•åœºæ™¯ï¼ŒåŒ…æ‹¬é¢„ç½®çŠ¶æ€ã€æ‰§è¡Œçš„äº¤æ˜“ã€é¢„æœŸç»“æœç­‰ã€‚æµ‹è¯•ç”¨ä¾‹å­˜æ”¾åœ¨testsä»“åº“ä¸­ã€‚

2. é…ç½®è¢«æµ‹å®¢æˆ·ç«¯ã€‚åœ¨è¿è¡Œæµ‹è¯•å‰ï¼Œéœ€è¦å…ˆè®¾ç½®å¥½å¾…æµ‹è¯•çš„ä»¥å¤ªåŠå®¢æˆ·ç«¯ï¼Œå¦‚gethã€besuã€nimbusç­‰ã€‚å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡ã€å‘½ä»¤è¡Œå‚æ•°ç­‰æ–¹å¼ä¼ é€’å®¢æˆ·ç«¯ä¿¡æ¯ç»™Retestethã€‚

3. æ‰§è¡Œæµ‹è¯•ã€‚é€šè¿‡Retestethå‘½ä»¤è¡Œå¯åŠ¨æµ‹è¯•ï¼Œå®ƒä¼šé€ä¸ªè¯»å–æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ï¼Œç„¶åè°ƒç”¨ä»¥å¤ªåŠå®¢æˆ·ç«¯æ‰§è¡Œç›¸åº”çš„æµ‹è¯•åœºæ™¯ã€‚åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼ŒRetestethä¼š:
   - å°†æµ‹è¯•ç”¨ä¾‹çš„é¢„ç½®çŠ¶æ€å¯¼å…¥åˆ°å®¢æˆ·ç«¯
   - å‘é€æµ‹è¯•äº¤æ˜“ç»™å®¢æˆ·ç«¯æ‰§è¡Œ
   - è·å–å®¢æˆ·ç«¯æ‰§è¡Œå®Œäº¤æ˜“åçš„çŠ¶æ€
   - å°†å®é™…çŠ¶æ€ä¸é¢„æœŸç»“æœè¿›è¡Œæ¯”å¯¹ï¼Œåˆ¤æ–­æµ‹è¯•æ˜¯å¦é€šè¿‡

4. ç”Ÿæˆæµ‹è¯•æŠ¥å‘Šã€‚æµ‹è¯•å®Œæˆåï¼ŒRetestethä¼šç”Ÿæˆæµ‹è¯•æŠ¥å‘Šï¼Œå±•ç¤ºæµ‹è¯•é€šè¿‡å’Œå¤±è´¥çš„æƒ…å†µã€‚å¯¹äºæœªé€šè¿‡çš„æµ‹è¯•ç”¨ä¾‹ï¼Œå¯ä»¥åˆ†æå…·ä½“å¤±è´¥çš„åŸå› ï¼Œå¹¶åé¦ˆç»™å®¢æˆ·ç«¯å¼€å‘è€…è¿›è¡Œä¿®å¤ã€‚

5. è¡¥å……æµ‹è¯•ç”¨ä¾‹ã€‚å¦‚æœåœ¨æµ‹è¯•ä¸­å‘ç°äº†å®¢æˆ·ç«¯å®ç°çš„é—®é¢˜ï¼Œå¯ä»¥æ®æ­¤è¡¥å……æ–°çš„æµ‹è¯•ç”¨ä¾‹åˆ°testsä»“åº“ä¸­ï¼Œä¸°å¯Œæµ‹è¯•å†…å®¹ã€‚

Retestethä½œä¸ºä»¥å¤ªåŠè§„èŒƒçš„å‚è€ƒæµ‹è¯•å·¥å…·ï¼Œé€šè¿‡è¿è¡Œå„ç±»æµ‹è¯•åœºæ™¯ï¼ŒéªŒè¯ä¸åŒä»¥å¤ªåŠå®¢æˆ·ç«¯çš„ä¸€è‡´æ€§ï¼Œæ˜¯ä¿éšœä»¥å¤ªåŠç”Ÿæ€å¥åº·å‘å±•çš„é‡è¦æ‰‹æ®µã€‚


> Guillaume Balletçš„è®²åº§å’Œæ¼”ç¤ºé›†ä¸­è®¨è®ºäº†Verkleæ ‘å¸¦æ¥çš„æŠ€æœ¯å˜åŒ–ï¼Œå®ƒä»¬çš„å®ç°ç°çŠ¶ï¼Œä»¥åŠæ— çŠ¶æ€ä»¥å¤ªåŠçš„æ„¿æ™¯ã€‚å¼€å‘å·¥ä½œæ¶‰åŠå¤§é‡å…³äºå¯†ç å­¦ã€æ•°æ®ç»“æ„å’Œå…±è¯†æœºåˆ¶çš„å·¥ä½œï¼Œä»¥å°†Verkleæ ‘æ•´åˆåˆ°ä»¥å¤ªåŠä¸­ã€‚
#### Verkleæ ‘ç®€ä»‹

Verkleæ ‘æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œä»£è¡¨äº†ä»å½“å‰ä»¥å¤ªåŠä½¿ç”¨çš„Merkle Patriciaæ ‘ï¼ˆMPTï¼‰çš„æ¼”è¿›ã€‚å®ƒä»¬ç»“åˆäº†å‘é‡æ‰¿è¯ºï¼Œå…è®¸æ›´é«˜æ•ˆçš„æ•°æ®å­˜å‚¨å’Œæ£€ç´¢ã€‚è¿™ç§æ•ˆç‡å¯¹äºä»¥å¤ªåŠçš„å¯æ‰©å±•æ€§å’Œæ€§èƒ½æ”¹è¿›è‡³å…³é‡è¦ã€‚

##### Verkleæ ‘çš„å¥½å¤„

1. **æ›´å°çš„è¯æ˜å¤§å°**ï¼šVerkleæ ‘æ˜¾è‘—å‡å°‘äº†éªŒè¯åŒºå—é“¾çŠ¶æ€æ‰€éœ€çš„è¯æ˜ï¼ˆè§è¯ï¼‰çš„å¤§å°ã€‚è¯æ˜å¤§å°çš„å‡å°‘æ„å‘³ç€è¯æ˜å¯ä»¥æ›´é«˜æ•ˆåœ°åœ¨ç½‘ç»œä¸Šä¼ é€’ï¼Œä½¿æ–°ç±»å‹çš„åŠŸèƒ½æˆä¸ºå¯èƒ½ï¼Œå¹¶ä½¿æ— çŠ¶æ€å®¢æˆ·ç«¯å¯è¡Œã€‚

2. **æ›´ä½çš„ç¡¬ä»¶è¦æ±‚**ï¼šé€šè¿‡ä½¿ä»¥å¤ªåŠçŠ¶æ€æ›´åŠ ç´§å‡‘å’Œè¯æ˜æ›´å°ï¼ŒVerkleæ ‘é™ä½äº†è¿è¡Œä»¥å¤ªåŠèŠ‚ç‚¹çš„ç¡¬ä»¶è¦æ±‚ã€‚è¿™ç§æ”¹è¿›ä½¿å¾—æ›´å¤šè®¾å¤‡ï¼Œç”šè‡³å¯èƒ½æ˜¯æ™ºèƒ½æ‰‹æœºï¼Œèƒ½å¤Ÿå‚ä¸ç½‘ç»œï¼Œä»è€Œå¢å¼ºäº†å»ä¸­å¿ƒåŒ–ã€‚

3. **æ–°èŠ‚ç‚¹æ›´å¿«çš„åŒæ­¥**ï¼šVerkleæ ‘çš„æ•ˆç‡å…è®¸æ–°èŠ‚ç‚¹åŠ å…¥ç½‘ç»œå¹¶æ›´å¿«åœ°åŒæ­¥ï¼Œæ¯”å½“å‰çš„MPTæ›´å¿«ã€‚è¿™ç§æ›´å¿«çš„åŒæ­¥æé«˜äº†ä»¥å¤ªåŠç½‘ç»œçš„æ•´ä½“é²æ£’æ€§å’Œå¯è®¿é—®æ€§ã€‚

4. **å¯èƒ½çš„æ›´é«˜gas limits**ï¼šå‡å°‘çš„è®¡ç®—å¼€é”€å’Œæé«˜çš„æ•ˆç‡å¯èƒ½å…è®¸æ›´é«˜çš„gas limitsï¼Œä½¿ä»¥å¤ªåŠèƒ½å¤Ÿæ¯ç§’å¤„ç†æ›´å¤šäº¤æ˜“ï¼Œæé«˜å…¶å¯æ‰©å±•æ€§ã€‚

5. **ä¸æœªæ¥åˆ›æ–°çš„å…¼å®¹æ€§**ï¼šVerkleæ ‘ä¸æœªæ¥ä»¥å¤ªåŠåˆ›æ–°ï¼Œå¦‚zk-EVMsï¼ˆé›¶çŸ¥è¯†ä»¥å¤ªåŠè™šæ‹Ÿæœºï¼‰æ›´åŠ å…¼å®¹ã€‚è¿™ç§å…¼å®¹æ€§å¯¹äºä»¥å¤ªåŠçš„é•¿æœŸå‘å±•åŠå…¶èƒ½å¤Ÿæ•´åˆå°–ç«¯åŠ å¯†æŠ€æœ¯è‡³å…³é‡è¦ã€‚



### 2024.4.9

#### å…³äºPOSçš„è®¨è®º

åœ°å€ï¼šhttps://domothy.com/proof-of-stake/

è¿™ç¯‡æ–‡ç« ä¸»è¦è®¨è®ºäº†ä»¥å¤ªåŠä»å·¥ä½œé‡è¯æ˜(PoW)è½¬å‘æƒç›Šè¯æ˜(PoS)å…±è¯†æœºåˆ¶çš„è¯é¢˜ï¼ŒåŒ…æ‹¬:

1. PoSå¹¶éä¸€å¼€å§‹å°±è¢«ä»¥å¤ªåŠé‡‡ç”¨ï¼Œä¸»è¦åŸå› æ˜¯æ—©æœŸPoSè¿˜å¤„äºç†è®ºç ”ç©¶é˜¶æ®µï¼Œå­˜åœ¨ä¸€äº›åŸºæœ¬é—®é¢˜æœ‰å¾…å…‹æœï¼Œä¸”ä¸åŒåŒºå—é“¾çš„PoSå®ç°å„æœ‰åˆ©å¼Šï¼Œæ²¡æœ‰æ”¾ä¹‹å››æµ·è€Œçš†å‡†çš„æ–¹æ¡ˆã€‚

2. æœ‰è§‚ç‚¹è®¤ä¸ºPoSä¼šå¯¼è‡´ä¸­å¿ƒåŒ–ï¼Œæœ¬è´¨ä¸Šä¸PoWç±»ä¼¼ï¼Œæ‹¥æœ‰æ›´å¤šèµ„é‡‘çš„äººå¯ä»¥è·å¾—æ›´é«˜çš„æ”¶ç›Šã€‚ä½†åœ¨PoSä¸‹ï¼Œä¸ç®¡è´¨æŠ¼10ç¾å…ƒè¿˜æ˜¯1000ä¸‡ç¾å…ƒï¼Œæ¯ä¸ªäººçš„æ”¶ç›Šç‡æ˜¯ä¸€æ ·çš„ã€‚

3. è™½ç„¶æ²¡æœ‰åƒPoWé‚£æ ·é‡å¤è®¡ç®—å“ˆå¸Œï¼Œä½†éªŒè¯è€…åœ¨PoSä¸‹ä»ç„¶è¦åš"å·¥ä½œ"ï¼Œå³åˆ›å»ºå’ŒéªŒè¯åŒºå—ï¼Œåªæ˜¯è¿™ç§å·¥ä½œå®Œå…¨ç”±åŒºå—é“¾è¾¾æˆå…±è¯†æ‰€éœ€çš„æœ‰ç”¨å·¥ä½œç»„æˆã€‚

4. æ–‡ç« è®¤ä¸ºï¼Œæ— è®ºæ˜¯PoWè¿˜æ˜¯PoSï¼Œæ‹¥æœ‰èµ„é‡‘ä¼˜åŠ¿çš„äººéƒ½èƒ½è·å¾—æ›´å¤šçš„ç®—åŠ›æˆ–è´¨æŠ¼å¸ï¼Œä»è€Œè·åˆ©æ›´å¤šã€‚PoWå› è§„æ¨¡æ•ˆåº”ä¼šå¯¼è‡´çŸ¿æ± ä¸­å¿ƒåŒ–ï¼Œè€ŒPoSä¸‹å¤§æˆ·çš„æ”¶ç›Šç‡ä¸å°æˆ·ä¸€è‡´ã€‚

è¿™ç¯‡æ–‡ç« åˆ†æäº†PoSç›¸å¯¹PoWçš„ä¼˜ç¼ºç‚¹ï¼ŒæŒ‡å‡ºäºŒè€…åœ¨è¶‹äºä¸­å¿ƒåŒ–æ–¹é¢å¹¶æ— æœ¬è´¨åŒºåˆ«ã€‚PoSçš„æ ¸å¿ƒåœ¨äºè®©éªŒè¯è€…åšæœ‰åŠ©äºåŒºå—é“¾å…±è¯†çš„æœ‰æ„ä¹‰å·¥ä½œï¼Œè€Œéå•çº¯è®¡ç®—å“ˆå¸Œã€‚ä»¥å¤ªåŠé€‰æ‹©PoSæ˜¯ç»è¿‡é•¿æœŸç ”ç©¶å’Œæƒè¡¡çš„ç»“æœã€‚


### æƒç›Šè¯æ˜ï¼ˆPoSï¼‰ä»‹ç»

https://consensys.io/blog/what-is-proof-of-stake

æƒç›Šè¯æ˜ï¼ˆProof of Stakeï¼Œ PoSï¼‰æ˜¯ä¸€ç§åŠ å¯†è´§å¸å…±è¯†æœºåˆ¶ï¼Œç”¨äºéªŒè¯å’Œæ·»åŠ æ–°çš„äº¤æ˜“è®°å½•åˆ°åŒºå—é“¾ã€‚ä¸å·¥ä½œé‡è¯æ˜ï¼ˆProof of Workï¼Œ PoWï¼‰ç›¸æ¯”ï¼ŒPoSä¸ä¾èµ–äºçŸ¿å·¥é€šè¿‡è§£å†³å¤æ‚è®¡ç®—é—®é¢˜æ¥ç«äº‰æ–°åŒºå—çš„åˆ›å»ºæƒï¼Œè€Œæ˜¯åŸºäºå‚ä¸è€…æŒæœ‰çš„åŠ å¯†è´§å¸æ•°é‡å’ŒæŒæœ‰æ—¶é—´æ¥é€‰æ‹©éªŒè¯è€…ã€‚

### PoSçš„ä¼˜åŠ¿

1. **èƒ½æºæ•ˆç‡**ï¼šPoSæœºåˆ¶ä¸éœ€è¦å¤§é‡çš„è®¡ç®—èµ„æºï¼Œå› æ­¤ç›¸æ¯”PoWï¼Œå®ƒå¤§å¤§å‡å°‘äº†èƒ½æºæ¶ˆè€—ã€‚
2. **é™ä½å‚ä¸é—¨æ§›**ï¼šç”±äºä¸éœ€è¦æ˜‚è´µçš„è®¡ç®—ç¡¬ä»¶ï¼Œæ›´å¤šçš„ç”¨æˆ·å¯ä»¥å‚ä¸åˆ°éªŒè¯å’Œç»´æŠ¤ç½‘ç»œçš„è¿‡ç¨‹ä¸­ã€‚
3. **åŠ å¼ºç½‘ç»œå®‰å…¨**ï¼šåœ¨PoSä¸­ï¼ŒéªŒè¯è€…éœ€è¦è´¨æŠ¼ï¼ˆé”å®šï¼‰ä¸€å®šæ•°é‡çš„åŠ å¯†è´§å¸ä½œä¸ºå‚ä¸éªŒè¯çš„â€œæŠµæŠ¼â€ã€‚å¦‚æœéªŒè¯è€…è¯•å›¾æ”»å‡»ç½‘ç»œæˆ–éªŒè¯ä¸æ­£ç¡®çš„äº¤æ˜“ï¼Œä»–ä»¬å°†æœ‰å¯èƒ½å¤±å»éƒ¨åˆ†æˆ–å…¨éƒ¨çš„è´¨æŠ¼èµ„é‡‘ã€‚
4. **æ›´å…¬å¹³çš„å¥–åŠ±åˆ†é…**ï¼šæ‰€æœ‰éªŒè¯è€…æ ¹æ®ä»–ä»¬è´¨æŠ¼çš„èµ„é‡‘æ¯”ä¾‹è·å¾—å¥–åŠ±ï¼Œè¿™æ„å‘³ç€æ”¶ç›Šç‡å¯¹äºå¤§æˆ·å’Œå°æˆ·æ˜¯ä¸€è‡´çš„ã€‚

### ä»¥å¤ªåŠ2.0å’ŒPoS

ä»¥å¤ªåŠ2.0æ˜¯ä»¥å¤ªåŠç½‘ç»œçš„ä¸€æ¬¡é‡å¤§å‡çº§ï¼Œå…¶æ ¸å¿ƒæ˜¯ä»PoWè½¬å‘PoSå…±è¯†æœºåˆ¶ã€‚è¿™ä¸€è½¬å˜æ—¨åœ¨è§£å†³ä»¥å¤ªåŠå½“å‰é¢ä¸´çš„æ‰©å±•æ€§ã€èƒ½æºæ•ˆç‡å’Œå®‰å…¨æ€§é—®é¢˜ã€‚

1. **æ›´é«˜çš„äº¤æ˜“ååé‡**ï¼šé€šè¿‡å¼•å…¥åˆ†ç‰‡æŠ€æœ¯å’ŒPoSï¼Œä»¥å¤ªåŠ2.0æ—¨åœ¨å¤§å¹…æé«˜ç½‘ç»œçš„å¤„ç†èƒ½åŠ›ï¼Œä½¿å…¶èƒ½å¤Ÿå¤„ç†æ›´å¤šçš„äº¤æ˜“å’Œåº”ç”¨ã€‚
2. **æ›´ä½çš„å‚ä¸é—¨æ§›**ï¼šä¸PoWç›¸æ¯”ï¼ŒPoSå…è®¸æ›´å¤šçš„ç”¨æˆ·ä»¥è¾ƒä½çš„æˆæœ¬å‚ä¸åˆ°ç½‘ç»œçš„ç»´æŠ¤ä¸­ï¼Œå¢åŠ äº†ç½‘ç»œçš„å»ä¸­å¿ƒåŒ–ç¨‹åº¦å’Œå®‰å…¨æ€§ã€‚
3. **ç¯å¢ƒå‹å¥½**ï¼šPoSæ˜¾è‘—å‡å°‘äº†èƒ½æºæ¶ˆè€—ï¼Œä¸æ—¥ç›Šå¢é•¿çš„ç¯ä¿æ„è¯†ç›¸ç¬¦ã€‚

æƒç›Šè¯æ˜æœºåˆ¶ä¸ºåŠ å¯†è´§å¸ç½‘ç»œæä¾›äº†ä¸€ç§æ›´åŠ é«˜æ•ˆã€å®‰å…¨å’Œç¯ä¿çš„å…±è¯†æœºåˆ¶ã€‚ä»¥å¤ªåŠ2.0çš„å‡çº§æ ‡å¿—ç€å¯¹è¿™ä¸€æœºåˆ¶çš„é‡å¤§é‡‡çº³ï¼Œé¢„è®¡å°†ä¸ºæ•´ä¸ªåŒºå—é“¾è¡Œä¸šå¸¦æ¥æ·±è¿œçš„å½±å“ã€‚

- Proof of Stake addresses the three issues of PoW chains discussed earlier - accessibilityï¼Œ centralizationï¼Œ and especially scalability:

#### å¦‚ä½•åœ¨POSä¸­å¤„ç†ç½‘ç»œä¸­çš„æ•…éšœæˆ–æ¶æ„èŠ‚ç‚¹ 

åœ¨æƒç›Šè¯æ˜(PoS)å…±è¯†æœºåˆ¶ä¸­ï¼Œåˆ†å¸ƒå¼ç½‘ç»œé€šè¿‡æ‹œå åº­å®¹é”™(BFT)ç®—æ³•æ¥å¤„ç†æ•…éšœæˆ–æ¶æ„èŠ‚ç‚¹çš„é—®é¢˜ï¼Œä»¥ç¡®ä¿ç½‘ç»œçš„æ­£å¸¸è¿è¡Œã€‚å…·ä½“æ¥è¯´:

1. PoSç½‘ç»œåˆ©ç”¨BFTç®—æ³•åœ¨å­˜åœ¨ä¸€å®šæ•°é‡çš„æ•…éšœæˆ–æ¶æ„èŠ‚ç‚¹çš„æƒ…å†µä¸‹ä»èƒ½è¾¾æˆå…±è¯†ï¼Œåªè¦æ•…éšœèŠ‚ç‚¹çš„æ•°é‡ä¸è¶…è¿‡ä¸€å®šé˜ˆå€¼ã€‚

2. éªŒè¯è€…éœ€è¦è´¨æŠ¼(é”å®š)ä¸€å®šæ•°é‡çš„åŠ å¯†è´§å¸ä½œä¸ºæŠµæŠ¼ã€‚å¦‚æœéªŒè¯è€…è¯•å›¾æ”»å‡»ç½‘ç»œæˆ–éªŒè¯é”™è¯¯çš„äº¤æ˜“ï¼Œä»–ä»¬å°†æŸå¤±éƒ¨åˆ†æˆ–å…¨éƒ¨çš„è´¨æŠ¼èµ„é‡‘ä½œä¸ºæƒ©ç½šã€‚è¿™ç§æƒ©ç½šæœºåˆ¶æ¿€åŠ±éªŒè¯è€…è¯šå®è¡Œäº‹ã€‚

3. ä¸€äº›PoSåŒºå—é“¾ä¼šå¯¹éªŒè¯è€…çš„åœæœºæ—¶é—´è¿›è¡Œä¸¥å‰æƒ©ç½šï¼Œå¦‚æœä»–ä»¬çš„åœ¨çº¿æ—¶é—´ä½äºä¸€å®šé˜ˆå€¼ï¼Œå°±ä¼šé”€æ¯("å‰Šå‡")éƒ¨åˆ†è´¨æŠ¼çš„å¸ã€‚è¿™ä¿ƒä½¿éªŒè¯è€…ä¿æŒé«˜æ°´å¹³çš„å¯ç”¨æ€§ã€‚

4. PoSå…±è¯†çš„å®‰å…¨æ€§ç›´æ¥æŒæ¡åœ¨é‚£äº›ç»´æŠ¤ç½‘ç»œå¹¶åœ¨åè®®ä¸­æŒæœ‰åŸç”ŸåŠ å¯†èµ„äº§çš„äººæ‰‹ä¸­ã€‚ä¸PoWç›¸æ¯”ï¼Œè¿™ç§æ¶æ„èƒ½æ›´å¥½åœ°å°†ç½‘ç»œå®‰å…¨ä¸å‚ä¸è€…çš„ç»æµåˆ©ç›Šç»‘å®šåœ¨ä¸€èµ·ã€‚

5. å°½ç®¡PoSåœ¨å®‰å…¨æ€§æ–¹é¢å¯èƒ½ä¸å¦‚PoWå¾—åˆ°å……åˆ†éªŒè¯ï¼Œä½†é€šè¿‡è´¨æŠ¼ã€æƒ©ç½šå’Œæ¿€åŠ±ç­‰æœºåˆ¶ï¼ŒPoSç½‘ç»œèƒ½æœ‰æ•ˆåº”å¯¹æ•…éšœå’Œæ¶æ„è¡Œä¸ºï¼Œç»´æŠ¤ç³»ç»Ÿçš„å¯é è¿è¡Œã€‚

PoSç½‘ç»œä¸»è¦é€šè¿‡BFTç®—æ³•ã€è´¨æŠ¼å’Œæƒ©ç½šæœºåˆ¶æ¥å¤„ç†æ•…éšœæˆ–æ¶æ„èŠ‚ç‚¹ã€‚é€šè¿‡å°†éªŒè¯è€…çš„ç»æµåˆ©ç›Šä¸è¯šå®è¡Œä¸ºç»‘å®šï¼Œå¹¶å¯¹ä¸å½“è¡Œä¸ºè¿›è¡Œä¸¥å‰æƒ©ç½šï¼ŒPoSæ¿€åŠ±éªŒè¯è€…ç»´æŠ¤ç½‘ç»œçš„å®‰å…¨å’Œå¯ç”¨æ€§ï¼Œä»è€Œç¡®ä¿ç³»ç»Ÿåœ¨å­˜åœ¨ä¸€å®šæ¯”ä¾‹çš„æ‹œå åº­èŠ‚ç‚¹æ—¶ä»èƒ½æ­£å¸¸è¿è¡Œã€‚



### 2024.4.8

#### ä¿¡æ ‡é“¾(Beacon Chain)

ä¿¡æ ‡é“¾æ˜¯ä»¥å¤ªåŠ2.0 PoSå…±è¯†ç³»ç»Ÿçš„æ ¸å¿ƒåè°ƒæœºåˆ¶ã€‚å­¦ä¹ æ€»ç»“ä¸‹å®ƒçš„å·¥ä½œåŸç†:

1. ä¿¡æ ‡é“¾æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„åŒºå—é“¾ï¼Œä¸ä»¥å¤ªåŠä¸»é“¾å¹¶è¡Œè¿è¡Œã€‚å®ƒè´Ÿè´£ç®¡ç†PoSåè®®å¹¶åè°ƒéªŒè¯è€…ç½‘ç»œã€‚

2. éªŒè¯è€…æŒæœ‰32ä¸ªETHæ¥å‚ä¸å…±è¯†è¿‡ç¨‹ã€‚å®ƒä»¬è¢«ä¿¡æ ‡é“¾éšæœºåˆ†é…åˆ°æ¯ä¸ªæ§½ä½(12ç§’)è‡³å°‘128ä¸ªéªŒè¯è€…çš„â€œå§”å‘˜ä¼šâ€ä¸­ï¼Œä»¥æå‡ºå’ŒéªŒè¯æ–°åŒºå—ã€‚

3. ä¿¡æ ‡é“¾å°†æ—¶é—´ç»„ç»‡ä¸ºâ€œæ’æ§½â€(12ç§’)å’Œâ€œepochâ€(32ä¸ªæ’æ§½ï¼Œçº¦6.4åˆ†é’Ÿ)ã€‚æ¯ä¸ªæ§½ä½éƒ½æœ‰ä¸€ä¸ªç”±ä¿¡æ ‡é“¾é€‰æ‹©çš„åŒºå—æè®®è€…æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„åŒºå—ã€‚

4. æ¯ä¸ªæ§½ä½å§”å‘˜ä¼šä¸­çš„éªŒè¯è€…é€šè¿‡å¹¿æ’­â€œè¯æ˜â€å¯¹æè®®çš„åŒºå—è¿›è¡ŒæŠ•ç¥¨ã€‚å½“å§”å‘˜ä¼šçš„ç»å¯¹å¤šæ•°æˆå‘˜è¯æ˜äº†ä¸€ä¸ªåŒºå—æ—¶ï¼Œå®ƒå°±ä¼šè¢«æ·»åŠ åˆ°ä¿¡æ ‡é“¾ã€‚

5. åœ¨æ¯ä¸ªepochçš„å¼€å§‹ï¼Œä¿¡æ ‡é“¾ä»å‰ä¸€ä¸ªepochæŒ‡å®šä¸€ä¸ªæ£€æŸ¥ç‚¹å—ã€‚å¦‚æœä»£è¡¨æ€»ä»¥å¤ªåŠ2/3çš„éªŒè¯è€…æŠ•ç¥¨æ”¯æŒè¯¥æ£€æŸ¥ç‚¹ï¼Œå®ƒå°±å˜å¾—â€œåˆç†â€ã€‚å¦‚æœä¸‹ä¸€ä¸ªepochçš„æ£€æŸ¥ç‚¹ä¹Ÿè¢«è¯æ˜æ˜¯åˆç†çš„ï¼Œé‚£ä¹ˆå‰ä¸€ä¸ªæ£€æŸ¥ç‚¹å°±ä¼šâ€œæœ€ç»ˆç¡®å®šâ€ï¼Œè¿™æ„å‘³ç€å®ƒæ˜¯ä¸å¯é€†çš„ã€‚

6. ä¿¡æ ‡é“¾æ ¹æ®éªŒè¯è€…çš„è¡¨ç°å¯¹å…¶è¿›è¡Œå¥–åŠ±å’Œæƒ©ç½šï¼Œå¹¶é€šè¿‡â€œç â€æ¥æƒ©ç½šæ¶æ„è¡Œä¸ºï¼Œå¯¼è‡´éªŒè¯è€…å¤±å»ä¸€äº›æŠ¼æ³¨çš„ETHã€‚

Â https://consensys.io/blog/the-ethereum-2-0-beacon-chain-is-here-now-what



### 2024.4.7

#### èŠ‚ç‚¹å’Œå®¢æˆ·ç«¯

åœ¨ä»¥å¤ªåŠç½‘ç»œä¸­ï¼ŒèŠ‚ç‚¹å¯ä»¥æ˜¯è½»èŠ‚ç‚¹ã€å…¨èŠ‚ç‚¹æˆ–å­˜æ¡£èŠ‚ç‚¹ã€‚è½»èŠ‚ç‚¹åªä¸‹è½½åŒºå—å¤´ï¼Œè€Œä¸æ˜¯æ•´ä¸ªåŒºå—é“¾çš„æ‰€æœ‰æ•°æ®ï¼Œè¿™ä½¿å¾—å®ƒä»¬å¯ä»¥å¿«é€ŸåŒæ­¥å¹¶éªŒè¯æ•°æ®çš„æœ‰æ•ˆæ€§ã€‚å…¨èŠ‚ç‚¹åˆ™å­˜å‚¨æ•´ä¸ªåŒºå—é“¾çš„æ•°æ®ï¼Œå¹¶å‚ä¸åˆ°åŒºå—çš„éªŒè¯è¿‡ç¨‹ä¸­ã€‚å­˜æ¡£èŠ‚ç‚¹å­˜å‚¨äº†å…¨èŠ‚ç‚¹çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå¹¶ä¸”è¿˜å»ºç«‹äº†å†å²çŠ¶æ€çš„å­˜æ¡£ã€‚

ä»¥å¤ªåŠå®¢æˆ·ç«¯çš„åŠŸèƒ½åŒ…æ‹¬åˆ›å»ºå’Œç®¡ç†é’±åŒ…ã€å‘é€äº¤æ˜“ã€æŸ¥è¯¢åŒºå—é“¾ä¿¡æ¯ã€ä¸æ™ºèƒ½åˆçº¦äº¤äº’ä»¥åŠç®¡ç†æœ¬åœ°èŠ‚ç‚¹ç­‰ã€‚

ä»¥å¤ªåŠèŠ‚ç‚¹å’Œå®¢æˆ·ç«¯çš„è®¾è®¡æ—¨åœ¨æ”¯æŒå»ä¸­å¿ƒåŒ–ï¼Œç¡®ä¿ç½‘ç»œçš„å®‰å…¨æ€§å’Œå¯é æ€§ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½è¿è¡Œç€ä»¥å¤ªåŠè™šæ‹Ÿæœºï¼ˆEVMï¼‰å¹¶æ‰§è¡Œç›¸åŒçš„æŒ‡ä»¤ï¼Œè¿™äº›èŠ‚ç‚¹å½¼æ­¤å¹³ç­‰ï¼Œå®æ—¶æ²Ÿé€šåŒæ­¥åŒºå—èµ„æ–™ï¼Œä»¥ç»´æŒä»¥å¤ªåŠåŒºå—é“¾çš„è¿ä½œã€‚


[1] https://ethereum.org/en/developers/docs/nodes-and-clients/

[2] https://cs251.stanford.edu/lectures/lecture7.pdf


#### Execution Layer node

ä»¥å¤ªåŠæ‰§è¡Œå±‚èŠ‚ç‚¹æ˜¯ä»¥å¤ªåŠç½‘ç»œä¸­çš„ä¸€ç§èŠ‚ç‚¹ï¼Œè´Ÿè´£æ‰§è¡Œäº¤æ˜“å’Œæ™ºèƒ½åˆçº¦çš„ä»£ç ã€‚æ‰§è¡Œå±‚èŠ‚ç‚¹è¿è¡Œç€ä»¥å¤ªåŠè™šæ‹Ÿæœºï¼ˆEVMï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªå…¨å±€çš„ã€æ²™ç›’åŒ–çš„æ‰§è¡Œç¯å¢ƒï¼Œå¯ä»¥ç²¾ç¡®åœ°æ‰§è¡Œæ™ºèƒ½åˆçº¦çš„å­—èŠ‚ç ã€‚EVMç¡®ä¿äº†æ™ºèƒ½åˆçº¦åœ¨ä¸åŒèŠ‚ç‚¹ä¸Šçš„æ‰§è¡Œç»“æœæ˜¯ä¸€è‡´çš„ï¼Œä»è€Œç»´æŠ¤äº†ç½‘ç»œçš„åŒæ­¥å’Œå…±è¯†ã€‚

æ‰§è¡Œå±‚èŠ‚ç‚¹é€šè¿‡éªŒè¯å’Œæ‰§è¡Œäº¤æ˜“ï¼Œæ¥ç»´æŠ¤ä»¥å¤ªåŠåŒºå—é“¾çš„çŠ¶æ€ã€‚æ¯ä¸ªæ‰§è¡Œå±‚èŠ‚ç‚¹éƒ½ä¼šéªŒè¯æ¯ä¸ªåŒºå—ä¸­çš„æ‰€æœ‰äº¤æ˜“ï¼Œå¹¶æ‰§è¡Œè¿™äº›äº¤æ˜“ä¸­å®šä¹‰çš„æ™ºèƒ½åˆçº¦ä»£ç ã€‚è¿™ä¸ªè¿‡ç¨‹åŒ…æ‹¬è®¡ç®—äº¤æ˜“è´¹ç”¨ã€æ›´æ–°è´¦æˆ·ä½™é¢ã€æ‰§è¡Œæ™ºèƒ½åˆçº¦çš„å‡½æ•°è°ƒç”¨ç­‰ã€‚æ‰§è¡Œå±‚èŠ‚ç‚¹è¿˜è´Ÿè´£åˆ›å»ºæ–°çš„åŒºå—ï¼Œå¹¶å°†è¿™äº›åŒºå—å¹¿æ’­åˆ°ç½‘ç»œä¸­çš„å…¶ä»–èŠ‚ç‚¹ã€‚

æ‰§è¡Œå±‚èŠ‚ç‚¹ä¸å…±è¯†å±‚èŠ‚ç‚¹ï¼ˆConsensus Layer nodeï¼‰ä¸€èµ·å·¥ä½œï¼Œå…±è¯†å±‚èŠ‚ç‚¹è´Ÿè´£ç½‘ç»œçš„å…±è¯†æœºåˆ¶ï¼Œä¾‹å¦‚åœ¨ä»¥å¤ªåŠ2.0ä¸­çš„æƒç›Šè¯æ˜ï¼ˆProof of Stakeï¼Œ PoSï¼‰æœºåˆ¶ã€‚æ‰§è¡Œå±‚èŠ‚ç‚¹æä¾›äº†æ‰§è¡Œäº¤æ˜“å’Œåˆçº¦çš„åŠŸèƒ½ï¼Œè€Œå…±è¯†å±‚èŠ‚ç‚¹åˆ™ç¡®ä¿äº†åŒºå—çš„äº§ç”Ÿå’Œé“¾çš„å®‰å…¨æ€§ã€‚

ä»¥å¤ªåŠå®¢æˆ·ç«¯è½¯ä»¶ï¼Œå¦‚Gethæˆ–Parityï¼Œé€šå¸¸åŒ…å«äº†æ‰§è¡Œå±‚çš„åŠŸèƒ½ã€‚è¿™äº›å®¢æˆ·ç«¯è½¯ä»¶å®ç°äº†ä»¥å¤ªåŠçš„è§„èŒƒï¼Œå¹¶é€šè¿‡ç‚¹å¯¹ç‚¹ç½‘ç»œä¸å…¶ä»–ä»¥å¤ªåŠå®¢æˆ·ç«¯é€šä¿¡ã€‚ä¸åŒçš„å®¢æˆ·ç«¯è½¯ä»¶å¯èƒ½ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ç¼–å†™ï¼Œä½†å®ƒä»¬éƒ½éµå¾ªç›¸åŒçš„åè®®è§„åˆ™ï¼Œå› æ­¤å¯ä»¥äº’æ“ä½œã€‚


[1]  https://ethereum.stackexchange.com/questions/136728/who-runs-the-evm


#### State transition function

ä»¥å¤ªåŠçš„çŠ¶æ€è½¬æ¢å‡½æ•°æ˜¯ä»¥å¤ªåŠåŒºå—é“¾æ ¸å¿ƒæ¦‚å¿µä¹‹ä¸€ï¼Œå®ƒæè¿°äº†å¦‚ä½•ä»å½“å‰çš„å…¨å±€çŠ¶æ€è½¬æ¢åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯ä»¥å¤ªåŠæ‰§è¡Œäº¤æ˜“å’Œæ™ºèƒ½åˆçº¦çš„åŸºç¡€ã€‚

åœ¨ä»¥å¤ªåŠä¸­ï¼Œå…¨å±€çŠ¶æ€æ˜¯ç”±æ‰€æœ‰è´¦æˆ·çš„å½“å‰çŠ¶æ€ï¼ˆåŒ…æ‹¬å®ƒä»¬çš„ä½™é¢ã€å­˜å‚¨çš„æ•°æ®å’Œä»£ç ï¼‰ç»„æˆçš„ã€‚æ¯å½“ä¸€ä¸ªäº¤æ˜“è¢«æ‰§è¡Œæ—¶ï¼ŒçŠ¶æ€è½¬æ¢å‡½æ•°å°±ä¼šè¢«è°ƒç”¨æ¥æ›´æ–°å…¨å±€çŠ¶æ€ã€‚è¿™ä¸ªå‡½æ•°æ¥å—å½“å‰çš„å…¨å±€çŠ¶æ€å’Œä¸€ä¸ªäº¤æ˜“ä½œä¸ºè¾“å…¥ï¼Œè¾“å‡ºä¸€ä¸ªæ–°çš„å…¨å±€çŠ¶æ€ã€‚

çŠ¶æ€è½¬æ¢å‡½æ•°çš„å·¥ä½œæµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š

1. **éªŒè¯äº¤æ˜“**ï¼šé¦–å…ˆéªŒè¯äº¤æ˜“çš„æœ‰æ•ˆæ€§ï¼ŒåŒ…æ‹¬ç­¾åçš„éªŒè¯å’Œäº¤æ˜“å‘èµ·è€…è´¦æˆ·ä½™é¢æ˜¯å¦è¶³å¤Ÿæ”¯ä»˜äº¤æ˜“è´¹ç”¨ã€‚
2. **æ‰§è¡Œäº¤æ˜“**ï¼šç„¶åæ ¹æ®äº¤æ˜“çš„å†…å®¹æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚è¿™å¯èƒ½åŒ…æ‹¬è½¬ç§»ä»¥å¤ªå¸ã€æ‰§è¡Œæ™ºèƒ½åˆçº¦ä»£ç æˆ–åˆ›å»ºæ–°çš„æ™ºèƒ½åˆçº¦ã€‚
3. **æ›´æ–°çŠ¶æ€**ï¼šæ‰§è¡Œäº¤æ˜“åï¼Œæ›´æ–°å…¨å±€çŠ¶æ€ä»¥åæ˜ äº¤æ˜“çš„ç»“æœã€‚è¿™å¯èƒ½åŒ…æ‹¬æ”¹å˜è´¦æˆ·çš„ä½™é¢ã€æ›´æ–°å­˜å‚¨çš„æ•°æ®æˆ–æ›´æ”¹æ™ºèƒ½åˆçº¦çš„ä»£ç ã€‚
4. **æ”¶å–äº¤æ˜“è´¹**ï¼šæœ€åä»äº¤æ˜“å‘èµ·è€…çš„è´¦æˆ·ä¸­æ‰£é™¤äº¤æ˜“è´¹ç”¨ï¼Œå¹¶å°†å…¶ä½œä¸ºå¥–åŠ±å‘ç»™çŸ¿å·¥æˆ–éªŒè¯è€…ã€‚

ä»¥å¤ªåŠçš„çŠ¶æ€è½¬æ¢å‡½æ•°æ˜¯ç¡®å®šæ€§çš„ï¼Œå¦‚æœç»™å®šç›¸åŒçš„è¾“å…¥ï¼ˆå½“å‰çŠ¶æ€å’Œäº¤æ˜“ï¼‰ï¼Œå®ƒæ€»æ˜¯äº§ç”Ÿç›¸åŒçš„è¾“å‡ºï¼ˆæ–°çŠ¶æ€ï¼‰ã€‚è¿™ä¿è¯äº†æ‰€æœ‰èŠ‚ç‚¹åœ¨å¤„ç†ç›¸åŒçš„äº¤æ˜“é›†åˆæ—¶ï¼Œæœ€ç»ˆä¼šè¾¾æˆç›¸åŒçš„å…¨å±€çŠ¶æ€ï¼Œä»è€Œç»´æŠ¤äº†åŒºå—é“¾çš„ä¸€è‡´æ€§å’Œå®‰å…¨æ€§ã€‚






### 2024.4.6
#### p2pç½‘ç»œ

- P2Pç½‘ç»œï¼Œåˆå«ç‚¹å¯¹ç‚¹ç½‘ç»œï¼Œæ˜¯ä¸€ç§å»ä¸­å¿ƒåŒ–çš„ç½‘ç»œç»“æ„ï¼Œå…¶ä¸­æ¯ä¸ªç½‘ç»œèŠ‚ç‚¹æ—¢æ˜¯å®¢æˆ·ç«¯åˆæ˜¯æœåŠ¡å™¨ï¼Œèƒ½å¤Ÿç›´æ¥ä¸å…¶ä»–èŠ‚ç‚¹è¿›è¡Œé€šä¿¡å’Œæ•°æ®äº¤æ¢ã€‚è¿™ç§ç½‘ç»œç»“æ„å…è®¸èŠ‚ç‚¹å…±äº«èµ„æºï¼Œå¦‚æ–‡ä»¶ã€å­˜å‚¨ç©ºé—´æˆ–å¸¦å®½ï¼Œæ— éœ€ä¾èµ–ä¸­å¤®æœåŠ¡å™¨
- P2Pç½‘ç»œçš„å·¥ä½œåŸç†æ˜¯åŸºäºå¯¹ç­‰çš„èŠ‚ç‚¹ä¹‹é—´ç›´æ¥è¿›è¡Œé€šä¿¡å’Œæ•°æ®äº¤æ¢ï¼Œè€Œä¸ä¾èµ–äºä¸­å¤®æœåŠ¡å™¨ã€‚åœ¨P2Pç½‘ç»œä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹æ—¢æ˜¯å®¢æˆ·ç«¯ä¹Ÿæ˜¯æœåŠ¡å™¨ï¼Œå¯ä»¥æä¾›å’Œè¯·æ±‚æœåŠ¡ã€‚è¿™ç§ç½‘ç»œæ¨¡å‹å…è®¸èŠ‚ç‚¹å…±äº«æ–‡ä»¶ã€å¤„ç†å™¨è¿ç®—èƒ½åŠ›ã€å­˜å‚¨ç©ºé—´ç­‰èµ„æºã€‚
- åœ¨P2Pç½‘ç»œä¸­ï¼ŒèŠ‚ç‚¹éœ€è¦è§£å†³å¦‚ä½•åŠ å…¥å’Œç¦»å¼€ç½‘ç»œã€å¦‚ä½•åœ¨ç½‘ç»œä¸­æŸ¥æ‰¾å’Œè¿æ¥åˆ°å…¶ä»–èŠ‚ç‚¹ã€ä»¥åŠå¦‚ä½•å¤„ç†èŠ‚ç‚¹æ•…éšœå’Œæ¢å¤ç­‰é—®é¢˜ã€‚ä¸ºäº†å®ç°è¿™äº›åŠŸèƒ½ï¼ŒP2Pç½‘ç»œé€šå¸¸é‡‡ç”¨ç‰¹å®šçš„é€šä¿¡åè®®ï¼Œå¦‚Gossipåè®®ï¼Œè¯¥åè®®é€šè¿‡èŠ‚ç‚¹ä¹‹é—´çš„ç›¸äº’ä¼ é€’ä¿¡æ¯æ¥å®ç°æ•°æ®çš„åˆ†å‘å’Œæ›´æ–°

#### IPFS

1. IPFSï¼ˆInterPlanetary File Systemï¼‰æ˜¯ä¸€ä¸ªç‚¹å¯¹ç‚¹çš„åˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨ç³»ç»Ÿï¼Œæ—¨åœ¨è¿æ¥æ‰€æœ‰è®¡ç®—è®¾å¤‡å…·æœ‰ç›¸åŒçš„æ–‡ä»¶ç³»ç»Ÿã€‚åœ¨åŒºå—é“¾é¢†åŸŸï¼ŒIPFSå¸¸è¢«ç”¨æ¥å­˜å‚¨ä¸é€‚åˆç›´æ¥å­˜å‚¨åœ¨åŒºå—é“¾ä¸Šçš„å¤§å‹æ•°æ®ï¼Œä¾‹å¦‚å›¾ç‰‡ã€è§†é¢‘ç­‰åª’ä½“æ–‡ä»¶ã€‚

2. IPFSçš„å·¥ä½œåŸç†æ˜¯å°†æ–‡ä»¶åˆ†å‰²æˆå°å—ï¼Œæ¯ä¸€å—éƒ½é€šè¿‡åŠ å¯†å“ˆå¸Œå‡½æ•°ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„å“ˆå¸Œå€¼ã€‚è¿™äº›å“ˆå¸Œå€¼ä½œä¸ºæ–‡ä»¶å†…å®¹çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå¯ä»¥ç”¨æ¥æ£€ç´¢æ–‡ä»¶ã€‚å½“ç”¨æˆ·éœ€è¦è·å–æŸä¸ªæ–‡ä»¶æ—¶ï¼ŒIPFSç½‘ç»œå¯ä»¥åˆ©ç”¨è¿™äº›å“ˆå¸Œå€¼æ‰¾åˆ°å­˜å‚¨ç›¸åº”æ–‡ä»¶å—çš„èŠ‚ç‚¹ï¼Œå¹¶ä»å¤šä¸ªèŠ‚ç‚¹å¤„å¹¶è¡Œä¸‹è½½ï¼Œæé«˜äº†æ•°æ®çš„æ£€ç´¢æ•ˆç‡å’Œç³»ç»Ÿçš„å¥å£®æ€§ã€‚

3. IPFSä½¿ç”¨åˆ†å¸ƒå¼å“ˆå¸Œè¡¨ï¼ˆDHTï¼‰æ¥è·Ÿè¸ªæ•°æ®å—çš„ä½ç½®ã€‚DHTæ˜¯ä¸€ç§ç”¨äºå»ä¸­å¿ƒåŒ–ç½‘ç»œçš„é”®å€¼å­˜å‚¨ç³»ç»Ÿï¼Œå®ƒå…è®¸ç½‘ç»œä¸­çš„èŠ‚ç‚¹é«˜æ•ˆåœ°æ‰¾åˆ°å­˜å‚¨ç‰¹å®šæ•°æ®çš„å…¶ä»–èŠ‚ç‚¹ã€‚IPFSä¸­çš„DHTåŸºäºKademliaç®—æ³•ï¼Œè¿™æ˜¯ä¸€ç§ä¸“ä¸ºP2Pç½‘ç»œè®¾è®¡çš„DHTã€‚

4. åœ¨åŒºå—é“¾ä¸­ï¼ŒIPFSå¯ä»¥ä¸æ™ºèƒ½åˆçº¦ç»“åˆä½¿ç”¨ï¼Œä»¥å®ç°å»ä¸­å¿ƒåŒ–çš„æ•°æ®å­˜å‚¨è§£å†³æ–¹æ¡ˆã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°†æ•°æ®å­˜å‚¨åœ¨IPFSä¸­ï¼Œè€Œå°†æ•°æ®çš„å“ˆå¸Œå€¼å’Œå…¶ä»–ç›¸å…³ä¿¡æ¯ï¼ˆå¦‚äº¤æ˜“åœ°å€å’Œç­¾åï¼‰å­˜å‚¨åœ¨åŒºå—é“¾ä¸Šã€‚è¿™æ ·ï¼ŒåŒºå—é“¾å°±å¯ä»¥æä¾›ä¸€ä¸ªä¸å¯ç¯¡æ”¹çš„æ•°æ®å†å²è®°å½•ï¼Œè€ŒIPFSåˆ™è´Ÿè´£å­˜å‚¨å®é™…çš„æ•°æ®å†…å®¹ã€‚

5. IPFSçš„ä¼˜åŠ¿åœ¨äºå®ƒèƒ½å¤Ÿè§£å†³åŒºå—é“¾åœ¨æ•°æ®å­˜å‚¨æ–¹é¢çš„é™åˆ¶ï¼Œå¦‚å­˜å‚¨ç©ºé—´å’Œå“åº”æ—¶é—´ã€‚é€šè¿‡å°†æ•°æ®å­˜å‚¨åœ¨IPFSä¸Šï¼ŒåŒºå—é“¾å¯ä»¥ä¿æŒè½»é‡çº§ï¼ŒåŒæ—¶ç¡®ä¿æ•°æ®çš„ä¸å¯ç¯¡æ”¹æ€§å’ŒæŒä¹…æ€§ã€‚æ­¤å¤–ï¼ŒIPFSçš„å»ä¸­å¿ƒåŒ–ç‰¹æ€§ä¹Ÿæœ‰åŠ©äºæé«˜æ•°æ®å­˜å‚¨çš„å®‰å…¨æ€§å’Œéšç§ä¿æŠ¤ã€‚


> ä»Šå¤©äº†è§£äº†p2pç½‘ç»œçš„å·¥ä½œåŸç†å’ŒIPFSçš„ä¼˜åŠ¿ï¼Œä»¥åŠå®ƒä»¬åœ¨åŒºå—é“¾é¢†åŸŸçš„åº”ç”¨ã€‚


[1] https://icommunity.io/en/what-is-ifps-the-hard-drive-for-blockchain/

[2]  https://www.youtube.com/watch?v=vTIfRgoaCIM


#### Ethereum in 30 minutes video 
æœ¬è§†é¢‘æ˜¯ä»¥å¤ªåŠè”åˆåˆ›å§‹äººVitalik Buterinåœ¨2022å¹´æ³¢å“¥å¤§Devconä¼šè®®ä¸Šçš„æ¼”è®²ã€‚åœ¨æ¼”è®²ä¸­ï¼ŒVitalikè®¨è®ºäº†ä»¥å¤ªåŠçš„ç°çŠ¶åŠå…¶æœªæ¥çš„å‘å±•ã€‚

1. ä»¥å¤ªåŠæ˜¯ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„å¼€æºåŒºå—é“¾å¹³å°ï¼Œå¯ä»¥åˆ›å»ºæ™ºèƒ½åˆçº¦å’Œå»ä¸­å¿ƒåŒ–åº”ç”¨ç¨‹åº(dApps)ã€‚æ™ºèƒ½åˆçº¦æ˜¯è‡ªåŠ¨æ‰§è¡Œçš„åˆçº¦ï¼Œå…¶åè®®æ¡æ¬¾ç›´æ¥å†™å…¥ä»£ç ï¼Œå…è®¸æ•°å­—äº¤æ˜“è‡ªåŠ¨åŒ–å’Œæ¶ˆé™¤ä¸­ä»‹ã€‚

2. Vitalikè®¨è®ºäº†ä»¥å¤ªåŠé¢ä¸´çš„å¯æ‰©å±•æ€§æŒ‘æˆ˜ä»¥åŠä¸ºè§£å†³è¿™äº›æŒ‘æˆ˜è€Œå¼€å‘çš„è§£å†³æ–¹æ¡ˆï¼Œä¾‹å¦‚åˆ†ç‰‡å’Œç¬¬äºŒå±‚æ‰©å±•è§£å†³æ–¹æ¡ˆã€‚åˆ†ç‰‡æ˜¯ä¸€ç§å°†ä»¥å¤ªåŠç½‘ç»œåˆ†å‰²æˆæ›´å°ï¼Œæ›´æ˜“äºç®¡ç†çš„ç¢ç‰‡çš„æ–¹æ³•ï¼Œç§°ä¸ºåˆ†ç‰‡ï¼Œè¿™å…è®¸æ›´å¤§çš„å¯æ‰©å±•æ€§å’Œæ›´å¿«çš„äº¤æ˜“å¤„ç†ã€‚ç¬¬2å±‚æ‰©å±•è§£å†³æ–¹æ¡ˆï¼Œå¦‚ä¹è§‚rollupå’Œzk - rollupï¼Œå»ºç«‹åœ¨ä»¥å¤ªåŠåŒºå—é“¾ä¹‹ä¸Šï¼Œé€šè¿‡é“¾ä¸‹å¤„ç†ï¼Œç„¶åæäº¤ç»™ä»¥å¤ªåŠç½‘ç»œè¿›è¡Œæœ€ç»ˆç»“ç®—ï¼Œä»è€Œå®ç°æ›´å¿«ã€æ›´ä¾¿å®œçš„äº¤æ˜“ã€‚

3. Vitalikè¿˜è®¨è®ºäº†ä»¥å¤ªåŠä»å·¥ä½œé‡è¯æ˜(PoW)å…±è¯†æœºåˆ¶å‘æƒç›Šè¯æ˜(PoS)å…±è¯†æœºåˆ¶çš„è¿‡æ¸¡ï¼Œç§°ä¸ºä»¥å¤ªåŠ2.0æˆ–Serenityã€‚PoSæ˜¯ä¸€ç§æ›´èŠ‚èƒ½ã€æ›´ç¯ä¿çš„å…±è¯†æœºåˆ¶ï¼Œå®ƒç”¨éªŒè¯è€…å–ä»£äº†å¯¹çŸ¿å·¥çš„éœ€æ±‚ï¼ŒéªŒè¯è€…å°†ä»–ä»¬çš„ä»¥å¤ªå¸(ETH)ç”¨äºéªŒè¯äº¤æ˜“å¹¶ä¿æŠ¤ç½‘ç»œã€‚


#### POW AND POS

ä»¥å¤ªåŠçš„å·¥ä½œé‡è¯æ˜ï¼ˆProof of Workï¼Œç®€ç§°PoWï¼‰å’Œæƒç›Šè¯æ˜ï¼ˆProof of Stakeï¼Œç®€ç§°PoSï¼‰æ˜¯ä¸¤ç§ä¸åŒçš„å…±è¯†æœºåˆ¶ï¼Œç”¨äºåœ¨å»ä¸­å¿ƒåŒ–ç½‘ç»œä¸­éªŒè¯äº¤æ˜“å’Œåˆ›å»ºæ–°åŒºå—ã€‚

**å·¥ä½œé‡è¯æ˜ï¼ˆPoWï¼‰**

åœ¨PoWç³»ç»Ÿä¸­ï¼ŒçŸ¿å·¥ä½¿ç”¨GPUå’ŒASICï¼ˆä¸“ç”¨é›†æˆç”µè·¯ï¼‰ç­‰ç¡¬ä»¶æ¥è§£å†³å¤æ‚çš„æ•°å­¦é—®é¢˜ï¼Œä»¥æ­¤æ¥éªŒè¯äº¤æ˜“å¹¶åˆ›å»ºæ–°çš„åŒºå—ã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºæŒ–çŸ¿ã€‚æŒ–çŸ¿çš„çŸ¿å·¥ä¼šè·å¾—æ–°åˆ›å»ºçš„åŠ å¯†è´§å¸å’Œäº¤æ˜“è´¹ç”¨ä½œä¸ºå¥–åŠ±ã€‚PoWæœºåˆ¶æä¾›äº†å¾ˆå¼ºçš„ç½‘ç»œå®‰å…¨æ€§ï¼Œä½†å®ƒéå¸¸è€—èƒ½ï¼Œå› ä¸ºå®ƒéœ€è¦å¤§é‡çš„è®¡ç®—èƒ½åŠ›ã€‚è¿™ç§èƒ½æºæ¶ˆè€—ä¸€ç›´æ˜¯ç¯å¢ƒå€¡å¯¼è€…çš„æ‰¹è¯„ç‚¹ï¼Œå¹¶ä¸”å¯¹ç½‘ç»œçš„å¯æ‰©å±•æ€§ä¹Ÿæœ‰é™åˆ¶ã€‚ä¾‹å¦‚ï¼Œæ¯”ç‰¹å¸æŒ–çŸ¿å¤§çº¦æ¶ˆè€—å…¨çƒ0.5%çš„èƒ½æºï¼Œä½†æ¯ç§’åªèƒ½å¤„ç†7ç¬”äº¤æ˜“ã€‚

**æƒç›Šè¯æ˜ï¼ˆPoSï¼‰**

ä¸ºäº†è§£å†³PoWå¸¦æ¥çš„èƒ½æºæ¶ˆè€—å’Œå¯æ‰©å±•æ€§é—®é¢˜ï¼Œä»¥å¤ªåŠåœ¨2022å¹´9æœˆå®Œæˆäº†ä»PoWå‘PoSçš„é‡å¤§è½¬å˜ã€‚PoSæœºåˆ¶è¿œä¸åƒPoWé‚£æ ·è€—èƒ½ï¼Œæ®ä¼°è®¡èƒ½å¤Ÿå°†èƒ½æºæ¶ˆè€—å‡å°‘é«˜è¾¾99%ã€‚åœ¨PoSç³»ç»Ÿä¸­ï¼Œä¸æ˜¯é€šè¿‡è§£å†³æ•°å­¦é—®é¢˜æ¥ç«äº‰åˆ›å»ºæ–°åŒºå—ï¼Œè€Œæ˜¯é€šè¿‡æŒæœ‰å¹¶æ„¿æ„â€œæŠµæŠ¼â€ä¸€å®šæ•°é‡çš„å¸çš„éªŒè¯è€…æ¥åˆ›å»ºæ–°åŒºå—ã€‚åœ¨ä»¥å¤ªåŠä¸­ï¼ŒéªŒè¯è€…æŠµæŠ¼çš„æ˜¯ä»¥å¤ªå¸ï¼ˆETHï¼‰ã€‚éªŒè¯è€…è¿˜å‚ä¸ç¡®è®¤æè®®åŒºå—çš„æœ‰æ•ˆæ€§ã€‚è¿™ä¸ªè¿‡ç¨‹ç¡®ä¿äº†æ·»åŠ åˆ°é“¾ä¸Šçš„åŒºå—æ˜¯æœ‰æ•ˆçš„ï¼Œå¹¶ä¸”å¾—åˆ°äº†å¤§å¤šæ•°éªŒè¯è€…çš„åŒæ„ã€‚éªŒè¯è€…é€šè¿‡æè®®æ–°åŒºå—å’Œç¡®è®¤äº¤æ˜“çš„æœ‰æ•ˆæ€§æ¥è·å¾—å¥–åŠ±ï¼Œè¿™äº›å¥–åŠ±æ¥è‡ªäº¤æ˜“è´¹ç”¨ï¼Œæœ‰æ—¶è¿˜åŒ…æ‹¬æ–°é“¸é€ çš„åŠ å¯†è´§å¸ã€‚ä¸ºäº†ç¡®ä¿éªŒè¯è€…è¯šå®è¡Œäº‹ï¼ŒPoSç³»ç»Ÿè®¾æœ‰ä¸€ç§æƒ©ç½šæªæ–½ï¼Œç§°ä¸ºâ€œå‰Šå‡â€ã€‚å¦‚æœéªŒè¯è€…è¯•å›¾æ‰¹å‡†æ¬ºè¯ˆäº¤æ˜“æˆ–è¡Œä¸ºä¸ç«¯ï¼Œä»–ä»¬æŠµæŠ¼çš„åŠ å¯†è´§å¸çš„ä¸€éƒ¨åˆ†æˆ–å…¨éƒ¨å¯èƒ½ä¼šè¢«æ²¡æ”¶æˆ–â€œå‰Šå‡â€ã€‚è¿™ç§æœºåˆ¶é˜»æ­¢äº†ä¸è¯šå®çš„è¡Œä¸ºã€‚



### 2024.4.5

#### week0ä¸­çš„Cryptography
- æ•£åˆ— (Hashing)è¯¦è§£
æ•£åˆ—å‡½æ•°åƒæ˜¯ä¿¡æ¯æ‘˜è¦å·¥å…·ï¼Œå¯ä»¥å°†ä»»æ„é•¿åº¦çš„è¾“å…¥æ•°æ®è½¬æ¢æˆå›ºå®šé•¿åº¦çš„è¾“å‡ºç»“æœï¼Œç§°ä¸ºæ•£åˆ—å€¼ (Hash å€¼)ã€‚è¿™ä¸ªè¿‡ç¨‹å°±åƒæŠŠä¸€å †æ–‡ä»¶çš„å†…å®¹æµ“ç¼©æˆä¸€ä¸ªç®€çŸ­çš„æŒ‡çº¹ä¸€æ ·ã€‚æ•£åˆ—å‡½æ•°æœ‰ä»¥ä¸‹å…³é”®ç‰¹æ€§ï¼š

1. æ˜“äºè®¡ç®— (Easy to Compute)ï¼š ä»»ä½•äººéƒ½èƒ½å¿«é€Ÿè®¡ç®—å‡ºç»™å®šæ•°æ®çš„æ•£åˆ—å€¼ã€‚
2. æŠ—ç¢°æ’ (Collision Resistant)ï¼š å¯¹äºä¸åŒçš„è¾“å…¥æ•°æ®ï¼Œäº§ç”Ÿç›¸åŒæ•£åˆ—å€¼çš„å¯èƒ½æ€§æä½ã€‚å°±å¥½æ¯”ä¸åŒçš„äººå‡ ä¹ä¸å¯èƒ½æœ‰ç›¸åŒçš„æŒ‡çº¹ä¸€æ ·ã€‚
3. å•å‘æ€§ (One-Way)ï¼š ä»…å‡­æ•£åˆ—å€¼æœ¬èº«ï¼Œå‡ ä¹æ— æ³•æ¨å¯¼å‡ºåŸå§‹çš„è¾“å…¥æ•°æ®ã€‚å°±å¦‚åŒæŒ‡çº¹åªèƒ½ç”¨æ¥éªŒè¯èº«ä»½ï¼Œå´æ— æ³•è¿˜åŸæˆå®Œæ•´çš„ä¸ªäººä¿¡æ¯ã€‚
- æ•£åˆ—å‡½æ•°åœ¨å¯†ç å­¦é¢†åŸŸæœ‰ç€å¹¿æ³›çš„åº”ç”¨ï¼š

- æ•°å­—ç­¾å (Digital Signature)ï¼š åˆ©ç”¨æ•£åˆ—å‡½æ•°å¯¹æ•°æ®è¿›è¡Œç­¾åï¼Œå¯ä»¥ç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§ and å¯é æ€§ (å¯é æ€§ - refers to authenticity in this context)ã€‚å°±å¥½æ¯”ç»™é‡è¦æ–‡ä»¶ç›–ä¸Šå°ç« ï¼Œå¯ä»¥éªŒè¯å‘é€è€…èº«ä»½å¹¶ä¸”ç¡®ä¿å†…å®¹æ²¡æœ‰è¢«ç¯¡æ”¹ã€‚
- æ•°æ®æ ¡éªŒ (Data Integrity Check)ï¼š é€šè¿‡æ¯”è¾ƒåŸå§‹æ•°æ®çš„æ•£åˆ—å€¼å’Œä¼ è¾“è¿‡ç¨‹ä¸­çš„æ•£åˆ—å€¼ï¼Œå¯ä»¥åˆ¤æ–­æ•°æ®æ˜¯å¦åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­è¢«ä¿®æ”¹ã€‚å°±å¦‚åŒæ ¸å¯¹è´§ç‰©å‡ºåº“æ—¶çš„å°æ¡ä¸€æ ·ï¼Œå¯ä»¥ç¡®ä¿è´§ç‰©åœ¨è¿è¾“é€”ä¸­æ²¡æœ‰è¢«æ‰åŒ…ã€‚
- å¯†ç å­˜å‚¨ (Password Storage)ï¼š ç½‘ç«™ä¸ä¼šå­˜å‚¨ç”¨æˆ·çš„åŸå§‹å¯†ç ï¼Œè€Œæ˜¯å­˜å‚¨å¯†ç çš„æ•£åˆ—å€¼ã€‚è¿™æ ·å³ä½¿é»‘å®¢çªƒå–äº†æ•°æ®åº“ï¼Œä¹Ÿæ— æ³•è·å¾—ç”¨æˆ·çš„æ˜æ–‡å¯†ç ã€‚å°±å¥½æ¯”æŒ‡çº¹è¯†åˆ«ç³»ç»Ÿåªå­˜å‚¨æŒ‡çº¹çš„ç‰¹å¾µï¼Œè€Œä¸æ˜¯æ•´åªæ‰‹çš„å¤–è²Œã€‚
å¸¸ç”¨çš„æ•£åˆ—å‡½æ•°åŒ…æ‹¬ MD5ã€SHA-1 å’Œ SHA-2 å®¶æ—ã€‚

- å…¬é’¥å¯†ç å­¦ (Public Key Cryptography)è¯¦è§£
å…¬é’¥å¯†ç å­¦é‡‡ç”¨å¯†é’¥å¯¹ (Key Pair) çš„æ–¹å¼è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ã€‚å¯†é’¥å¯¹åŒ…å«å…¬é’¥ (Public Key) å’Œç§é’¥ (Private Key)ã€‚å½¢è±¡åœ°æ¯”å–»ï¼Œå…¬é’¥å°±åƒæ˜¯é‚®ç®±çš„åœ°å€ï¼Œæ‰€æœ‰äººéƒ½å¯ä»¥çŸ¥é“ï¼›è€Œç§é’¥å°±åƒé‚®ç®±çš„é’¥åŒ™ï¼Œåªæœ‰æŒæœ‰è€…æ‰èƒ½æ‰“å¼€é‚®ç®±ã€‚

- å…¬é’¥å¯†ç å­¦çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š

åŠ å¯† (Encryption)ï¼š ä¿¡æ¯å‘é€è€…ä½¿ç”¨æ¥æ”¶æ–¹çš„å…¬é’¥å¯¹ä¿¡æ¯è¿›è¡ŒåŠ å¯†ã€‚ ä»»ä½•äººéƒ½å¯ä»¥ç”¨å…¬é’¥åŠ å¯†ä¿¡æ¯ï¼Œä½†æ˜¯åªæœ‰æŒæœ‰ç§é’¥çš„äººæ‰èƒ½è§£å¯†ã€‚
è§£å¯† (Decryption)ï¼š ä¿¡æ¯æ¥æ”¶è€…ä½¿ç”¨è‡ªå·±çš„ç§é’¥è§£å¯†å¯†æ–‡ï¼Œè¿˜åŸæˆåŸå§‹ä¿¡æ¯ã€‚ å› ä¸ºåªæœ‰æŒæœ‰ç§é’¥çš„äººæ‰èƒ½è§£å¯†ï¼Œæ‰€ä»¥å¯ä»¥ç¡®ä¿ä¿¡æ¯çš„ä¿å¯†æ€§ã€‚

å¸¸ç”¨çš„å…¬é’¥å¯†ç ç®—æ³•åŒ…æ‹¬ RSA ç®—æ³•

#### Merkle æ ‘è¯¦è§£
- Merkle æ ‘æ˜¯ä¸€ç§æ ‘å½¢æ•°æ®ç»“æ„ï¼Œå¸¸ç”¨äºé«˜æ•ˆéªŒè¯å¤§å‹æ•°æ®çš„å®Œæ•´æ€§ã€‚å®ƒåˆ©ç”¨å¯†ç å­¦ä¸­çš„æ•£åˆ—å‡½æ•°æ¥æ„å»ºï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

1. æ•°æ®å®Œæ•´æ€§æ ¡éªŒ (Data Integrity Verification)ï¼š å¯ä»¥æ–¹ä¾¿åœ°æ ¡éªŒæ•°æ®å— (Data Block) çš„å®Œæ•´æ€§ï¼Œè€Œæ— éœ€æ£€æŸ¥æ•´ä¸ªæ•°æ®ã€‚
2. å»é‡å­˜å‚¨ (Deduplication)ï¼š å¯ä»¥è¯†åˆ«å¹¶æ¶ˆé™¤æ•°æ®ä¸­çš„é‡å¤éƒ¨åˆ†ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´ã€‚
##### Merkle æ ‘çš„ç»“æ„
Merkle æ ‘ç”±èŠ‚ç‚¹ (Node) ç»„æˆï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š

- æ•°æ®å—å“ˆå¸Œ (Hash of Data Block)ï¼š å¯¹æ•°æ®å—è®¡ç®—æ‰€å¾—çš„æ•£åˆ—å€¼ã€‚
- å­èŠ‚ç‚¹å“ˆå¸Œ (Hashes of Children Nodes)ï¼ˆå¯é€‰ï¼‰ï¼š å¯¹äºéå¶å­èŠ‚ç‚¹ï¼ŒåŒ…å«å…¶å­èŠ‚ç‚¹çš„å“ˆå¸Œå€¼ã€‚
Merkle æ ‘çš„å±‚çº§ç»“æ„æ¸…æ™°ï¼Œå¶å­èŠ‚ç‚¹ä»£è¡¨åŸå§‹æ•°æ®å—çš„å“ˆå¸Œå€¼ï¼Œéå¶å­èŠ‚ç‚¹çš„å“ˆå¸Œå€¼ç”±å…¶å­èŠ‚ç‚¹çš„å“ˆå¸Œå€¼è®¡ç®—å¾—åˆ°ã€‚è®¡ç®—æ–¹æ³•é€šå¸¸é‡‡ç”¨ä¸€ç§ç§°ä¸º "Merkle-DamgÃ¥rd Hash Function" çš„æŠ€æœ¯ï¼Œä¾‹å¦‚ SHA-256ã€‚

##### Merkle æ ‘çš„å·¥ä½œåŸç†

1. åœ¨Merkleæ ‘ä¸­ï¼Œæ¯ä¸ªå¶å­èŠ‚ç‚¹éƒ½æ ‡è®°äº†ä¸€ä¸ªæ•°æ®å—çš„åŠ å¯†å“ˆå¸Œå€¼ï¼Œè€Œæ¯ä¸ªéå¶å­èŠ‚ç‚¹åˆ™æ ‡è®°äº†å…¶å­èŠ‚ç‚¹æ ‡ç­¾çš„åŠ å¯†å“ˆå¸Œå€¼ã€‚

2. å¶å­èŠ‚ç‚¹çš„æ•°æ®å…ˆè¢«å“ˆå¸Œï¼Œç„¶åæˆå¯¹åˆ†ç»„ã€‚æ¯å¯¹èŠ‚ç‚¹çš„å“ˆå¸Œå€¼å†è¢«å“ˆå¸Œï¼Œç”Ÿæˆå®ƒä»¬çš„çˆ¶èŠ‚ç‚¹ã€‚é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°åªå‰©ä¸‹ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œç§°ä¸ºMerkleæ ¹ã€‚

3. Merkleæ ‘é€šå¸¸ä½¿ç”¨äºŒå‰æ ‘ç»“æ„ï¼Œå³æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰2ä¸ªå­èŠ‚ç‚¹ã€‚ä½†ä¹Ÿå¯ä»¥ä½¿ç”¨å¤šå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰å¤šä¸ªå­èŠ‚ç‚¹ã€‚

4. ä¸ºäº†éªŒè¯æŸä¸ªå¶å­èŠ‚ç‚¹æ˜¯å¦å±äºMerkleæ ‘ï¼Œåªéœ€è®¡ç®—æ²¿ç€è¯¥å¶å­åˆ°æ ¹çš„è·¯å¾„ä¸Šçš„å“ˆå¸Œå€¼ï¼Œæ•°é‡ä¸æ ‘çš„æ·±åº¦æˆæ­£æ¯”ã€‚è¿™æ¯”åœ¨å“ˆå¸Œåˆ—è¡¨ä¸­é€ä¸ªæ£€æŸ¥æ¯ä¸ªèŠ‚ç‚¹è¦é«˜æ•ˆå¾—å¤šã€‚

5. å¦‚æœMerkleæ ‘çš„ä»»ä½•éƒ¨åˆ†å‘ç”Ÿå˜åŒ–ï¼Œéƒ½ä¼šä¼ æ’­åˆ°æ ¹èŠ‚ç‚¹ã€‚é€šè¿‡æ¯”è¾ƒæ ¹å“ˆå¸Œï¼Œå¯ä»¥å¿«é€Ÿæ£€æµ‹å‡ºæ•°æ®æ˜¯å¦è¢«ç¯¡æ”¹ã€‚

6. Merkleæ ‘çš„æœç´¢ã€æ’å…¥ã€åˆ é™¤æ“ä½œå¤æ‚åº¦ä¸ºO(logn)ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(n)ï¼Œå…¶ä¸­næ˜¯å¶å­èŠ‚ç‚¹æ•°ã€‚

Merkleæ ‘åˆ©ç”¨å“ˆå¸ŒæŒ‡é’ˆæ„å»ºä¸€ä¸ªæ ‘å½¢ç»“æ„ï¼Œå¯ä»¥é«˜æ•ˆåœ°éªŒè¯å¤§å‹æ•°æ®ç»“æ„çš„å®Œæ•´æ€§ï¼Œå¹¿æ³›ç”¨äºåŒºå—é“¾ã€åˆ†å¸ƒå¼ç³»ç»Ÿã€ç‰ˆæœ¬æ§åˆ¶ç­‰é¢†åŸŸä¸­ã€‚å®ƒé€šè¿‡é€’å½’å“ˆå¸Œçš„æ–¹å¼ï¼Œåœ¨ä¿è¯å®‰å…¨æ€§çš„åŒæ—¶æä¾›äº†æ›´å¥½çš„æ€§èƒ½ã€‚

[1] https://www.youtube.com/watch?v=3AcQyTs_Es4&t=0

[2] https://brilliant.org/wiki/merkle-tree/

[3] https://www.geeksforgeeks.org/blockchain-merkle-trees/

[4] https://en.wikipedia.org/wiki/Merkle_tree

### 2024.4.3
