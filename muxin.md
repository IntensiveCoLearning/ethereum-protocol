# Muxin

Hello guys, I'm Muxin, I'm learning everything about Ethereum, especially for Ethereum Protocol. I'm good at Web development. Follow me on Twitter: <https://twitter.com/muxin_eth>, my telegram: <https://t.me/muxin_eth>.

## Notes

### 2024.5.6

Week 5

Pre-reading

- Ethereum roadmap
  - ä»¥å¤ªåŠè·¯çº¿å›¾ä¸»è¦æ˜¯æ¦‚è¿°ä»¥å¤ªåŠæœªæ¥å°†å¯¹åè®®ä½œå‡ºçš„å…·ä½“æ”¹è¿›
  - è·¯çº¿å›¾ä¸»è¦ç»™ç”¨æˆ·å¸¦æ¥ä»¥ä¸‹å‡ ç‚¹çš„ benefits
    - Cheaper transactions
    - Extra security
    - Better user experience
    - Future proofing
  - è·¯çº¿å›¾çš„åˆ¶å®šä¸»è¦æ˜¯ç ”ç©¶äººå‘˜å’Œå¼€å‘äººå‘˜å¤šå¹´æ¥å·¥ä½œçš„ç»“æœï¼Œä½†æ˜¯ä»»ä½•äººä¹Ÿéƒ½å¯ä»¥å‚ä¸è¿›æ¥ï¼Œå¯ä»¥åœ¨è®ºå›ï¼ˆhttps://ethresear.ch/ã€https://ethereum-magicians.org/ï¼‰æˆ– discord å‘è¡¨æƒ³æ³•å’Œè®¨è®ºï¼Œæå‡ºä¸€äº›å»ºè®®ï¼Œå½“æƒ³æ³•æ¯”è¾ƒæˆç†Ÿçš„æ—¶å€™ï¼Œå°±å¯ä»¥ä½œä¸º https://eips.ethereum.org/ æå‡ºï¼Œæ•´ä¸ªè¿‡ç¨‹éƒ½æ˜¯å…¬å¼€çš„
  - è·¯çº¿å›¾ä¼šéšç€æ—¶é—´è€Œæ”¹å˜ï¼Œä¼šæ ¹æ®æ–°çš„æŠ€æœ¯çš„å‡ºç°è€Œæ”¹å˜
  - ä»¥å¤ªåŠå°†åœ¨ä»Šå 6 ä¸ªæœˆå†…å®æ–½ä¸€äº›å‡çº§ï¼ˆä¾‹å¦‚è´¨æŠ¼ææ¬¾ï¼‰ - å…¶ä»–å‡çº§çš„ä¼˜å…ˆæ€§è¾ƒä½ï¼Œå¯èƒ½åœ¨ä»Šå 5-10 å¹´å†…ä¸ä¼šå®æ–½ï¼ˆä¾‹å¦‚é‡å­è®¡ç®—æŠ—æ€§ï¼‰
  - å‡çº§å¾€å¾€ä¸ä¼šå¯¹ç»ˆç«¯ç”¨æˆ·äº§ç”Ÿå½±å“ï¼Œç”¨æˆ·ä¸éœ€è¦ç§¯æå‚ä¸å‡çº§ï¼Œä¹Ÿä¸éœ€è¦é‡‡å–è¡ŒåŠ¨ä¿æŠ¤èµ„äº§ã€‚èŠ‚ç‚¹è¿è¥å•†éœ€è¦æ›´æ–°å…¶å®¢æˆ·ç«¯ä»¥å‡†å¤‡å‡çº§ã€‚ æŸäº›å‡çº§å¯èƒ½å¯¼è‡´åº”ç”¨ç¨‹åºå¼€å‘è€…ä½œå‡ºæ›´æ”¹ã€‚ ä¾‹å¦‚ï¼Œå†å²æ•°æ®åˆ°æœŸå‡çº§å¯èƒ½éœ€è¦åº”ç”¨å¼€å‘è€…ä»æ–°çš„æ¥æºè·å–å†å²æ•°æ®ã€‚
  - ä¸€äº›å‡çº§ï¼ˆmore details: https://domothy.com/roadmap/ï¼‰ï¼š
    - **The Merge**: upgrades relating to the switch from proof-of-workÂ to proof-of-stake
    - **The Surge**: upgrades related to scalability byÂ rollupsÂ and data sharding
    - **The Scourge**: upgrades related to censorship resistance, decentralization and protocol risks from MEV
    - **The Verge**: upgrades related to verifying blocksÂ more easily
    - **The Purge**: upgrades related to reducing the computational costs of running nodes and simplifying the protocol
    - **The Splurge**: other upgrades that don't fit well into the previous categories.
  - ä¸€äº›ç‰¹å®šçš„æŠ€æœ¯å‡çº§ï¼š
    - [Danksharding](https://ethereum.org/en/roadmap/danksharding/)Â - Danksharding makes layer 2 rollups much cheaper for users by adding â€œblobsâ€ of data to Ethereum blocks.
    - [Staking withdrawals](https://ethereum.org/en/staking/withdrawals/)Â - The Shanghai/Capella upgrade enabled staking withdrawals on Ethereum, allowing people to unlock their staked ETH.
    - [Single slot finality](https://ethereum.org/en/roadmap/single-slot-finality/)Â - Instead of waiting for fifteen minutes, blocks could get proposed and finalized in the same slot. This is more convenient for apps and much more difficult to attack.
    - [Proposer-builder separation](https://ethereum.org/en/roadmap/pbs/)Â - Splitting the block building and block proposal tasks across separate validators creates a fairer, more censorship resistant and efficient way for Ethereum to come to consensus.
    - [Secret leader election](https://ethereum.org/en/roadmap/secret-leader-election/)Â - Clever cryptography can be used to ensure that the identity of the current block proposer is not made public, protecting them from certain types of attack.
    - [Account abstraction](https://ethereum.org/en/roadmap/account-abstraction/)Â - Account abstraction is a class of upgrades that support smart contract wallets natively on Ethereum, rather than having to use complex middleware.
    - [Verkle trees](https://ethereum.org/en/roadmap/verkle-trees/)Â - Verkle trees are a data structure that can be used to enable stateless clients on Ethereum. These â€œstatelessâ€ clients will require a tiny amount of storage space but will still be able to verify new blocks.
    - [Statelessness](https://ethereum.org/en/roadmap/statelessness/)Â - Stateless clients will be able to verify new blocks without having to store large amounts of data. This will provide all the benefits of running a node with only a tiny fraction of todayâ€™s costs.
- å…¶ä»–éœ€é˜…è¯»ï¼š
  - https://vitalik.eth.limo/general/2021/12/06/endgame.html
  - https://members.delphidigital.io/reports/the-hitchhikers-guide-to-ethereum
  - https://ethereum.org/en/community/research/#active-areas-of-ethereum-research
  - https://domothy.com/blobspace/

### 2024.5.5

Week 4

Consensus Layer Testing

- https://github.com/ethereum/consensus-specs/tree/dev/tests
- Written in Python, same as execution-spec-tests
- similar idea in terms of generating test fixtures in many different formats that all clients can consume
- self contained within the spec, hence the tests can be written and filled in the same repo
- Consensus Layer Testing Formats
  - https://github.com/ethereum/consensus-specs/tree/dev/tests/formats
  - the formats of CL is more than EVMâ€™s, itâ€™s useful for devs to test graularly every aspect of CL

Cross-Layer(Interop) Testing

- Involve testing a fully instantiated client, feeding information to it and verifying the correctness of its behavior
- Tools:
  - https://github.com/ethereum/hive
  - [https://github.com/eth](https://github.com/ethereum/hive)pandaops/assertoor
  - [https://github.com/](https://github.com/ethereum/hive)kurtosis-tech/ethereum-package
- Hive
  - a system for running integration tests against Ethereum clients
  - generic CI infrastructure is the tight integration of Ethereum clients and their features
    ![Hive](./img/muxin/Hive.png)
  - Different Hive simulators: https://github.com/ethereum/hive/tree/master/simulators
- Devnets
  - Limited node count chains that are used to verify proof of concept or early stages of hardforks
- Shadow-Forks
  - Limited node count forks that are configured to follow Ethereum mainnet, but have an early hardfork configuration time to test real network activity
- Public Testnets
  - Georli testnet(RIP)
  - Sepolia testnet(Launched Oct-23-2021)
  - Holesky testnet(Launched Sep-28-2023)

Security

- Potential issues
  - EL side
    - Valid invalidation: Execution client invalidates a block that fully complies with the Ethereum specification
    - Invalid validation: Execution client validates a block that doesn't comply with the Ethereum specification
    - DoS during block execution: A client takes too much time to process a block due to a transaction
  - CL side
    - Faulty clients and finalization
      - <33% faulty node majority: can cause missed slots but chain will still finalize
      - 33%+ faulty node majority: can cause delayed finality
      - 50%+ faulty node majority: can disrupt forkchoice
      - 66%+ faulty node majority: can finalize an incorrect chain
  - Bug bounties
    - https://ethereum.org/en/bug-bounty/
  - Public disclosures
    - https://github.com/ethereum/public-disclosures

### 2024.5.4

Week 4

Execution Layer Testing

- EVM testing
  - ä¸»è¦ç›®çš„æ˜¯éªŒè¯æ¯ä¸ª execution client éƒ½éµå®ˆè§„èŒƒï¼Œæ¯ä¸€ä¸ª client éƒ½ç»™å®šç›¸åŒçš„è¾“å…¥ï¼ŒæœŸæœ›å¾—åˆ°ç›¸åŒçš„è¾“å‡ºï¼Œä¿è¯ç›¸åŒçš„ç¯å¢ƒï¼Œprestate, ç¡¬åˆ†å‰æ¿€æ´»è§„åˆ™
  - ä¸»è¦æµ‹è¯•çš„å†…å®¹ï¼š
    - Pre-State
    - Environment
    - Transaction(s)
    - Post-State
- EVM testing - Tests Filling
  - è·Ÿ client unit testing ä¸åŒçš„æ˜¯ï¼ŒTests Filling æ˜¯å°†æµ‹è¯•æºä»£ç ç¼–è¯‘æˆä»»ä½• execution client éƒ½å¯ä»¥ä½¿ç”¨çš„ fixtureï¼Œæ‰€æœ‰ä¸åŒæ ¼å¼çš„ test fixture éƒ½æ˜¯ä¸€ä¸ªç®€å•çš„ JSON æ–‡ä»¶ã€‚
- EVM testing formats
  - State testing
    ![State testing](./img/muxin/state-testing.png)
  - Fuzzy Differential State Testing
    ![Fuzzy Differential State Testing](./img/muxin/fuzzy-differential-state-testing.png)
  - Blockchain Testing
    ![Blockchain Testing](./img/muxin/blockchain-testing.png)
  - Blockchain Negative Testing
    ![Blockchain Negative Testing](./img/muxin/blockchain-navigative-testing.png)
- EVM Testing - Tests Filling - ethereum/tests
  - https://github.com/ethereum/tests
  - Simple JSON and YAML source codes
  - Provides simple parametrization
  - Filled by Retesteth(Written in C++)
- EVM Testing - Tests Filling - Execution Spec Tests
  - https://github.com/ethereum/execution-spec-tests
  - Python source code
  - Powered by pytest and provides simple to complex parametrization
  - Still requires an actual client implementation to fill because of the transition function
    ![Execution Spec Tests](./img/muxin/execution-spec-tests.png)
- FuzzyVM
  - https://github.com/MariusVanDerWijden/FuzzyVM
  - A framework to fuzz Ethereum Virtual Machine implementations. FuzzyVM creates state tests that can be used to differential fuzz EVM implementations against each other. It only focus on the test generation part, the test execution is handled by Go evmlab.
- Execution APIs testing
  - https://github.com/ethereum/execution-apis/tree/main/tests
  - To test all the execution APIs used to query the execution clients.

### 2024.5.3

Week 3

- Bitcoin solves the BFT with PoW approach

  - Bitcoin è¢«è®¤ä¸ºæ˜¯ç¬¬ä¸€ä¸ªè§£å†³ Byzantine General Problem çš„æ–¹æ¡ˆ
    - ç³»ç»Ÿå¯ä»¥æ‰©å±•åˆ°æ— é™çš„èŠ‚ç‚¹æ•°é‡
    - å¼€æ”¾ã€æ— è®¸å¯åŠ å…¥
    - ç”¨ PoW æœºåˆ¶è¾¾æˆå…±è¯†
  - Bitcoin çš„å…±è¯†æœºåˆ¶
    - Bitcoin çš„çŠ¶æ€æœºå¤åˆ¶
    - ä½¿ç”¨å¯†ç å­¦æ¥å‡å°‘å¯èƒ½çš„çŠ¶æ€ç©ºé—´
    - ç”¨ PoW æ¥å®ç°å…±è¯†
      - æŒ–çŸ¿éš¾åº¦è°ƒæ•´
        - æŒ–çŸ¿éš¾åº¦ç”±ç½‘ç»œæ€»ç®—åŠ›å†³å®šã€‚å¦‚æœæ›´å¤šçš„çŸ¿å·¥åŠ å…¥ç½‘ç»œå¹¶ä¸” hash rate å¢åŠ ï¼ŒæŒ–çŸ¿éš¾åº¦ä¹Ÿä¼šå¢åŠ ï¼Œåä¹‹äº¦ç„¶ã€‚
      - æŒ–çŸ¿éš¾åº¦è°ƒæ•´çš„å½±å“
        - å¥³å·«ä¿æŠ¤ï¼šä¸€ä¸ªæ–°å—å¿…é¡»æ‰§è¡Œä¸€å®šé‡çš„å·¥ä½œæ‰èƒ½è¢«è§†ä¸ºæœ‰æ•ˆ
        - å…±è¯†ç®—æ³•ï¼šèŠ‚ç‚¹æ‰¾åˆ°é“¾å¤´çš„æ–¹å¼æ˜¯æ€»ç»“æ¯ä¸ªåŒºå—çš„æŒ–çŸ¿éš¾åº¦ï¼Œé€‰å‡ºæ€»éš¾åº¦æœ€å¤§çš„é“¾
    - å‘è¡Œ native è´§å¸ BTC è¿›è¡Œæ¿€åŠ±
      - ç»™å½“å‰å·¥ä½œé‡æœ€å¤šçš„å•é“¾æä¾›å¥–åŠ±æ¥æ¿€åŠ±å·¥ä½œ

- PoW to PoS
  - ç›¸å…³çš„åŸºç¡€çŸ¥è¯†å·²ç»åœ¨é¢„ä¹ ä¸­å­¦ä¹ äº†
  - Justin Drakeâ€™s research on pragmatic signature aggregation with BLS: https://ethresear.ch/t/pragmatic-signature-aggregation-with-bls/2105
  - Some of the important things on the roadmap of Ethereum
    - SSF(single slot finality): Aim to get finality in a single slot
      - Vitalik post on SSF: https://notes.ethereum.org/@vbuterin/single_slot_finality
      - Roadmap blog: https://ethereum.org/en/roadmap/single-slot-finality/
    - SSLE(single secret leader election): Aim to have proposer selection in secret
      - Research link: https://ethresear.ch/t/simplified-ssle/12315
      - Roadmap blog: https://ethereum.org/en/roadmap/secret-leader-election/
    - Max EB(max effective balance): Aim to increase the effective balance of Ethereum validators at 32ETH
      - Research link: https://ethresear.ch/t/increase-the-max-effective-balance-a-modest-proposal/15801

### 2024.5.2

Week 3

- Blockchain enables a way to create digital scarcity
  ![Digital Scarcity](./img/muxin/digital-scarcity.png)
- Distributed networks deal with Byzantine fault tolerance(BFT)
  - å¦‚æœæ›´å¤šçš„èŠ‚ç‚¹ä¼šå¸¦æ¥æ›´é«˜çš„å®‰å…¨æ€§ï¼Œæˆ‘ä»¬å°±ä¼šå¸Œæœ›æœ‰æ›´å¤šæ•°é‡çš„èŠ‚ç‚¹ï¼Œä½†æ˜¯åœ¨å¼€æ”¾çš„åˆ†å¸ƒå¼çš„ç³»ç»Ÿä¸­ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½å¯èƒ½ä¼šå› ä¸ºå„ç§åŸå› å‡ºç°é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦æœ‰ä¸€ä¸ªç¡®å®šçš„å®¹é”™æœºåˆ¶æ¥è®©è¿™ä¸ªç³»ç»Ÿç»§ç»­è¿è¡Œã€‚
  - BFT æ˜¯èƒ½æŠµæŠ—æºè‡ª Byzantine Generalsâ€™ Problem çš„é¼“æŒç±»åˆ«çš„ç³»ç»Ÿå±æ€§ã€‚è¿™æ„å‘³ç€ï¼Œå³ä½¿ä¸€äº›èŠ‚ç‚¹å‘ç”Ÿäº†æ•…éšœæˆ–è€…æ¶æ„è¡Œä¸º BFT ç³»ç»Ÿä¹Ÿèƒ½ç»§ç»­è¿è¡Œã€‚
  - Two- phase commit(2PC)
    - 1st Prepare Phase: One node will ask other nodes whether they can commit the proposed tx.
    - 2nd Commit Phase: The node will command other nodes to either commit or abort the proposed tx.

### 2024.4.29

Week 3

Pre-reading

Pos and Solar Punk future, Dany Ryan 2022

- after the merge, transition to PoS, we will have a more secure, more sustainable home, other than that, nothing changes.

![The Merge](./img//muxin/the-merge-01.png)

![The Merge](./img//muxin/the-merge-02.png)

- è§†é¢‘ä¸­å°† the merge æ¯”å–»æˆ kintsugiï¼Œä¸€ç§æ—¥æœ¬ä¿®å¤ broken é™¶ç“·çš„è‰ºæœ¯ã€‚
- Ethereum post-merge client, the Ethereum client is the brain of the operation, the Beacon Node drives the execution engine via the Engine API. The User APIs doesnâ€™t change.

![Post Merge Client](./img//muxin/post-merge-client.png)

- Kintsugi CL+EL semantic mismatch
  - engine_executePayload
  - engine_forkchoiceUpdated: use the fork choice to find the tip of the block tree, and the tip defines what is canonical, defines the canonical history
- Why?
  - Security
    - Less Centralizing Crypto-Economy
      - Lack of economies of scale
      - Highly liquid and available
      - Purer function of return on capital
    - Higher Security Margin
      ![Higher Security Margin](./img//muxin/higher-security-margin.png)
    - Better Emergency Recovery
      - In PoS: Attacking capital is either burned or can be socially intervened.
  - Sustainability
    - 99.96% energy reduction
    - PoS opens the door to more sophisticated consensus mechanisms.
    - (Dank)Sharding - Get more out of your consensus mechanism.
  - Scalability

### 2024.4.28

Week 3

Pre-reading:

Beacon Chain explainer

refs:

- https://ethos.dev/beacon-chain

- Slashable Offences
  - æœ‰å››ç§ slashing æ¡ä»¶ï¼š
    - A double proposal
      - a proposer proposing more than one block for their assigned slot
    - An LMD GHOST double vote
      - a validator attesting to two different Beacon Chain heads for their assigned slot
    - An FFG surround vote
      - a validator casting an FFG vote thatÂ *surrounds*Â or isÂ *surrounded by*Â a previous FFG vote they made
    - An FFG double vote
      - a validator casting 2 FFG votes for any two targets at the same epoch
- Beacon Chain Validator Activation and Lifecycle
  - Each validator needs a balance of 32 ETH to get activated
  - The Beacon Chain deactivates (â€œforced exitâ€) all validators whose balance reaches 16 ETH
  - Validators can also â€œvoluntary exitâ€ after serving for 2,048 epochs, around 9 days
    ![Beacon Chain Validator Lifecycle](./img/muxin/Beacon-Chain-Validator-Lifecycle.png)

### 2024.4.27

Week 3

Pre-reading:

Beacon Chain explainer

refs:

- https://ethos.dev/beacon-chain

- Finality
  - å½“ä¸€ä¸ª epoch ç»“æŸæ—¶ï¼Œå¦‚æœå®ƒçš„ checkpoint å¾—åˆ°äº†ä¸‰åˆ†ä¹‹äºŒçš„ supermajorityï¼Œè¿™ä¸ª checkpoint è¢«è¯æ˜æ˜¯ justifiedã€‚
  - å½“ä¸€ä¸ª checkpoint B æ˜¯ justifiedï¼Œå¹¶ä¸”ç´§æ¥ç€ä¸‹ä¸€ä¸ª epoch çš„ checkpoint ä¹Ÿæ˜¯ justified çš„ï¼Œé‚£ä¹ˆ checkpoint B ä¼šå˜æˆ finalizedã€‚é€šå¸¸ï¼Œä¸€ä¸ª checkpoint ä¼šåœ¨ ä¸¤ä¸ª epoch ä¸­å˜æˆ finalizedï¼Œä¹Ÿå°±æ˜¯ 12.8 åˆ†é’Ÿã€‚
  - block ç¡®è®¤æºè‡ª block çš„ attestationï¼Œjustification å’Œ finalityã€‚
    ![finality](./img//muxin//finality.png)
- Attestations: a closer look
  - ä¸€ä¸ª attestation åŒ…å«äº†ä¸€ä¸ª LMD GHOST vote å’Œä¸€ä¸ª FFG voteã€‚
  - æ‰€æœ‰çš„ validator æ¯ä¸€ä¸ª epoch ä¸­æäº¤ä¸€ä¸ª attestationã€‚
  - ä¸€ä¸ª attestation æœ‰ 32 ä¸ªè¢«çº³å…¥é“¾ä¸Šçš„æœºä¼šã€‚ è¿™æ„å‘³ç€ validator å¯ä»¥åœ¨ä¸€ä¸ª epoch å†…åœ¨é“¾ä¸ŠåŒ…å«ä¸¤ä¸ª attestationã€‚
  - å½“ validator åœ¨å®ƒåˆ†é…çš„ slot ä¸ŠæŠŠå®ƒçš„ attestation åŒ…å«åœ¨é“¾ä¸Šæ—¶ï¼ŒéªŒè¯è€…å°†è·å¾—æœ€å¤šçš„å¥–åŠ±ï¼› è¾ƒæ™šçš„åŒ…å«å°†è·å¾—é€’å‡çš„å¥–åŠ±ã€‚
- Staking Rewards and Penalties
  - attester rewards
    - validator make å¤§å¤šæ•° validator åŒæ„çš„ attestation ä¼šè·å¾—å¥–åŠ±ã€‚åœ¨ finalized block ä¸­çš„ attestation ä¼šæ›´æœ‰ä»·å€¼ã€‚
  - attester penalties
    - å¦‚æœ validator æ²¡æœ‰ä½œå‡º attest æˆ–è€…ä»–ä»¬ attest çš„ block æ²¡æœ‰ finalized å°†ä¼šæ”¶åˆ°æƒ©ç½šã€‚
  - typical downside risk for stakers
    - ä½œä¸ºä¸€åæ‹…å¿ƒå¯èƒ½æŸå¤±å¤šå°‘ ETH çš„ validatorï¼Œè¿™å‡ ä¹ä¸ä½ å¯ä»¥èµšå–å¤šå°‘ ETH æˆæ­£æ¯”ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ª validator æœ‰æœ›åœ¨ä¸€å¹´å†…é€šè¿‡å‚ä¸è®¤è¯è·å¾— 10% çš„æ”¶ç›Šï¼Œé‚£ä¹ˆä¸€ä¸ªï¼ˆè¯šå®çš„ï¼‰validator å¦‚æœè¡¨ç°æœ€å·®å¯èƒ½ä¼šæŸå¤± 7.5%ã€‚
  - slashings and whistleblower rewards
    - slashing æ˜¯ä»è¶…è¿‡ 0.5 ETH åˆ° validator æ•´ä¸ªè´¨æŠ¼çš„å¤„ç½šã€‚ä¸€ä¸ªè¯šå®ã€å®‰å…¨çš„ validator ä¸èƒ½å› å…¶ä»– validator çš„è¡Œä¸ºè€Œè¢« slashedã€‚å¯¹äºçŠ¯æœ‰ slashable ç½ªè¡Œçš„ validatorï¼Œä»–ä»¬çš„ä½™é¢è‡³å°‘ä¼šæŸå¤± 1/32ï¼Œå¹¶è¢«åœç”¨ï¼ˆâ€œå¼ºåˆ¶é€€å‡ºâ€ï¼‰ã€‚
  - proposer rewards
    - å¾—åˆ° finalized çš„ block çš„ proposer ä¼šè·å¾—å¯è§‚çš„å¥–åŠ±ã€‚ä¸€ç›´åœ¨çº¿ä¸”è¡¨ç°è‰¯å¥½çš„ validator å°†è·å¾—æ€»å¥–åŠ±çš„~1/8 æå‡ï¼Œä»¥æè®®å¸¦æœ‰æ–°è®¤è¯çš„ blockã€‚å½“å‘ç”Ÿ slashing æ—¶ï¼Œproposer è¿˜ä¼šå› åœ¨ block ä¸­åŒ…å« slash è¯æ®è€Œè·å¾—å°é¢å¥–åŠ±ã€‚ç›®å‰ï¼Œæ‰€æœ‰ä¸¾æŠ¥äººå¥–åŠ±å®é™…ä¸Šéƒ½ä¼šæµå‘ proposerã€‚
  - inactivity leak penalty
    - å¦‚æœè·ç¦» finality å·²ç»è¶…è¿‡å››ä¸ª epochï¼Œé‚£ä¹ˆ validator å°†é­å— inactivity leak penaltyï¼Œè¯¥æƒ©ç½šå°†äºŒæ¬¡å¢åŠ ï¼Œç›´åˆ°ä¸€ä¸ª checkpoint è¢«æœ€ç»ˆç¡®è®¤ã€‚inactivity penalty(or â€œquadratic leakâ€) ç¡®ä¿äº†è¿™ç§ç»“æœï¼šå¦‚æœ 50% çš„ validator ç¦»çº¿ï¼ŒåŒºå—å°†åœ¨ 18 å¤©åå¼€å§‹ finalizingã€‚quadratic leak å°†é—®é¢˜ validator æ’å‡ºä»¥å¼ºåˆ¶é€€å‡ºï¼Œä»¥ä¾¿å…¶ä»– validator æˆä¸ºå¯ä»¥æ¢å¤ finality çš„ 2/3 å¤šæ•°æ´¾ã€‚inactivity leak ä¸ä¼šæ’å‡ºè¿è¡Œæ­£å¸¸çš„ validatorã€‚åœ¨ä¸æ´»è·ƒæ³„æ¼æœŸé—´ï¼Œè®¤è¯å¥–åŠ±ä¸ºé›¶ï¼›validator å¦‚å¸¸è·å¾— proposer å’Œä¸¾æŠ¥äººçš„å¥–åŠ±ã€‚

### 2024.4.26

Week 3

Pre-reading:

Beacon Chain explainer

refs:

- https://ethos.dev/beacon-chain

- Validators and Attestations
  - åœ¨æ¯ä¸€ä¸ª epoch ä¸­ï¼Œä¸€ä¸ª validator ä¼šè¢«ä¼ªéšæœºçš„åˆ†é…ç»™ä¸€ä¸ª slotã€‚
  - å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œvalidator æ˜¯å¯¹åŒºå—è¿›è¡ŒæŠ•ç¥¨çš„ attesterï¼Œä¸€ä¸ª attestation å°±æ˜¯ä¸€ä¸ª validator çš„æŠ•ç¥¨ï¼Œä¼šæ ¹æ® validator çš„ balance åŠ æƒã€‚
  - å¦‚æœå…¶ä»– validator æŠ•ç¥¨ç»™è¿™ä¸ª validator çš„ proposed blockï¼Œè¿™ä¸ª validator ä¼šæ”¶åˆ°å¥–åŠ±ã€‚
  - å½“ä¸€ä¸ª slot åˆ†é…çš„ validator æ²¡æœ‰ propose a blockï¼Œé‚£ä¹ˆè¿™ä¸ª slot å°±ç¼ºå°‘äº† blockï¼Œå¯èƒ½çš„åŸå› æ˜¯è¿™ä¸ª validator offline äº†ï¼Œæˆ–è€…æ²¡æœ‰è·Ÿ reset of network åŒæ­¥ï¼Œé‚£ä¹ˆè¿™ä¸ª validator å°±æ²¡æœ‰å¥–åŠ±ã€‚
  - validator ä¹‹é—´ä¹Ÿä¼šäº’ç›¸ç›‘ç£ï¼Œå¦‚æœä¸¾æŠ¥å…¶ä»– validator æŠ•ç¥¨å†²çªæˆ–è€…æå‡ºå¤šä¸ªåŒºå—å¯ä»¥æˆ–å¾—å¥–åŠ±ã€‚
  - Beacon Chain çš„ä¸»è¦å†…å®¹æ˜¯ validator addressï¼Œvalidator state ä»¥åŠ attestation çš„æ³¨å†Œè¡¨ã€‚
- Staking validators: semantics
  - validator æ˜¯è™šæ‹Ÿçš„ï¼Œç”± staker æ¿€æ´»ã€‚åœ¨ PoW ä¸­ï¼Œç”¨æˆ·é€šè¿‡è´­ä¹°ç¡¬ä»¶æˆä¸ºçŸ¿å·¥ï¼Œåœ¨ä»¥å¤ªåŠä¸­ï¼Œç”¨æˆ·é€šè¿‡è´¨æŠ¼ ETH æ¥æ¿€æ´»å’Œæ§åˆ¶ validatorã€‚
  - æ¯ä¸ª validator çš„æœ€å¤§ä½™é¢ä¸º 32 ä¸ª ETHï¼Œä½†æ˜¯è´¨æŠ¼ç€å¯ä»¥è´¨æŠ¼ä»–ä»¬æ‰€æœ‰çš„ ETHï¼Œæ¯è´¨æŠ¼ 32 ä¸ª ETHï¼Œå°±å°†æ¿€æ´»ä¸€ä¸ª validatorã€‚
  - validator ç”±ä½¿ç”¨ Beacon node çš„ validator clients æ‰§è¡Œã€‚ Beacon node å…·æœ‰è·Ÿè¸ªå’Œè¯»å– Beacon Chain çš„åŠŸèƒ½ã€‚ validator client å¯ä»¥å®ç° beacon node åŠŸèƒ½æˆ–è°ƒç”¨ beacon nodeã€‚ ä¸€ä¸ª validator client å¯ä»¥æ‰§è¡Œå¤šä¸ª validatorã€‚
- Committees
  - ä¸€ä¸ª committee æ˜¯ä¸€ç»„ validatorã€‚æ¯ä¸ª committee è¦æœ‰è‡³å°‘ 128 ä¸ª validatorã€‚æ”»å‡»è€…æ§åˆ¶ ä¸‰åˆ†ä¹‹äºŒ committee çš„æ¦‚ç‡ä¸åˆ°ä¸‡äº¿åˆ†ä¹‹ä¸€ã€‚
  - Beacon Chain é€šè¿‡ä¸€ç§ç§°ä¸º RANDAO çš„ä¼ªéšæœºè¿‡ç¨‹æ¥å¼ºåˆ¶å®ç°å…±è¯†ã€‚åœ¨æ¯ä¸€ä¸ª epochï¼Œä¸€ä¸ªä¼ªéšæœºè¿‡ç¨‹ RANDAO ä¸ºæ¯ä¸€ä¸ª slot é€‰æ‹© proposerï¼ˆæ ¹æ® validator balance æƒé‡ï¼‰ï¼Œå¹¶å°† validator åˆ†é…åˆ° committeeã€‚
  - validator æœ‰å¯èƒ½åœ¨åŒä¸€ä¸ª slot ä¸­æ—¢æ˜¯ proposer ä¹Ÿæ˜¯ committee ä¸­çš„ä¸€å‘˜ï¼Œä½†è¿™ä¸æ˜¯å¸¸æ€ã€‚
    ![committee](./img/muxin/committee.png)
  - åœ¨ committee ä¸­çš„ validator éœ€è¦ attest ä»–ä»¬ç›¸ä¿¡çš„ blockchain head æ˜¯å“ªä¸ªã€‚
  - å¯¹ Beacon Chain head attest è¢«å«åš LMD GHOST voteã€‚
  - æ¯ä¸ª epochï¼Œvalidator åªèƒ½åŠ å…¥ä¸€ä¸ª committeeã€‚ é€šå¸¸ï¼Œvalidator æ•°é‡è¶…è¿‡ 8192 åï¼šè¿™æ„å‘³ç€æ¯ä¸ª slot ä¼šæœ‰å¤šä¸ª committeeã€‚ æ‰€æœ‰ committee çš„è§„æ¨¡ç›¸åŒï¼Œå¹¶ä¸”è‡³å°‘æœ‰ 128 å validatorã€‚ å½“ validator æ•°é‡å°‘äº 4096 åæ—¶ï¼Œå®‰å…¨æ¦‚ç‡ä¼šé™ä½ï¼Œå› ä¸º committee çš„ validator æ•°é‡å°†å°‘äº 128 åã€‚
  - æ¯ä¸ª epoch ï¼Œvalidator éƒ½ä¼šå‡åŒ€åœ°åˆ†é…åˆ°å„ä¸ª slotï¼Œç„¶åå†ç»†åˆ†ä¸ºé€‚å½“è§„æ¨¡çš„ committeeã€‚ è¯¥ epoch ä¸­çš„æ‰€æœ‰ validator éƒ½å‘ Beacon Chain head æä¾›è¯æ˜ã€‚shuffling ç®—æ³•ä¼šå¢åŠ æˆ–å‡å°‘æ¯ä¸ª slot çš„ committee æ•°é‡ï¼Œä»¥ä½¿æ¯ä¸ª committee è‡³å°‘æœ‰ 128 ä¸ª validatorã€‚
- Beacon Chain Checkpoints
  - checkpoint æ˜¯ä¸€ä¸ª epoch ä¸­ç¬¬ä¸€ä¸ª slot çš„ blockï¼Œå¦‚æœè¿™ä¸ªå—ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆ checkpoint å°±æ˜¯å‰ä¸€ä¸ªæœ€è¿‘çš„å—ã€‚æ¯ä¸€ä¸ª epoch æ€»æ˜¯ä¼šæœ‰ä¸€ä¸ª checkpoint blockï¼Œä¸€ä¸ª block å¯ä»¥æ˜¯å¤šä¸ª epoch çš„ checkpointã€‚
  - ![checkpoint](./img/muxin/checkpoint.png)
  - EBB means epoch boundary blocksï¼Œå®ƒå¯ä»¥è¢«è®¤ä¸ºæ˜¯ checkpoint çš„åŒä¹‰è¯ã€‚
  - å½“è¿›è¡Œ LMD GHOST vote æ—¶ï¼Œvalidator ä¹Ÿä¼šæŠ•ç¥¨ç»™å½“å‰ epoch ä¸­çš„ checkpointï¼ˆç§°ä¸º targetï¼‰ã€‚ è¯¥æŠ•ç¥¨ç§°ä¸º Casper FFG voteï¼Œè¿˜åŒ…æ‹¬ä¸€ä¸ªç§°ä¸º source çš„å…ˆå‰ checkpointã€‚
  - åªæœ‰åˆ†é…ç»™æŸä¸ª slot çš„ validator æ‰ä¼šå¯¹è¯¥ slot è¿›è¡Œ LMD GHOST voteã€‚ ç„¶è€Œï¼Œæ‰€æœ‰ validator éƒ½ä¸ºæ¯ä¸ª epoch checkpoint æŠ• FFG ç¥¨ã€‚
  - æ‰€æœ‰æ´»è·ƒ validator æ€»ä½™é¢çš„ 2/3 è¿›è¡Œçš„æŠ•ç¥¨è¢«è§†ä¸ºç»å¯¹å¤šæ•°ï¼ˆSupermajorityï¼‰ã€‚ ä»æ•™å­¦è§’åº¦æ¥è¯´ï¼Œå‡è®¾æœ‰ä¸‰ä¸ªæ´»è·ƒ validatorï¼šä¸¤ä¸ª validator çš„ä½™é¢ä¸º 8 ETHï¼Œä¸€ä¸ª validator çš„ä½™é¢ä¸º 32 ETHã€‚ ç»å¯¹å¤šæ•°æŠ•ç¥¨å¿…é¡»åŒ…å«å”¯ä¸€ validator çš„æŠ•ç¥¨ï¼šå°½ç®¡å…¶ä»–ä¸¤ä¸ª validator çš„æŠ•ç¥¨å¯èƒ½ä¸å”¯ä¸€ validator ä¸åŒï¼Œä½†ä»–ä»¬æ²¡æœ‰è¶³å¤Ÿçš„ä½™é¢æ¥å½¢æˆç»å¯¹å¤šæ•°ã€‚
    - è¿™ä¸ªä¾‹å­æœ‰ç‚¹ä¸æ˜ç™½ï¼Œä¸€ä¸ª validator è¦è‡³å°‘æœ‰ 32 ETHï¼Œæ€ä¹ˆä¼šæœ‰ 8 ETH çš„æƒ…å†µå‘¢ï¼Ÿè¿˜æ˜¯çº¯æ˜¯ä¸ºäº†ä¸¾ä¾‹å­ï¼Ÿçº¯æ˜¯ä¸ºäº† Pedagogicallyï¼Ÿ

### 2024.4.25

Week 3

Pre-reading:

Beacon Chain explainer

refs:

- https://ethos.dev/beacon-chain
- https://ethereum.org/en/roadmap/beacon-chain/#what-is-the-beacon-chain

ä»€ä¹ˆæ˜¯ Beacon Chainï¼Ÿ

- Beacon Chain æ˜¯åŸå§‹çš„ POS åŒºå—é“¾çš„åç§°ï¼Œå‘å¸ƒäº 2020 å¹´ã€‚å®ƒçš„åˆ›å»ºæ˜¯ç¡®ä¿ POS å…±è¯†é€»è¾‘åœ¨ä»¥å¤ªåŠä¸»ç½‘ä¸Šå¯ç”¨ä¹‹å‰æ˜¯å¥å…¨å’Œå¯æŒç»­çš„ã€‚æœ€åˆï¼Œå®ƒæ˜¯è·Ÿ POW ä¸€èµ·è¿è¡Œçš„ã€‚å®ƒæ˜¯ä¸€æ¡â€œç©ºâ€çš„åŒºå—é“¾ï¼Œä½†å…³é—­ä»¥å¤ªåŠçš„ POW å¹¶åœ¨ä»¥å¤ªåŠä¸Šå¯ç”¨ POS éœ€è¦æŒ‡ç¤º Beacon Chain æ¥å— Execute Client çš„äº¤æ˜“æ•°æ®ï¼Œå°†å…¶æ†ç»‘åˆ°åŒºå—ä¸­ï¼Œç„¶åä½¿ç”¨åŸºäº POS çš„å…±è¯†æœºåˆ¶å°†å…¶ç»„ç»‡æˆåŒºå—é“¾ã€‚åŒæ—¶ï¼ŒåŸå§‹çš„ä»¥å¤ªåŠå®¢æˆ·ç«¯å…³é—­äº†ä»–ä»¬çš„æŒ–çŸ¿ã€åŒºå—ä¼ æ’­å’Œå…±è¯†é€»è¾‘ï¼Œå°†æ‰€æœ‰è¿™äº›äº¤ç»™äº† Beacon Chainã€‚è¿™ä¸ªäº‹ä»¶è¢«ç§°ä¸º The Mergeã€‚ä¸€æ—¦å‘ç”Ÿäº† The Mergeï¼Œå°±ä¸å†å­˜åœ¨ä¸¤ä¸ªåŒºå—é“¾äº†ã€‚å–è€Œä»£ä¹‹çš„æ˜¯åªæœ‰ä¸€ä¸ª POS çš„ä»¥å¤ªåŠï¼Œç°åœ¨æ¯ä¸ªèŠ‚ç‚¹éœ€è¦ä¸¤ç§ä¸åŒçš„å®¢æˆ·ç«¯ã€‚The Beacon Chain ç°åœ¨æ˜¯ CLï¼Œæ˜¯ä¸€ç»„å…±è¯†å®¢æˆ·ç«¯çš„ç‚¹å¯¹ç‚¹ç½‘ç»œï¼Œè´Ÿè´£å¤„ç†åŒºå—å…«å¦å’Œå…±è¯†é€»è¾‘ï¼Œè€ŒåŸå§‹çš„å®¢æˆ·ç«¯å½¢æˆ ELï¼Œè´Ÿè´£å…«å¦å’Œæ‰§è¡Œäº¤æ˜“ï¼Œå¹¶ç®¡ç†ä»¥å¤ªåŠçš„çŠ¶æ€ã€‚è¿™ä¸¤ä¸ªå±‚å¯ä»¥ä½¿ç”¨ Engine API è¿›è¡Œé€šä¿¡ã€‚

Slots and Epochs

- each slot is 12 seconds
  - ä¸€ä¸ª slot æ˜¯ä¸€ä¸ªåŒºå—è¢«æ·»åŠ åˆ° Beacon Chain çš„æœºä¼šã€‚åœ¨ç³»ç»Ÿæ­£å¸¸è¿è¡Œæ—¶ï¼Œæ¯ 12 ç§’å°±ä¼šæ·»åŠ ä¸€ä¸ªåŒºå—ã€‚Validator éœ€è¦ä¸æ—¶é—´å¤§è‡´åŒæ­¥ã€‚Beacon Chain åˆ›ä¸–å—ä½äº Slot 0ã€‚
- an epoch is 32 slots: 6.4 minutes

### 2024.4.22

Week 3

Pre-reading:

- Proof-of-stake(POS)
  - Crypto-economic security:
    - validator åº”ä¿æŒè¶³å¤Ÿçš„ç¡¬ä»¶å’Œè¿æ¥æ€§æ¥å‚ä¸åŒºå—éªŒè¯å’Œææ¡ˆã€‚
    - validator ä¼šå¾—åˆ° ETH å›æŠ¥ï¼Œè´¨æŠ¼ä½™é¢å¢åŠ 
    - å¦‚æœ validator is not available, æ²¡æœ‰å¥–åŠ±
    - å¦‚æœæœ‰ä¸è¯šå®è¡Œä¸ºï¼ˆåœ¨ä¸€ä¸ª slot æå‡ºå¤šä¸ªåŒºå—ï¼Œæäº¤ç›¸äº’çŸ›ç›¾çš„è®¤è¯ï¼‰ï¼Œè´¨æŠ¼å°†è¢«é”€æ¯
  - Fork choice:
    - POS Ethereum ä¸­ä½¿ç”¨çš„ç®—æ³•ç§°ä¸º [LMD-GHOST](https://arxiv.org/pdf/2003.03052.pdf)ã€‚å®ƒçš„å·¥ä½œåŸç†æ˜¯ç¡®å®šå…¶å†å²è®°å½•ä¸­å…·æœ‰æœ€å¤§è¯æ˜æƒé‡çš„åˆ†å‰ã€‚
  - POS and security:
    - è·Ÿ POW ä¸€æ ·ï¼ŒPOS ä¸­ä»ç„¶å­˜åœ¨ 51% çš„å¨èƒã€‚ä½†æ˜¯æ”»å‡»è€…å¿…é¡»è¦è·å¾— 51% çš„è´¨æŠ¼ ETHã€‚
    - 51% æ”»å‡»åªæ˜¯å…¶ä¸­ä¸€ç§æ¶æ„è¡Œä¸ºã€‚ ä¸è‰¯è¡Œä¸ºè€…å¯èƒ½ä¼šå°è¯•é•¿ç¨‹æ”»å‡»ï¼ˆå°½ç®¡æœ€ç»ˆç¡®å®šæ€§å°å·¥å…·æŠµæ¶ˆäº†è¿™ç§æ”»å‡»å‘é‡ï¼‰ã€çŸ­ç¨‹â€œé‡ç»„â€ï¼ˆå°½ç®¡æè®®è€…æƒé‡æå‡å’Œè®¤è¯æœŸé™å¯ä»¥ç¼“è§£è¿™ç§æƒ…å†µï¼‰ã€å¼¹è·³æ”»å‡»å’Œå¹³è¡¡æ”»å‡»ï¼ˆä¹Ÿå¯ä»¥é€šè¿‡æè®®è€…æƒé‡æå‡æ¥ç¼“è§£ï¼Œå¹¶ä¸”è¿™äº›æ”»å‡»åªèƒ½åœ¨ç†æƒ³åŒ–çš„ç½‘ç»œæ¡ä»¶ä¸‹æ¼”ç¤ºï¼‰æˆ–é›ªå´©æ”»å‡»ï¼ˆè¢«åªè€ƒè™‘æœ€æ–°æ¶ˆæ¯çš„åˆ†å‰é€‰æ‹©ç®—æ³•è§„åˆ™æŠµæ¶ˆï¼‰ã€‚
    - æ€»çš„æ¥è¯´ï¼ŒPOS åœ¨ç»æµæ–¹é¢æ¯” POW æ›´å®‰å…¨ã€‚
  - ä¼˜ç¼ºç‚¹ï¼š
    - ä¼˜ç‚¹ï¼š
      - stake ä½¿ä¸ªäººæ›´å®¹æ˜“å‚ä¸å…¶ä¸­ä¿éšœç½‘ç»œçš„å®‰å…¨ï¼Œä¿ƒè¿›å»ä¸­å¿ƒåŒ–ã€‚ validator èŠ‚ç‚¹å¯ä»¥åœ¨æ™®é€šç¬”è®°æœ¬ç”µè„‘ä¸Šè¿è¡Œã€‚ è´¨æŠ¼æ± è®©ç”¨æˆ·å¯ä»¥åœ¨æ²¡æœ‰ 32 ä¸ª ETH çš„æƒ…å†µä¸‹è´¨æŠ¼ã€‚
      - POS æ›´åŠ å»ä¸­å¿ƒåŒ–ã€‚ è§„æ¨¡ç»æµä¸åƒé€‚ç”¨äº POW æŒ–çŸ¿é‚£æ ·é€‚ç”¨äº POSã€‚
      - POS çš„åŠ å¯†ç»æµå®‰å…¨æ€§é«˜äº POW
      - éœ€è¦å‘è¡Œè¾ƒå°‘çš„æ–° ETH å°±å¯ä»¥æ¿€åŠ±ç½‘ç»œå‚ä¸è€…
    - ç¼ºç‚¹ï¼š
      - ä¸ POW ç›¸æ¯”ï¼ŒPOS ä»å¤„äºèµ·æ­¥é˜¶æ®µï¼Œå¹¶ä¸”ç»è¿‡çš„å®è·µæ£€éªŒè¾ƒå°‘ã€‚
      - å®ç° POS æ¯”å®ç° POW æ›´åŠ å¤æ‚ã€‚
      - ç”¨æˆ·éœ€è¦è¿è¡Œä¸‰ç§è½¯ä»¶æ‰èƒ½å‚ä¸ä»¥å¤ªåŠçš„ POSã€‚
  - compare to POW:
    - èƒ½æ•ˆæ›´é«˜ â€“ æ— éœ€åœ¨å·¥ä½œé‡è¯æ˜è®¡ç®—ä¸­ä½¿ç”¨å¤§é‡èƒ½æº
    - é—¨æ§›æ›´ä½ã€ç¡¬ä»¶è¦æ±‚ä¸‹é™ â€“ æ— éœ€è´­ä¹°é«˜æ€§èƒ½ç¡¬ä»¶ä»¥ä¾¿è·å¾—åˆ›å»ºæ–°åŒºå—çš„æœºä¼š
    - ä¸­å¿ƒåŒ–é£é™©é™ä½ â€“ æƒç›Šè¯æ˜åº”è¯¥å¯ä»¥å¢åŠ ä¿æŠ¤ç½‘ç»œå®‰å…¨çš„èŠ‚ç‚¹
    - ç”±äºèƒ½æºéœ€æ±‚ä½ï¼Œå‘è¡Œè¾ƒå°‘çš„ä»¥å¤ªå¸å°±å¯ä»¥æ¿€åŠ±å¤§å®¶å‚ä¸
    - ä¸å·¥ä½œé‡è¯æ˜ç›¸æ¯”ï¼Œå¯¹ä¸å½“è¡Œä¸ºçš„ç»æµå¤„ç½šè®© 51% æ”»å‡»çš„ä»£ä»·å˜å¾—æ›´é«˜
    - å¦‚æœ 51% æ”»å‡»æ˜¯ä¸ºäº†æ”»ç ´åŠ å¯†ç»æµçš„é˜²å¾¡ï¼Œé‚£ä¹ˆç¤¾åŒºå¯ä»¥æ±‚åŠ©äºè¯šå®é“¾çš„ç¤¾äº¤æ¢å¤

### 2024.4.21

Week 3

Pre-reading:

- Proof-of-stake(POS)
  - POS underlies Ethereumâ€™s consensus mechanisum
  - switch from POW to POS in 2022: more secure, less energy-intensive, better for implementing new scaling solutions
  - validator: deposit 32 ETH, run 3 software: execution client, consensus client, validator client.
  - how a transaction gets executed in Ethereum POS:
    - A user creates and signs aÂ transaction with their private key.
    - The transaction is submitted to an Ethereum execution client which verifies its validity.
    - If the transaction is valid, the execution client adds it to its local mempool (list of pending transactions) and also broadcasts it to other nodes over the execution layer gossip network.
    - One of the nodes on the network is the block proposer for the current slot, having previously been selected pseudo-randomly using RANDAO.
    - Other nodes receive the new beacon block on the consensus layer gossip network.
    - The transaction can be considered "finalized" if it has become part of a chain with a "supermajority link" between two checkpoints.

### 2024.4.20

Week 2

refs:

- https://epf.wiki/#/eps/week2
- https://ab9jvcjkej.feishu.cn/docx/BRDdd8kP9o00a2x6F4scRo0fnJh

P2P high-level

- execution layer operates on devp2p
- devp2p â‡’ sub-capability eth/68, eth/69, snap, whisper, les, wit
- devp2p protocol naming: eth/1 â†’ eth/2 â†’ eth/6.1 â†’ eth/6.2, then it changed to eth/60, eth/61â€¦ now is eth/68

- Responsibilities
  - historical data
    - GetBlockHeader
    - GetBlockBodies
    - GetReceipts
  - pending transactions
    - Transactions
    - NewPooledTransactionHashes: it comes along with eth/66
      - sending the list of transaction type, hashes, sizes to peer.
      - the goal is to reduce the bandwidth of the EL by sending the full transactions only to a square root of the peer, instead of every peer.
    - GetPooledTransactions: the peer will respond with the full transaction values
  - state
    - snap sync: 2-phase protocol
      - the 1st phase is contiguous state retrieval
      - 2nd is healing phase in order to sync the state trie

### 2024.4.19

Week 2

refs:

- https://epf.wiki/#/eps/week2
- https://ab9jvcjkej.feishu.cn/docx/BRDdd8kP9o00a2x6F4scRo0fnJh

EVM high level intro

- EVM call frame
  ![EVM call frame](./img/muxin/evm-call-frame.png)
- åœ¨è¿™é‡Œå¯ä»¥çœ‹åˆ° how does the stack machine worksï¼šhttps://www.evm.codes/playground
- different types of instructions:
  - arithmetic
  - bitwise
  - environment
  - control flow: https://github.com/lightclient/4788asm
  - stack ops
    - push, pop, swap
  - system
    - call, create, return, sstorage
  - memory
    - mload, mstore, mstore8

### 2024.4.18

Week2

refs:

- https://epf.wiki/#/eps/week2
- https://ab9jvcjkej.feishu.cn/docx/BRDdd8kP9o00a2x6F4scRo0fnJh

insertChain()

- verifyHeader(): checks whether a header conforms to the consensus rules of the stock Ethereum consensus engine.
  - verifyEIP1559Header(): verify some header attriibutes which were changed in EIP-1559
    - gas limit check
    - basefee check
- process():
  - usedGas: check the gas we used is qual to the gas used in the header
  - go through all the transactions in the block
    - ApplyTransaction - TransitionDb: a bunch of transaction level checking
  - Finalize(): implements consensus.Engine and processes withdrawals from beacon chain on top
  - return receipts
  - when the process is done, will update some metrics and then eventually write that block to state

æ‰©å±•å­¦ä¹ :

- EIP-1559: å®ƒæ‘†è„±äº† first-price auctionï¼ˆé«˜ä»·æ‹å–ï¼Œå‡ºä»·é«˜è€…è·èƒœï¼‰ ä½œä¸ºä¸»è¦ gas fee è®¡ç®—æ–¹æ³•ï¼Œè€Œæ˜¯ä¸‹ä¸€ä¸ªåŒºå—ä¸­åŒ…å«çš„äº¤æ˜“å°†æ”¶å–ç¦»æ•£çš„ â€œbase feeâ€ï¼Œå¯¹äºæƒ³è¦ä¼˜å…ˆå¤„ç†äº¤æ˜“çš„ç”¨æˆ·æˆ– applicationï¼Œä»–ä»¬å¯ä»¥æ·»åŠ å°è´¹ï¼Œè¿™ç§å°è´¹è¢«ç§°ä¸º priority feeï¼Œç”¨äºå‘çŸ¿å·¥æ”¯ä»˜è´¹ç”¨æ¥åŠ å¿«çº³å…¥é€Ÿåº¦ã€‚

### 2024.04.16

Week2

refs:

- https://epf.wiki/#/eps/week2
- https://ab9jvcjkej.feishu.cn/docx/BRDdd8kP9o00a2x6F4scRo0fnJh

State Transition Function

code: https://github.com/ethereum/go-ethereum/blob/master/eth/catalyst/api.go

- newPayload functionï¼šCL asks EL to verify the blockï¼Œå‚æ•°ï¼šExecutableDataï¼ˆthe data necessary to execute on EL payloadï¼‰
  - InsertBlockWithoutSetHead
  - VerifyHeader

è¿˜æ²¡çœ‹å®Œï¼Œæ˜å¤©ç»§ç»­

### 2024.4.14

Week2

refs:

- https://epf.wiki/#/eps/week2
- https://ab9jvcjkej.feishu.cn/docx/BRDdd8kP9o00a2x6F4scRo0fnJh

Block Building:

Execution Layer

build():

- parameters:
  - env: it has all the information, timestamp, block number, previous block, base fee, etc.
  - pool: a list of ordered transactions
  - state
- returns:
  - Block
  - StateDB
  - error?
- process:
  - æ˜¯ä¸€ä¸ªå¾ªç¯
  - keep tracking the gasUsed, è¦ check æœ‰æ²¡æœ‰åˆ°è¾¾ gas limit å¹¶ä¸” tx pool æ˜¯å¦ä¸ºç©º
  - ä» tx pool é‡Œ pop ä¸€ä¸ª transaction è¿›è¡Œ execution - vm.Run(env, tx, state)ï¼Œå¦‚æœæ²¡æœ‰ errorï¼ŒgasUsed += gasï¼Œcontinue next transaction
  - æœ€å retrun core.Finalize(env, txs, state), è¿™ä¸ª core.Finalize function æ˜¯å°† a bunch of transaction å’Œ block çš„å…¶ä»–ä¸€äº›ä¿¡æ¯åšè®¡ç®—å¤„ç†ï¼Œç”Ÿæˆä¸€ä¸ªå®Œå…¨ç®€å•çš„ block

### 2024.4.12

Week2

refs:

- https://epf.wiki/#/eps/week2
- https://ab9jvcjkej.feishu.cn/docx/BRDdd8kP9o00a2x6F4scRo0fnJh

Block validation:

Consensus Layer:

- [process_execution_playload](https://github.com/ethereum/consensus-specs/blob/dev/specs/deneb/beacon-chain.md#modified-process_execution_payload)
  å…ˆè¿›è¡Œä¸€ç³»åˆ—çš„æ ¡éªŒï¼šverify paret hash å’Œ previous execution payload header ä¸€è‡´æ€§ã€pre_randaoã€timestampã€commitments â‰¤ limitã€execution payloadï¼Œç„¶åå°† versioned_hashes å’Œ parent_beacon_block_root ä¼ åˆ° execution engineï¼ŒCL å’Œ EL çš„é€šä¿¡æ˜¯é€šè¿‡ execution engine å®ç°çš„ã€‚
- [notify_new_payload](https://github.com/ethereum/consensus-specs/blob/dev/specs/deneb/beacon-chain.md#modified-notify_new_payload)
  å°† execution playload å‘é€åˆ° execution engineï¼Œç„¶å execution client ä¼šæ‰§è¡Œ state transition functionã€‚

### 2024.4.11

ç¼ºå¸­

### 2024.4.10

ä»Šå¤©æ—¶é—´æœ‰é™ï¼Œå­¦ä¹ äº† Node å’Œ Client çš„å†…å®¹ï¼š

- Nodeï¼šä»»ä½•ä»¥å¤ªåŠå®¢æˆ·ç«¯è½¯ä»¶çš„å®ä¾‹ï¼Œå®ƒè¿æ¥åˆ°å…¶ä»–ä¹Ÿè¿è¡Œä»¥å¤ªåŠè½¯ä»¶çš„è®¡ç®—æœºï¼Œå½¢æˆä¸€ä¸ªç½‘ç»œã€‚
- Clientï¼šä»¥å¤ªåŠçš„å®ç°ï¼Œå®ƒæ ¹æ®åè®®è§„åˆ™éªŒè¯æ•°æ®å¹¶ä¿æŒç½‘ç»œå®‰å…¨ã€‚

ä¸€ä¸ª Node éœ€è¦è¿è¡Œä¸¤ç§å®¢æˆ·ç«¯è½¯ä»¶ï¼šconsensus client å’Œ execution clientã€‚

- consensus clientï¼šå®ç°æƒç›Šè¯æ˜å…±è¯†ç®—æ³•ï¼Œä½¿ç½‘ç»œèƒ½å¤Ÿæ ¹æ®æ¥è‡ª execution client çš„éªŒè¯æ•°æ®è¾¾æˆä¸€è‡´ã€‚ æ­¤å¤–è¿˜æœ‰åä¸ºâ€œéªŒè¯è€…â€çš„ç¬¬ä¸‰ç§è½¯ä»¶ï¼Œå®ƒä»¬å¯è¢«æ·»åŠ åˆ° consensus client ä¸­ï¼Œä½¿èŠ‚ç‚¹èƒ½å‚ä¸ä¿æŠ¤ç½‘ç»œå®‰å…¨ã€‚
- execution clientï¼šä¾¦å¬ç½‘ç»œä¸­å¹¿æ’­çš„æ–°äº¤æ˜“ï¼Œå¹¶åœ¨ EVM ä¸­æ‰§è¡Œå®ƒä»¬ï¼Œå¹¶ä¿å­˜æ‰€æœ‰å½“å‰ä»¥å¤ªåŠæ•°æ®çš„æœ€æ–°çŠ¶æ€å’Œæ•°æ®åº“ã€‚

client å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€å¼€å‘ï¼Œä½†æ˜¯éœ€è¦éµå¾ªåŒä¸€å¥—è§„èŒƒã€‚ä½¿ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€å®ç° clientï¼Œèƒ½å¤Ÿå‡å°‘å¯¹å•ä¸€ä»£ç åº“çš„ä¾èµ–ï¼Œé¿å…å•ç‚¹æ•…éšœï¼Œäº§ç”Ÿå¤šæ ·æ€§ï¼Œä¹Ÿèƒ½æ‹“å®½å¼€å‘è€…ç¤¾åŒºã€‚

å‡ ä¸ªå¯ä»¥è¿½è¸ªå½“å‰ä»¥å¤ªåŠç½‘ç»œä¸­èŠ‚ç‚¹çš„æƒ…å†µçš„ç½‘å€ï¼š

- https://etherscan.io/nodetracker
- https://ethernodes.org/
- https://nodewatch.io/

Node çš„ç±»å‹ï¼š

- Full nodeï¼šå…¨èŠ‚ç‚¹å¯¹åŒºå—é“¾è¿›è¡Œé€å—éªŒè¯ï¼ŒåŒ…æ‹¬ä¸‹è½½å’ŒéªŒè¯æ¯ä¸ªå—çš„å—ä½“å’ŒçŠ¶æ€æ•°æ®ã€‚ å…¨èŠ‚ç‚¹åˆ†å¤šç§ç±»åˆ«â€”â€”æœ‰äº›å…¨èŠ‚ç‚¹ä»åˆ›ä¸–åŒºå—å¼€å§‹ï¼ŒéªŒè¯åŒºå—é“¾æ•´ä¸ªå†å²ä¸­çš„æ¯ä¸€ä¸ªåŒºå—ã€‚ å¦ä¸€äº›å…¨èŠ‚ç‚¹åˆ™ä»æ›´è¿‘æœŸçš„åŒºå—å¼€å§‹éªŒè¯ï¼Œè€Œä¸”å®ƒä»¬ä¿¡ä»»è¿™äº›åŒºå—æ˜¯æœ‰æ•ˆçš„ï¼ˆå¦‚ Geth çš„â€œå¿«ç…§åŒæ­¥â€ï¼‰ã€‚ æ— è®ºéªŒè¯ä»å“ªé‡Œå¼€å§‹ï¼Œå…¨èŠ‚ç‚¹åªä¿ç•™ç›¸å¯¹è¾ƒæ–°æ•°æ®çš„æœ¬åœ°å‰¯æœ¬ï¼ˆé€šå¸¸æ˜¯æœ€è¿‘çš„ 128 ä¸ªåŒºå—ï¼‰ï¼Œå…è®¸åˆ é™¤æ¯”è¾ƒæ—§çš„æ•°æ®ä»¥èŠ‚çœç£ç›˜ç©ºé—´ã€‚ æ—§æ•°æ®å¯ä»¥åœ¨éœ€è¦æ—¶é‡æ–°ç”Ÿæˆã€‚
- Archive nodeï¼šå½’æ¡£èŠ‚ç‚¹æ˜¯ä»åˆ›ä¸–å—å¼€å§‹éªŒè¯æ¯ä¸ªåŒºå—çš„å…¨èŠ‚ç‚¹ï¼Œå®ƒä»¬ä»ä¸åˆ é™¤ä»»ä½•ä¸‹è½½çš„æ•°æ®ã€‚è¿™äº›æ•°æ®ä»¥å¤ªå­—èŠ‚ä¸ºå•ä½ï¼Œè¿™ä½¿å¾—å½’æ¡£èŠ‚ç‚¹å¯¹æ™®é€šç”¨æˆ·çš„å¸å¼•åŠ›è¾ƒä½ï¼Œä½†å¯¹äºåŒºå—æµè§ˆå™¨ã€é’±åŒ…ä¾›åº”å•†å’Œé“¾åˆ†æç­‰æœåŠ¡æ¥è¯´åˆ™å¾ˆæ–¹ä¾¿ã€‚
- Light nodeï¼šè½»èŠ‚ç‚¹åªä¸‹è½½åŒºå—å¤´ï¼Œè€Œä¸ä¼šä¸‹è½½æ¯ä¸ªåŒºå—ã€‚ è¿™äº›åŒºå—å¤´åŒ…å«åŒºå—å†…å®¹çš„æ‘˜è¦ä¿¡æ¯ã€‚ è½»èŠ‚ç‚¹ä¼šå‘å…¨èŠ‚ç‚¹è¯·æ±‚å…¶æ‰€éœ€çš„ä»»ä½•å…¶ä»–ä¿¡æ¯ã€‚ ç„¶åï¼Œè½»èŠ‚ç‚¹å¯ä»¥æ ¹æ®åŒºå—å¤´ä¸­çš„çŠ¶æ€æ ¹ç‹¬è‡ªéªŒè¯æ”¶åˆ°çš„æ•°æ®ã€‚ è½»èŠ‚ç‚¹å¯ä»¥è®©ç”¨æˆ·åŠ å…¥ä»¥å¤ªåŠç½‘ç»œï¼Œæ— éœ€è¿è¡Œå…¨èŠ‚ç‚¹æ‰€éœ€çš„åŠŸèƒ½å¼ºå¤§çš„ç¡¬ä»¶æˆ–é«˜å¸¦å®½ã€‚ æœ€ç»ˆï¼Œè½»èŠ‚ç‚¹ä¹Ÿè®¸èƒ½åœ¨æ‰‹æœºå’ŒåµŒå…¥å¼è®¾å¤‡ä¸­è¿è¡Œã€‚ è½»èŠ‚ç‚¹ä¸å‚ä¸å…±è¯†ï¼ˆå³å®ƒä»¬ä¸èƒ½æˆä¸ºçŸ¿å·¥/éªŒè¯è€…ï¼‰ï¼Œä½†å¯ä»¥è®¿é—®åŠŸèƒ½å’Œå®‰å…¨ä¿éšœå’Œå…¨èŠ‚ç‚¹ç›¸åŒçš„ä»¥å¤ªåŠåŒºå—é“¾ã€‚

### 2024.4.9

ä»Šå¤©ç»§ç»­å­¦ä¹ å›¾è§£ EVM çš„ PDFï¼šhttps://takenobu-hs.github.io/downloads/ethereum_evm_illustrated.pdf

- account æ˜¯ address å’Œ account state å¯¹åº”çš„ä¸€ä¸ª mappingã€‚

- account state åŒ…å«äº† nonceã€balanceã€storage hash(?) å’Œ EVM code hash(?)ã€‚

  - EOAï¼ˆexternally owned accountï¼‰æ˜¯ç”± private key æ§åˆ¶çš„ï¼Œå®ƒçš„ account state ä¸åŒ…å« storage å’Œ EVM codeã€‚
  - contract account æ˜¯ç”± EVM code æ¥æ§åˆ¶çš„ï¼Œå®ƒçš„ account state æ˜¯åŒ…å« storage å’Œ EVM code çš„ã€‚

- world state æ˜¯ account state çš„æ€»é›†åˆï¼Œå®ƒè®°å½•äº†æ‰€æœ‰ä»¥å¤ªåŠçš„è´¦æˆ·ä¿¡æ¯ï¼Œæ¯ä¸€ä¸ªä»¥å¤ªåŠèŠ‚ç‚¹ä¸­éƒ½ä¼šæœ‰ä¸€ä»½ç›¸åŒçš„ copyã€‚å½“æŸäº› account state å‘ç”Ÿäº†æ”¹å˜æ—¶ï¼Œworld state ä¹Ÿä¼šéšä¹‹å‘ç”Ÿæ”¹å˜ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ä»½ä¸æ–­å˜åŒ–çš„æ•°æ®ã€‚çŠ¶æ€çš„å˜åŒ–æ˜¯ä¸€ä¸ªè½¬ç§»çš„è¿‡ç¨‹ï¼Œæ¯å½“æœ‰æ–°çš„äº¤æ˜“äº§ç”Ÿæ—¶ï¼Œå°±ä¼šå¯¼è‡´ world state ä» Ïƒğ‘¡ è½¬ç§»åˆ° Ïƒğ‘¡+1ã€‚

### 2024.4.8

ä»Šå¤©å­¦ä¹ äº†ä¸€ä¸‹ EVM

å‚è€ƒèµ„æ–™ï¼š

- https://inevitableeth.com/home/ethereum/evm
- https://ethereum.org/en/developers/docs/evm/
- å›¾è§£ EVMï¼ˆæ¨èï¼ï¼‰ï¼šhttps://takenobu-hs.github.io/downloads/ethereum_evm_illustrated.pdf

EVMï¼ˆEthereum Virtual Machineï¼‰æ˜¯ä»¥å¤ªåŠçš„è®¡ç®—å¹³å°ï¼Œæ˜¯ä»¥å¤ªåŠçš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ï¼Œæ˜¯æ™ºèƒ½åˆçº¦çš„è¿è¡Œæ—¶ç¯å¢ƒï¼Œæ˜¯å›¾çµå®Œå¤‡çš„åˆ†å¸ƒå¼çŠ¶æ€æœºï¼ˆä»¥å¤ªåŠä¸æ˜¯åƒ BTC ä¸€æ ·çš„åˆ†å¸ƒå¼è´¦æœ¬ï¼Œé™¤äº†ä¿å­˜æ‰€æœ‰è´¦æˆ·å’Œä½™é¢ï¼Œå®ƒè¿˜ä¿å­˜äº†ä¸€ä¸ªæœºå™¨çŠ¶æ€ï¼‰ï¼Œæ˜¯åŸºäºæ ˆï¼ˆstackï¼‰çš„è™šæ‹Ÿæœºã€‚å®ƒè¿˜æä¾›äº†ä¸€ä¸ªæ²™ç›’ç¯å¢ƒï¼Œä¿è¯äº†æ™ºèƒ½åˆçº¦çš„æ‰§è¡Œæ˜¯éš”ç¦»çš„ï¼Œä¸å—å¤–ç•Œå› ç´ å½±å“ï¼Œç¡®ä¿äº†å®‰å…¨æ€§å’Œç¨³å®šæ€§ã€‚EVM è¿˜å†…ç½®äº†åŠ å¯†å­¦å‡½æ•°ï¼ŒåŒ…æ‹¬å“ˆå¸Œå’Œæ•°å­—ç­¾åç®—æ³•ï¼Œä½¿æ™ºèƒ½åˆçº¦èƒ½å¤Ÿè¿›è¡Œå®‰å…¨çš„åŠ å¯†æ“ä½œã€‚

EVM å…¼å®¹æ˜¯æŒ‡æä¾›äº†ç±»ä¼¼ EVM çš„ä»£ç æ‰§è¡Œç¯å¢ƒï¼Œå¯ä»¥æ–¹ä¾¿ä»¥å¤ªåŠå¼€å‘è€…å°†æ™ºèƒ½åˆçº¦è¿ç§»è‡³å…¼å®¹é“¾/å¹³å°ï¼Œä¸ç”¨å†é‡æ–°å¼€å‘ä¸€éã€‚æ¯”å¦‚ï¼šBSCã€Polygonã€Avalancheã€HECO ç­‰ã€‚

### 2024.4.7

ä»Šå¤©åšäº†ä¸€ä¸‹ä»¥å¤ªåŠå®˜ç½‘ä¸Šçš„ [quizzes](https://ethereum.org/en/quizzes/)ï¼Œå¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹å‡ºè‡ªå·±å“ªäº›å†…å®¹éœ€è¦å­¦ä¹ ï¼Œç‰¹åˆ«æ˜¯ Using Ethereum éƒ¨åˆ†ï¼Œä»Šå¤©å°±å…ˆæ•´ç†ä¸€ä¸‹é”™é¢˜ã€‚

1. ä»¥å¤ªåŠçš„å…±è¯†å±‚åœ¨è¢«å«åšå…±è¯†å±‚ä¹‹å‰æ˜¯è¢«ç§°ä½œ Eth2 çš„ï¼Œä½†æ˜¯åœ¨å‡çº§ä¹‹åå¦‚æœæœ‰äººæ‹¿ Eth2 æ¥è¡¨ç¤º Eth çš„å‡çº§åç‰ˆæœ¬ï¼Œä¸€èˆ¬éƒ½æ˜¯è¯ˆéª—çš„ã€‚
2. è¿™é“é¢˜é—®çš„æ˜¯å“ªä¸ªé€‰é¡¹æ˜¯ç”¨æ¥æ‰©å±•ä»¥å¤ªåŠçš„ï¼ŒLayer2 rollups æ†ç»‘äº¤æ˜“ã€Proto-Danksharding ä¸ºè¿™äº›æ•°æ®åˆ›å»ºå»‰ä»·çš„ä¸´æ—¶å­˜å‚¨ã€Danksharding å…±äº«å­˜å‚¨è´Ÿæ‹…ï¼Œä½¿æ‰€æœ‰ validator éƒ½èƒ½è®¿é—®ã€‚
3. Proto-Danksharding æ˜¯å¦‚ä½•åœ¨ rollups ä¸Šé™ä½ rollup transaction èŠ±è´¹çš„ï¼Ÿ
   Proto-Danksharding åˆ›å»ºäº†ä¸´æ—¶çš„ â€blobâ€œ å­˜å‚¨ï¼Œå¯ä»¥è®© rollups æ›´åŠ ä¾¿å®œçš„å°†ç»“æœå‘å¸ƒåˆ°ä¸»ç½‘ã€‚

4. å¯¹äº rollups æ‰©å±•ä»¥å¤ªåŠçš„å…³é”®çš„ä¸‹ä¸€æ­¥æ˜¯ä»€ä¹ˆï¼Ÿ
   å°† sequencers å’Œ provers çš„è´£ä»»åˆ†æ•£åˆ°æ›´å¤šäººçš„èº«ä¸Šã€‚å¯¹ rollup çš„æ§åˆ¶æ˜¯ä»ä¸­å¿ƒåŒ–å¼€å§‹çš„ï¼Œå› ä¸ºè¿™æœ‰åŠ©äºå¯åŠ¨ï¼Œä½†ä¹Ÿä½¿ network å®¹æ˜“æ”¶åˆ°å®¡æŸ¥ã€‚å°†äº¤æ˜“è¿‡ç¨‹å»ä¸­å¿ƒåŒ–å¤„ç†ï¼Œä½¿ä»»ä½•äººéƒ½å¯ä»¥å‚ä¸å…¶ä¸­ï¼Œå¯¹é˜²æ­¢ç½‘ç»œè¢«å¦¥åçš„å¯èƒ½æ€§è‡³å…³é‡è¦ã€‚

5. å¦‚æœä½ çš„èŠ‚ç‚¹ç¦»çº¿äº†ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ
   å½“ä½ çš„èŠ‚ç‚¹ä¸åœ¨çº¿çš„æ—¶å€™ï¼Œå®ƒå°†ä¸èƒ½ä»èŠ‚ç‚¹åŒæ­¥æ¥æ”¶åˆ°æ–°çš„äº¤æ˜“å’ŒåŒºå—ï¼Œæ‰€ä»¥ä¼šè·Ÿé“¾ä¸Šçš„å½“å‰çŠ¶æ€è„±èŠ‚ã€‚é‡æ–°è¿æ¥åˆ°ç½‘ç»œå°†ä½¿ä½ çš„èŠ‚ç‚¹è½¯ä»¶é‡æ–°åŒæ­¥ï¼Œä»¥ä¾¿å†æ¬¡å®Œå…¨æ­£å¸¸è¿è¡Œã€‚

6. ä¸€ä¸ª validator è¦è·å¾—ç›ˆåˆ©çš„æ­£å¸¸è¿è¡Œæ—¶é—´æ˜¯å¤šå°‘ï¼Ÿ
   ç­”æ¡ˆæ˜¯å¤§çº¦ 50%ï¼Œå¤„äºç¦»çº¿çŠ¶æ€çš„æ—¶é—´å¦‚æœæ˜¯ 50%ï¼Œä»ç„¶å¯ä»¥å®ç°ç›ˆåˆ©ï¼Œä½†æ˜¯æ¯”é‚£äº›æ›´åŠ å¯é å¯ç”¨çš„ validator è¦å°‘ã€‚

7. å¦‚æœä¸€ä¸ª validator ç¦»çº¿äº†ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ
   å½“ validator ä¸å¯ç”¨æ—¶ï¼Œä¼šäº§ç”Ÿå°é¢çš„ inactivity æƒ©ç½šï¼Œå¤§çº¦ç­‰äºæ­£ç¡®è¯æ˜æ‰€è·å¥–åŠ±çš„ 75%ã€‚åœ¨ç½•è§/æç«¯æƒ…å†µä¸‹ï¼Œå¦‚æœ network æœªå®Œæˆæœ€ç»ˆçŠ¶æ€ï¼ˆå³è¶…è¿‡ network çš„ 1/3 ä¹Ÿå¤„äºç¦»çº¿çŠ¶æ€ï¼‰ï¼Œè¿™äº›æƒ©ç½šå°†æ˜¾è‘—å¢åŠ ã€‚å½“ validator æ¢å¤åœ¨çº¿æ—¶ï¼Œå¥–åŠ±ä¼šæ¢å¤ï¼Œä¸ä¼šå‘ç”Ÿæƒ©ç½šã€‚

8. è¿è¡Œè¢«å¤§å¤šæ•°å…¶ä»– validator ä½¿ç”¨çš„ client ä¼šæ˜¯ä½ åœ¨è¯¥ client å­˜åœ¨è½¯ä»¶é”™è¯¯çš„æƒ…å†µä¸‹é¢ä¸´è¢« slashed çš„é£é™©ï¼Œè€Œè¿è¡Œå°‘æ•°äººä½¿ç”¨çš„ client å¯ä»¥é˜²æ­¢è¿™ç§æƒ…å†µå‘ç”Ÿã€‚

### 2024.4.6

ä»Šå¤©å­¦ä¹ çš„æ˜¯ Week 1 çš„å†…å®¹

> Week 1 pre-reading çš„è¿™éƒ¨åˆ† https://inevitableeth.com/home/ethereum/world-computer ä¹‹å‰æœ‰çœ‹è¿‡ï¼Œæ„Ÿè§‰é‡Œé¢ä»‹ç»çš„æ¯ä¸€ä¸ªæ¦‚å¿µéƒ½éœ€è¦å¥½å¥½æ·±å…¥å­¦ä¹ ï¼Œé‡Œé¢é’ˆå¯¹æ¯ä¸€ä¸ªæ¦‚å¿µä¹Ÿéƒ½æœ‰å¯¹åº”çš„ Deep Dive çš„é“¾æ¥ï¼Œæˆ‘æ˜¯æƒ³å…ˆå°è¯•å­¦ä¹  protocol çš„éƒ¨åˆ†ï¼Œå¦‚æœæ¶‰åŠåˆ°äº†ä¸æ‡‚çš„åœ°æ–¹å†å›å¤´è¡¥ä¸Šã€‚

æ²¡æœ‰çœ‹è§†é¢‘ï¼Œå­¦ä¹ å†…å®¹æ¥æºï¼š

- https://epf.wiki/#/eps/week1?id=study-group-week-1-protocol-intro
- https://twitter.com/EIPFun/status/1759938839890522603 æ„Ÿè°¢ Chloe çš„æ•´ç†

**1. Prehistory and Philosophy**

è¿™é‡Œæåˆ°äº† UNIXï¼Œå®ƒæ˜¯ä¸€ä¸ªé‡æ–°å®šä¹‰äº†è®¡ç®—èŒƒå¼çš„æ“ä½œç³»ç»Ÿå’Œå“²å­¦ã€‚è¿™ä¸ªèŒƒå¼å·²ç»ä½¿ç”¨äº† 50 å¤šå¹´ï¼Œä»æœªçœŸæ­£æ”¹å˜è¿‡ã€‚å…¶æ¨¡å—åŒ–çš„åŸºæœ¬æ¦‚å¿µå¯¹ä»¥å¤ªåŠçš„è®¾è®¡å’Œè´å°”å®éªŒå®¤çš„å¼€æ”¾åä½œç¯å¢ƒæœ‰é‡è¦æ„ä¹‰ã€‚å¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ªè§†é¢‘ï¼ˆfrom Dennis Ritchie and Ken Thompsonï¼‰ï¼šhttps://yewtu.be/watch?v=tc4ROCJYbm0ã€‚

è¿™é‡Œè¿˜æåˆ°äº†è‡ªç”±è½¯ä»¶è¿åŠ¨æ˜¯ä»¥å¤ªåŠå’Œæ‰€æœ‰åŠ å¯†è´§å¸çš„åŸºç¡€ã€‚ä»¥å¤ªåŠçš„å¼€æ”¾ã€ç‹¬ç«‹å’Œåä½œå¼€å‘æ–‡åŒ–æ·±æ·±æ¤æ ¹äº FOSSï¼ˆFree and Open Source Softwareï¼‰ï¼Œä»¥å¤ªåŠéœ€è¦åœ¨è½¯ä»¶ä¸­é€æ˜åœ°å®ç°ï¼Œä¸ºç”¨æˆ·æä¾›å……åˆ†çš„è‡ªç”±ã€‚æ‰©å±•é˜…è¯»åœ¨åé¢ï¼Œéœ€è¦äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯ free softwareï¼Œä»¥åŠå®ƒçš„é‡è¦æ€§ã€‚

éå¯¹ç§°å¯†ç å­¦çš„å‘æ˜æ ‡å¿—ç€å¯†ç å­¦åº”ç”¨æ–°èŒƒå¼çš„è¯ç”Ÿã€‚

**2. Ethereum Protocol Design**

ç›®å‰çš„åè®®è§„èŒƒæ˜¯ç”± Python å®ç°çš„ï¼ŒåŒ…æ‹¬äº†ï¼šExection specs å’Œ Consensus specsï¼Œå¹¶ä¸”ä¼šåœ¨ EIP ç¤¾åŒºä¸­è¿›è¡Œå˜æ›´çš„è·Ÿè¸ªã€‚æ¯æ¬¡ç½‘ç»œå‡çº§ä¹Ÿéƒ½ä¼šè¿›è¡Œåè®®çš„æ›´æ–°ï¼Œä½†æ˜¯æ€»ä¼šéµå¾ªè¿™å‡ ä¸ªåŸåˆ™ï¼šSimplicity, Universality, Modularity, Non-discrimination, Agilityã€‚

**3. Implementations and Development**

æ‰§è¡Œå±‚ï¼ˆELï¼‰å’Œå…±è¯†å±‚ï¼ˆCLï¼‰çš„å®ç°ç§°ä¸ºå®¢æˆ·ç«¯ï¼Œè¿è¡Œæ­¤å®¢æˆ·ç«¯å¹¶è¿æ¥åˆ°ç½‘ç»œçš„è®¡ç®—æœºç§°ä¸ºèŠ‚ç‚¹ã€‚å¹¶ä¸”ä»¥å¤ªåŠæ˜¯å…è®¸ä½¿ç”¨ä¸ç”¨è¯­è¨€æ¥å®ç°ï¼Œç»è¿‡æ—¶é—´çš„æ´—ç¤¼ï¼Œæœ‰äº›ä¹Ÿå·²ç»åºŸå¼ƒäº†ï¼Œè¿™é‡Œæ˜¯åˆ—è¡¨https://ethereum.org/en/developers/docs/nodes-and-clients/#execution-clientsã€‚æœ‰å…³ EL å’Œ CL ä¼šåœ¨ä¹‹åè¿›è¡Œè¯¦ç»†çš„å­¦ä¹ ã€‚

![execution-clients-language](./img/muxin/execution-clients-language.png)

**4. Testing**

ç”±äºæœ‰å®šæœŸçš„å˜æ›´å’Œå¤šä¸ªå®¢æˆ·ç«¯çš„å®ç°ï¼Œæµ‹è¯•å¯¹äº network å®‰å…¨æ¥è¯´æ˜¯éå¸¸é‡è¦çš„ï¼Œæ ¹æ®ä¸åŒçš„åœºæ™¯/å®¢æˆ·ç«¯ä¹Ÿä¼šæœ‰ä¸åŒçš„æµ‹è¯•å·¥å…·ã€‚ åŒ…æ‹¬ state transition testing, fuzzing, shadow forks, RPC tests, client unit tests and CI/CD ç­‰ã€‚

**5. Coordination**

ä»¥å¤ªåŠä¸åƒä¸­å¿ƒåŒ–çš„å…¬å¸ï¼Œå®ƒæ˜¯å®Œå…¨å»ä¸­å¿ƒåŒ–ã€å…¬å¼€çš„ç»„ç»‡ï¼Œä»»ä½•äººéƒ½å¯ä»¥å‚ä¸è´¡çŒ®ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥å‚ä¸åˆ°ä»¥å¤ªåŠä¸­è‡ªå·±æœ€æ„Ÿå…´è¶£çš„éƒ¨åˆ†ï¼Œå…¶ä¸­å¼€å‘çš„ï¼ˆæ–°çš„ feature æˆ– changesï¼‰æµç¨‹æ˜¯ï¼šidea - research - development - testing - adoptionï¼Œå¦‚æœå¤§å®¶æœ‰é—®é¢˜ã€ideaã€ä»¥åŠè·å–æœ€æ–°çš„ updateï¼Œéƒ½å¯ä»¥å»ç¤¾åŒºå†…å®šæœŸçš„ä¼šè®®ï¼ˆACDï¼Œå¯ä»¥åœ¨ https://github.com/ethereum/pm æŸ¥çœ‹ schedule å’Œ notesï¼‰ã€discordï¼ˆhttps://discord.com/invite/qGpsxSAï¼‰ã€forumï¼ˆhttps://twitter.com/EthMagiciansï¼Œhttps://twitter.com/ethresearchbotï¼‰ç­‰ã€‚

é‡Œé¢æåˆ°çš„ä¸€äº›æ¯”è¾ƒæ„Ÿå…´è¶£éœ€è¦é¢å¤–å­¦ä¹ çš„æ–‡æ¡£æˆ–ä¹¦ç±ï¼ˆTODOï¼‰ï¼š

- https://www.deusinmachina.net/p/history-of-unix
- https://yewtu.be/watch?v=Ag1AKIl_2GM
- https://www.gnu.org/philosophy/free-sw.html
- https://ethereum.org/en/whitepaper/#ethereum-whitepaper
- https://ethereum.github.io/yellowpaper/paper.pdf
- https://ethroadmap.com/
- https://archive.devcon.org/archive/
- https://www.camirusso.com/book è¿™æœ¬ä¹¦çœ‹è¿‡ä¸­æ–‡ç¿»è¯‘ç‰ˆæœ¬ï¼Œç¿»è¯‘çš„æ¯”è¾ƒæ··ä¹±ï¼Œæœ‰æ—¶é—´å¯ä»¥åœ¨çœ‹ä¸€ä¸‹åŸç‰ˆ
- https://www.goodreads.com/book/show/55360267-out-of-the-ether
- https://www.routledge.com/Absolute-Essentials-of-Ethereum/Dylan-Ennis/p/book/9781032334189
- https://github.com/ethereumbook/ethereumbook
- è¿˜æœ‰ä¸€ä¸ª Ethereum quizï¼Œæ˜å¤©å¯ä»¥åšä¸€ä¸‹

### 2024.4.5

ä»Šå¤©å­¦ä¹ äº† Week 0 Pre-reading çš„éƒ¨åˆ†

**1. Cryptography**

ä¹‹å‰æ²¡æœ‰ç³»ç»Ÿçš„äº†è§£è¿‡ï¼Œæ‰€ä»¥è¿™æ¬¡ç¨å¾®èŠ±äº†ç‚¹æ—¶é—´

å¯†ç å­¦åˆ†ä¸ºå¤å…¸å¯†ç å­¦å’Œç°ä»£å¯†ç å­¦ï¼š

- å¤å…¸å¯†ç å­¦ï¼šä¸»è¦å…³æ³¨ä¿¡æ¯çš„ä¿å¯†ä¹¦å†™å’Œä¼ é€’ï¼Œä»¥åŠä¸å…¶å¯¹åº”çš„ç ´è¯‘æ–¹æ³•ï¼Œæ¯”è¾ƒä¾èµ–äºè®¾è®¡è€…å’Œæ•Œæ‰‹çš„åˆ›é€ åŠ›ä¸æŠ€å·§ï¼Œä½œä¸ºä¸€ç§å®ç”¨æ€§è‰ºæœ¯å­˜åœ¨ã€‚ç®€å•æ¥è¯´åŠ å¯†å°±æ˜¯æŠŠæ™®é€šä¿¡æ¯è½¬æ¢æˆéš¾ä»¥ç†è§£çš„ä¿¡æ¯ï¼Œè§£å¯†å°±æ˜¯ç›¸åçš„è¿‡ç¨‹ã€‚æ¯”è¾ƒå¸¸ç”¨åœ¨æˆ˜äº‰ã€å®—æ•™ï¼ˆåŠ å¯†è§‚ç‚¹ï¼Œå…é­è¿«å®³ï¼‰ã€â€œæƒ…ä¹¦â€ç­‰ã€‚
  - Caesar cipherï¼ˆå‡¯æ’’å¯†ç ï¼‰ï¼šä½¿ç”¨çš„æ˜¯æ›¿æ¢æ³•ï¼Œæ¯ä¸ªå­—æ¯è¢«å¾€åä½ç§»ä¸‰ä¸ªå­—æ¯æ‰€æ›¿ä»£ã€‚
  - VigenÃ¨re cipherï¼ˆç»´å‰å°¼äºšå¯†ç ï¼‰ï¼šä½¿ç”¨çš„æ˜¯å¤šå­—ç¬¦åŠ å¯†æ³•ï¼ŒåŠ å¯†é‡å¤ä½¿ç”¨åˆ°ä¸€ä¸ªå…³é”®è¯ï¼Œç”¨å“ªä¸ªå­—æ¯å–ä»£ç«¯è§†è½®æ›¿åˆ°å…³é”®å­—çš„å“ªä¸ªå­—æ¯è€Œå®šã€‚
  - Enigma machineï¼ˆæ©å°¼æ ¼ç›å¯†ç æœºï¼‰ï¼šæ˜¯å¾·å›½åœ¨ç¬¬äºŒæ¬¡ä¸–ç•Œå¤§æˆ˜ä¸­çš„é‡è¦å·¥å…·ã€‚
- ç°ä»£å¯†ç å­¦ï¼šé™¤äº†å…³æ³¨ä¿¡æ¯ä¿å¯†é—®é¢˜å¤–ï¼Œè¿˜æ¶‰åŠä¿¡æ¯éªŒè¯ç ã€æ•°å­—ç­¾åã€åˆ†å¸ƒå¼è®¡ç®—ä¸­äº§ç”Ÿçš„ä¿¡æ¯å®‰å…¨é—®é¢˜ã€‚
  - symmetric-key encryptionï¼ˆå¯¹ç§°å¯†é’¥åŠ å¯†ï¼‰ï¼šæ¶ˆæ¯è¢«ä¸€ä¸ªå¯†é’¥ key åŠ å¯†ï¼Œæ¶ˆæ¯å‘é€è€…ä¼šæŠŠå¯†é’¥ key å’ŒåŠ å¯†åçš„æ¶ˆæ¯å‘é€ç»™æ¥æ”¶è€…ï¼Œåªè¦æœ‰å¯†é’¥ key å°±èƒ½å°†å¯¹åº”çš„åŠ å¯†æ¶ˆæ¯è§£å¯†ã€‚ä½†é—®é¢˜æ˜¯éœ€è¦ä¿è¯å¯†é’¥ key çš„å®‰å…¨æ€§ã€‚
  - asymmetric encryptionï¼ˆéå¯¹ç§°åŠ å¯†ï¼‰ï¼šæœ‰ä¸€å¯¹åŠ å¯†å¯†é’¥ï¼ˆå…¬é’¥-ç”±ç§é’¥æŒ‰ç€ä¸€å®šè§„åˆ™ç”Ÿæˆï¼Œa large numberï¼‰å’Œè§£å¯†å¯†é’¥ï¼ˆç§é’¥- a large and random numberï¼‰ï¼Œç”¨åŠ å¯†å¯†é’¥åŠ å¯†åçš„æ¶ˆæ¯åªèƒ½é€šè¿‡è§£å¯†å¯†é’¥æ¥è§£å¯†ï¼Œæ‰€ä»¥å¿…é¡»è¦çŸ¥é“ä¸¤ä¸ªå¯†é’¥æ‰èƒ½è§£å¯†ã€‚
  - digital signatureï¼ˆæ•°å­—ç­¾åï¼‰ï¼šç±»ä¼¼äºæ‰‹å†™ç­¾åï¼Œä½¿ç”¨äº†å…¬é’¥åŠ å¯†æŠ€æœ¯ï¼Œç­¾åè€…ç”Ÿæˆä¸€å¯¹å¯†é’¥ï¼ˆå…¬é’¥å’Œç§é’¥ï¼‰ï¼Œç§é’¥ç”¨äºç”Ÿæˆæ•°å­—ç­¾åï¼Œå…¬é’¥ç”¨äºéªŒè¯ç­¾åçš„çœŸå®æ€§ã€‚æ•°å­—ç­¾åå…·æœ‰å®Œæ•´æ€§ã€è®¤è¯æ€§å’Œä¸å¯å¦è®¤æ€§ã€‚
  - signal protocolï¼ˆåŠ å¯†é€šä¿¡åè®®ï¼‰ï¼šç”± Signal Messenger å…¬å¸å¼€å‘ï¼Œè¢«å¹¿æ³›ç”¨äºå„ç§å³æ—¶é€šè®¯åº”ç”¨ä¸­ï¼Œå¦‚ Signalã€WhatsApp å’Œ Facebook Messengerã€‚å®ƒæä¾›äº†ç«¯åˆ°ç«¯åŠ å¯†ï¼Œç¡®ä¿æ¶ˆæ¯åªèƒ½è¢«å‘é€æ–¹å’Œæ¥æ”¶æ–¹é˜…è¯»ï¼Œä¸ä¼šè¢«ä¸­é—´äººçªƒå–å’Œç¯¡æ”¹ã€‚

Hashingï¼š
Hash æ˜¯å°†ä»»æ„é•¿åº¦çš„è¾“å…¥æ•°æ®é€šè¿‡å“ˆå¸Œå‡½æ•°è½¬æ¢æˆå›ºå®šé•¿åº¦çš„è¾“å‡ºæ•°æ®çš„è¿‡ç¨‹ï¼Œå¯¹äºä¸åŒçš„è¾“å…¥æ•°æ®ï¼Œå“ˆå¸Œå‡½æ•°åº”è¯¥ç”Ÿæˆä¸åŒçš„å“ˆå¸Œå€¼ï¼Œå³ä½¿è¾“å…¥æ•°æ®å˜åŒ–å¾ˆå°ï¼Œç”Ÿæˆçš„å“ˆå¸Œå€¼ä¹Ÿä¼šæœ‰å¤§å¹…åº¦å˜åŒ–ï¼Œä¸”å“ˆå¸Œå‡½æ•°æ˜¯å•å‘çš„ï¼Œä½ æ— æ³•é€šè¿‡å“ˆå¸Œå€¼è¿˜åŸå‡ºåŸå§‹è¾“å…¥æ•°æ®ã€‚

**2. Merkle tree in Bitcoin**

åœ¨åŒºå—é“¾ä¸­ï¼Œæ¯ä¸€ä¸ªåŒºå—å¤´éƒ¨éƒ½åŒ…å«äº†ä¸€ä¸ªç§°ä¸º Merkle æ ¹çš„å“ˆå¸Œå€¼ï¼Œå®ƒæ˜¯ç”±åŒºå—ä¸­æ‰€æœ‰äº¤æ˜“æ•°æ®æ„å»ºçš„ Merkle æ ‘çš„æ ¹èŠ‚ç‚¹çš„å“ˆå¸Œå€¼ã€‚åœ¨å½¢æˆä¸€ä¸ªæ–°çš„åŒºå—æ—¶ï¼Œäº¤æ˜“æ•°æ®ä¼šè¢«ç»„ç»‡æˆ Merkle æ ‘ã€‚é¦–å…ˆï¼Œå¯¹æ¯ä¸ªäº¤æ˜“æ•°æ®è¿›è¡Œå•ç‹¬çš„å“ˆå¸Œè¿ç®—å¾—åˆ°å¶å­èŠ‚ç‚¹ã€‚ç„¶åï¼Œä¾æ¬¡å°†ç›¸é‚»çš„å¶å­èŠ‚ç‚¹ä¸¤ä¸¤é…å¯¹ï¼Œå¹¶è®¡ç®—å®ƒä»¬çš„å“ˆå¸Œå€¼ã€‚å¦‚æ­¤åå¤ï¼Œç›´åˆ°åªå‰©ä¸‹ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œå³ Merkle æ ¹ã€‚

å½“å…¶ä»–èŠ‚ç‚¹æ¥æ”¶åˆ°æ–°çš„åŒºå—æ—¶ï¼Œå®ƒä»¬å¯ä»¥é€šè¿‡æ¯”å¯¹åŒºå—å¤´éƒ¨ä¸­çš„ Merkle æ ¹ä¸äº¤æ˜“æ•°æ®ä¸­çš„å“ˆå¸Œå€¼æ¥éªŒè¯äº¤æ˜“æ•°æ®çš„å®Œæ•´æ€§ã€‚åªéœ€è·å–åˆ°å°‘é‡çš„æ•°æ®å’Œ Merkle æ ‘çš„æ ¹èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹å³å¯é€šè¿‡é€’å½’åœ°æ¯”å¯¹å“ˆå¸Œå€¼éªŒè¯æ•´ä¸ªåŒºå—ä¸­çš„äº¤æ˜“æ•°æ®æ˜¯å¦è¢«ç¯¡æ”¹ã€‚å®ƒåªéœ€è¦é€šè¿‡æ¯”å¯¹æ ‘çš„æ ¹èŠ‚ç‚¹æ¥éªŒè¯æ•´ä¸ªåŒºå—ä¸­çš„äº¤æ˜“æ•°æ®ï¼Œè€Œä¸éœ€è¦è·å–æ•´ä¸ªåŒºå—çš„æ•°æ®ï¼Œæ‰€ä»¥æå‡äº†éªŒè¯äº¤æ˜“æ•°æ®çš„é«˜æ•ˆæ€§ã€‚

![merkle tree](./img/muxin/merkle-tree.png)

**3. P2P network**

ç‚¹å¯¹ç‚¹çš„åˆ†å¸ƒå¼ç½‘ç»œï¼Œæ²¡æœ‰ä¸­å¿ƒåŒ–æœåŠ¡å™¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯å¯¹ç­‰çš„ï¼Œå¯ä»¥äº’ç›¸é€šä¿¡ã€äº¤æ¢èµ„æºå’Œå…±äº«ä¿¡æ¯ã€‚åœ¨ä»¥å¤ªåŠä¸­ä¸»è¦åº”ç”¨åœ¨ï¼šåŒºå—ä¼ æ’­ã€äº¤æ˜“ä¼ æ’­ã€çŠ¶æ€åŒæ­¥ã€å…±è¯†ç®—æ³•ã€å‘ç°èŠ‚ç‚¹ç­‰ã€‚

**4. Bittorrent**

ä¸€ç§ç”¨äºæ–‡ä»¶å…±äº«çš„åè®®ï¼Œå®ƒæ˜¯ä¸€ä¸ªåŸºäº P2P network çš„åè®®ï¼Œæ—¨åœ¨å®ç°é«˜æ•ˆçš„å¤§è§„æ¨¡æ–‡ä»¶åˆ†å‘ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒä½¿ç”¨åˆ†å¸ƒå¼çš„æ–¹å¼è¿›è¡Œæ–‡ä»¶ä¼ è¾“ï¼Œæ–‡ä»¶è¢«åˆ’åˆ†æˆå°å—ï¼Œè¿™äº›å°å—ç”±ä¸åŒçš„èŠ‚ç‚¹å…±äº«å’Œä¸‹è½½ï¼Œæé«˜äº†ä¸‹è½½æ•ˆç‡ã€‚

ï¼ˆæ–‡ä»¶çš„å…±äº«è€…ä¼šåˆ›å»ºä¸€ä¸ªç§å­æ–‡ä»¶ï¼ˆ.torrent ï¼‰ï¼Œå®ƒåŒ…å«äº†æ–‡ä»¶çš„å…ƒæ•°æ®ä¿¡æ¯ã€å“ˆå¸Œå€¼ä»¥åŠ tracker åœ°å€ç­‰ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½é€šè¿‡ä¸‹è½½ç§å­æ–‡ä»¶æ¥è·å–æ–‡ä»¶çš„ä¿¡æ¯ã€‚Tracker æ˜¯ä¸€ä¸ªæœåŠ¡å™¨ï¼Œç”¨äºåè°ƒå„ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥å’Œæ•°æ®ä¼ è¾“ã€‚å½“ç”¨æˆ·æƒ³è¦ä¸‹è½½æŸä¸ªæ–‡ä»¶æ—¶ï¼Œä»–ä»¬çš„ Bittorrent å®¢æˆ·ç«¯ä¼šå‘ Tracker å‘é€è¯·æ±‚ï¼Œè·å–å…¶ä»–æ‹¥æœ‰ç›¸åŒæ–‡ä»¶çš„èŠ‚ç‚¹çš„ä¿¡æ¯ã€‚ï¼‰
